"use strict";(self.webpackChunkupro_web=self.webpackChunkupro_web||[]).push([[214],{"./components/NavigationBar/NavigationBar.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,Example:()=>Example,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _lib_storybook_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./components/lib/storybook/common.ts"),_NavigationBar__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./components/NavigationBar/NavigationBar.tsx"),_content__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./components/NavigationBar/content.ts");const __WEBPACK_DEFAULT_EXPORT__={title:"Blocks/NavigationBar",component:_NavigationBar__WEBPACK_IMPORTED_MODULE_1__.A},stories=(0,_lib_storybook_common__WEBPACK_IMPORTED_MODULE_0__.fe)(_content__WEBPACK_IMPORTED_MODULE_2__.Q),Default=stories.Default,Example=stories.Example,__namedExportsOrder=["Default","Example"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"stories.Default",...Default.parameters?.docs?.source}}},Example.parameters={...Example.parameters,docs:{...Example.parameters?.docs,source:{originalSource:"stories.Example",...Example.parameters?.docs?.source}}}},"./components/ContentProvider/ContentProvider.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),_components_hooks__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./components/hooks.ts");__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const ContentProvider=({props,defaultContent,children})=>{const sanitised=(0,_components_hooks__WEBPACK_IMPORTED_MODULE_1__.F)(props.content,defaultContent);if(!sanitised)return null;const renderProps={content:sanitised,context:props.context,settings:props.settings};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:children(renderProps)})},__WEBPACK_DEFAULT_EXPORT__=ContentProvider;ContentProvider.__docgenInfo={description:"",methods:[],displayName:"ContentProvider",props:{props:{required:!0,tsType:{name:"BlockComponentProps",elements:[{name:"T"}],raw:"BlockComponentProps<T>"},description:""},defaultContent:{required:!0,tsType:{name:"Partial",elements:[{name:"T"}],raw:"Partial<T>"},description:""},children:{required:!0,tsType:{name:"signature",type:"function",raw:"(renderProps: ContentProviderRenderProps<T>) => React.ReactNode",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{\n  content: SanitisedContent<T>;\n  context: BlockComponentProps<T>['context'];\n  settings: BlockComponentProps<T>['settings'];\n}",signature:{properties:[{key:"content",value:{name:"SanitisedContent",elements:[{name:"T"}],raw:"SanitisedContent<T>",required:!0}},{key:"context",value:{name:"BlockComponentProps['context']",raw:"BlockComponentProps<T>['context']",required:!0}},{key:"settings",value:{name:"BlockComponentProps['settings']",raw:"BlockComponentProps<T>['settings']",required:!0}}]}},name:"renderProps"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:""}}}},"./components/NavigationBar/NavigationBar.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>NavigationBar_NavigationBar});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),ContentProvider=__webpack_require__("./components/ContentProvider/ContentProvider.tsx"),content=__webpack_require__("./components/NavigationBar/content.ts"),next_link=__webpack_require__("./node_modules/next/link.js"),link_default=__webpack_require__.n(next_link);__webpack_require__("./node_modules/console-browserify/index.js");function safeLink(link){return{href:link.href||"#",target:link.target||"_self"}}const NavigationBarItem=({link,children})=>(0,jsx_runtime.jsx)("li",{className:"p-3",children:(0,jsx_runtime.jsx)(link_default(),{className:"hover:text-slate-900",...safeLink(link),children})}),NavigationBar_NavigationBarItem=NavigationBarItem;NavigationBarItem.__docgenInfo={description:"",methods:[],displayName:"NavigationBarItem"};var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),NavigationBarMenu_console=__webpack_require__("./node_modules/console-browserify/index.js");const NavigationBarMenu=({label,children})=>{const[isOpen,setOpen]=(0,react.useState)(!1),menuRef=(0,react.useRef)(null);(0,react.useEffect)((()=>{const handleClickOutside=event=>{menuRef.current&&!menuRef.current.contains(event.target)&&setOpen(!1)};return document.addEventListener("mousedown",handleClickOutside),document.addEventListener("touchstart",handleClickOutside),()=>{document.removeEventListener("mousedown",handleClickOutside),document.removeEventListener("touchstart",handleClickOutside)}}),[]);const handleToggle=()=>{NavigationBarMenu_console.log("handleToggle",isOpen),setOpen((prev=>!prev))};return(0,jsx_runtime.jsxs)("li",{className:"relative flex items-center gap-1 rounded-md p-3",onMouseEnter:()=>setOpen(!0),onMouseLeave:()=>setOpen(!1),ref:menuRef,children:[(0,jsx_runtime.jsx)("button",{className:"hover:text-slate-900","aria-expanded":isOpen,onClick:handleToggle,children:label}),(0,jsx_runtime.jsxs)("button",{className:"shrink-0 p-1","aria-expanded":isOpen,onClick:handleToggle,children:[(0,jsx_runtime.jsxs)("span",{className:"sr-only",children:['Show submenu for "',label,'"']}),(0,jsx_runtime.jsx)("svg",{className:"h-3 w-3 fill-slate-500 transition "+(isOpen?"rotate-0":"-rotate-90"),xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",children:(0,jsx_runtime.jsx)("path",{d:"M10 2.586 11.414 4 6 9.414.586 4 2 2.586l4 4z"})})]}),isOpen&&(0,jsx_runtime.jsx)("ul",{className:"absolute left-1/2 top-full min-w-[240px] origin-top-right -translate-x-1/2 transform rounded-lg border border-slate-200 bg-white p-2 shadow-xl transition duration-200",children})]})},NavigationBar_NavigationBarMenu=NavigationBarMenu;NavigationBarMenu.__docgenInfo={description:"",methods:[],displayName:"NavigationBarMenu"};const NavigationBarMenuItem=({label,link})=>(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)(link_default(),{className:"flex items-center p-2 hover:bg-slate-50",...safeLink(link),children:(0,jsx_runtime.jsx)("span",{className:"whitespace-nowrap",children:label})})}),NavigationBar_NavigationBarMenuItem=NavigationBarMenuItem;function itemToLink(item){return{href:item.url||"#",target:item.target||"_self"}}function isValidNavItem(item){return!!item.label&&!!item.url}NavigationBarMenuItem.__docgenInfo={description:"",methods:[],displayName:"NavigationBarMenuItem"};const NavigationBar=props=>(0,jsx_runtime.jsx)(ContentProvider.A,{props,defaultContent:content.Q.default,children:({content})=>{const{items}=content;return(0,jsx_runtime.jsx)("nav",{className:"flex w-full items-center justify-center",children:(0,jsx_runtime.jsx)("ul",{className:"flex flex-wrap",children:items.map(((item,key)=>"NavigationItemGroup"===item._type?(0,jsx_runtime.jsx)(NavigationBar_NavigationBarMenu,{label:item.label||"",children:item.items.map(((subItem,subKey)=>{var _subItem_label;return isValidNavItem(subItem)&&(0,jsx_runtime.jsx)(NavigationBar_NavigationBarMenuItem,{link:itemToLink(subItem),label:null!==(_subItem_label=subItem.label)&&void 0!==_subItem_label?_subItem_label:""},subKey)}))},key):isValidNavItem(item)?(0,jsx_runtime.jsx)(NavigationBar_NavigationBarItem,{link:itemToLink(item),children:item.label},key):null))})})}}),NavigationBar_NavigationBar=NavigationBar;NavigationBar.__docgenInfo={description:"",methods:[],displayName:"NavigationBar"}},"./components/NavigationBar/content.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Q:()=>content});const content={default:{items:[]},example:{items:[{_type:"NavigationItemGroup",label:"Company",items:[{label:"About Unilever Pro",target:"_self",url:"/about"},{label:"Contact us",target:"_self",url:"/contact"}]},{_type:"NavigationItemGroup",label:"Resources",items:[{label:"Blog",target:"_self",url:"/blog"},{label:"SDS sheets",target:"_self",url:"/sds"},{label:"Whitepapers",target:"_self",url:"/whitepapers"}]},{_type:"NavigationItemGroup",label:"Legal",items:[{label:"Privacy policy",target:"_self",url:"/privacy-policy"},{label:"Terms and conditions",target:"_self",url:"/terms-and-conditions"}]}]}}},"./components/hooks.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>useSanitisedContent,c:()=>useTranslations});const defaultValues={string:"",number:0,boolean:!1,array:[],object:{}},stringKeys=["title","subtitle","name","description"],numberKeys=["count","index","number"],booleanKeys=["is","has","should"],arrayKeys=["items","list","actions"],isObject=val=>"object"==typeof val&&null!==val;function sanitiseContent(data,defaults={}){return function processValue(value,key,parentDefaults={}){if(""===key&&(!isObject(value)||isObject(value)&&0===Object.keys(value).length))return parentDefaults;if(null==value){const defaultValue=parentDefaults[key];return void 0!==defaultValue?defaultValue:stringKeys.includes(key)?defaultValues.string:numberKeys.includes(key)?defaultValues.number:arrayKeys.includes(key)?defaultValues.array:booleanKeys.some((i=>key.startsWith(i)))?defaultValues.boolean:defaultValues.string}if(Array.isArray(value))return value.map((item=>"object"==typeof item?processValue(item,key,parentDefaults[key]):item));if("object"==typeof value){const processedObject={};for(const[k,v]of Object.entries(value))processedObject[k]=processValue(v,k,parentDefaults);return processedObject}return value}(data,"",null!=defaults?defaults:{})}function createTypeGuard(){return function isValid(data){return"object"==typeof data&&null!==data&&function checkValue(value){return null!=value&&(Array.isArray(value)?value.every(checkValue):"object"!=typeof value||Object.values(value).every(checkValue))}(data)}}var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const useTranslations=translations=>(0,react.useMemo)((()=>({t:(key,fallback)=>(null==translations?void 0:translations[key])||fallback})),[translations]),useSanitisedContent=(content,defaultContent)=>(0,react.useMemo)((()=>{const sanitised=sanitiseContent(content,defaultContent);return createTypeGuard()(sanitised)?sanitised:null}),[content,defaultContent])},"./components/lib/storybook/common.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{fe:()=>generateStories});const context={market:"gb",language:"en",slug:[]},settings={market:"GB",language:"en",retailers:[{title:"Amazon",image:{_type:"image",asset:{_type:"reference",_ref:"image-8c2f6c3a5d5c4d7f8f0f6d4b1d6e5b7f"}},domains:["amazon.co.uk"]}],translations:{ContactForm:{NAME_FIELD_LABEL:"Name",EMAIL_FIELD_LABEL:"Email",PHONE_FIELD_LABEL:"Phone number",MESSAGE_FIELD_LABEL:"Message",SUBMIT_BUTTON_LABEL:"Submit"}}};function generateStories(content){return{Default:{args:{content:content.default,context,settings}},Example:{args:{content:content.example,context,settings}}}}}}]);