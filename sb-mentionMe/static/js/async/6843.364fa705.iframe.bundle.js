"use strict";(globalThis.webpackChunk_mention_me_frontend=globalThis.webpackChunk_mention_me_frontend||[]).push([["6843"],{"./src/client/reporting/share-messages/__mocks__/shareMessageAnalysis.ts":function(e,s,a){a.d(s,{q:function(){return n}});var i=a("./src/shared/@types/graphql.ts");let n={themes:[{type:i.xd.ValuePropAndUsps,title:"Ethical Values and Sustainability",relevantMessages:["I really like the value this place has","This was that eco-brand I was talking about last week!","Brand values align with mine","Their new ad campaign really opened my eyes on sustainable products and services"],summaryText:"The brand's commitment to ethical values and sustainability is a key factor that customers appreciate. Messages indicate that the brand's ethos aligns with the personal values of customers, who are not only interested in the products themselves but also in supporting a company with a responsible approach to business and the environment.",__typename:"ShareMessageInfo"},{type:i.xd.KeyInsights,title:"Gifting",relevantMessages:["It is perfect for gifting","You will love this site. Go over and check it out. Enjoy","Great place to buy gifts!","Do you want something from here for Xmas?","If you ever feel like buying me something special ;)","Hey babe gift for you","Pleeeaaaasseee shop from here for me on Christmas"],summaryText:"Many customers consider the brand's offerings as ideal gifts for special occasions. The combination of quality, design, and brand reputation makes these products sought-after as presents for loved ones.",__typename:"ShareMessageInfo"},{type:i.xd.Language,title:"Emotive and Inclusive Language",relevantMessages:["Hi pal","I saw this and thought of you","Here you go - lots of love xxx","your welcome mate","Loved this place so sharing the love with you!","Fab, you'll love it"],summaryText:"The language used in the messages is emotive and inclusive, creating a sense of community and shared experience among customers. Phrases like 'a little bit of love', 'sharing the love', and 'youâ€™re worth it' suggest that the brand fosters a positive and supportive environment that resonates with customers, encouraging them to engage with the brand and each other.",__typename:"ShareMessageInfo"}],error:null,__typename:"ShareMessageAnalysis"}},"./src/client/reporting/share-messages/components/ShareMessagesPageCardContent.tsx":function(e,s,a){a.d(s,{Z:()=>ek});var i=a("../node_modules/react/jsx-runtime.js"),n=a("../node_modules/@mention-me/flamingo-ui/build/index.es.js"),t=a("../node_modules/react-i18next/dist/es/index.js"),r=a("./src/client/reporting/share-messages/hooks/useShareMessageAnalytics.ts"),o=a("../node_modules/react/index.js"),l=a("../node_modules/react-router-dom/esm/react-router-dom.js"),d=a("./src/shared/components/AIPoweredLabel/index.ts"),h=a("./src/shared/hooks/index.ts"),m=a("./src/shared/hooks/usePostHog/index.ts"),c=a("./src/shared/utilities/index.ts"),g=a("./src/client/reporting/hooks/ReportingContext.tsx"),u=a("./src/client/reporting/share-messages/components/ShareMessagesAnalysisInformationBoxes/ShareMessagesAnalysisInformationBoxes.styled.tsx");let p=e=>{let{totalMessages:s}=e,{t:a}=(0,t.$G)("reporting",{keyPrefix:"share-messages.analysis.information-box"}),{postHog:r}=(0,m.U)();return(0,o.useEffect)(()=>{null==r||r.capture("share-messages-insufficient-data")},[r]),(0,i.jsx)(n.eg,{variant:"info","data-auto-class":"not-enough-share-message-information-box",isFullWidth:!0,children:(0,i.jsxs)(n.eg.Body,{children:[(0,i.jsx)(u.h,{"data-auto-class":"information-box-header",children:a("not-enough-data.header","We don't have enough share messages just yet")}),(0,i.jsx)(n.M,{"data-auto-class":"information-box-body",children:a("not-enough-data.body","There's only been {{count}} unique share messages sent, we need at least 20 share messages to perform this analysis.",{count:s})})]})})};p.__docgenInfo={description:"",methods:[],displayName:"NotEnoughDataInformationBox",props:{totalMessages:{required:!0,tsType:{name:"number"},description:""}}};var y=a("./src/client/reporting/share-messages/components/ShareMessagesAnalysisInformationBoxes/OldDataInformationBox.tsx"),x=JSON.parse('{"v":"5.9.6","fr":30,"ip":0,"op":31,"w":200,"h":100,"nm":"Dots Loader","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"bubble 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.25,"y":1},"o":{"x":0.167,"y":0},"t":15,"s":[146.291,50.001,0],"to":[1.035,-31.25,0],"ti":[-0.215,-42.25,0]},{"t":30,"s":[100.001,50.001,0]}],"ix":2,"l":2},"a":{"a":0,"k":[71.5,72.5,0],"ix":1,"l":2},"s":{"a":0,"k":[34,34,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,21.704],[25.773,0],[0,-21.704],[-6.486,-6.749],[-3.916,-2.207]],"o":[[0,0],[25.773,0],[0,-21.704],[-25.773,0],[0,9.358],[2.956,3.077],[0,0]],"v":[[-25.926,46.667],[0,31.93],[46.667,-7.368],[0,-46.667],[-46.667,-7.368],[-36.296,17.334],[-25.926,25.312]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.298039227724,0.341176480055,0.901960790157,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[72.284,70.166],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":31,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"bubble 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.25,"y":1},"o":{"x":0.29,"y":0},"t":0,"s":[100.001,50.001,0],"to":[-0.215,40.25,0],"ti":[-0.785,36.5,0]},{"i":{"x":0.25,"y":1},"o":{"x":0.29,"y":0},"t":15,"s":[53.709,50.001,0],"to":[0.166,-7.713,0],"ti":[0,0,0]},{"t":30,"s":[53.709,50.001,0]}],"ix":2,"l":2},"a":{"a":0,"k":[71.5,72.5,0],"ix":1,"l":2},"s":{"a":0,"k":[34,34,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,21.704],[25.773,0],[0,-21.704],[-6.486,-6.749],[-3.916,-2.207]],"o":[[0,0],[25.773,0],[0,-21.704],[-25.773,0],[0,9.358],[2.956,3.077],[0,0]],"v":[[-25.926,46.667],[0,31.93],[46.667,-7.368],[0,-46.667],[-46.667,-7.368],[-36.296,17.334],[-25.926,25.312]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.129411771894,0.090196080506,0.29411765933,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[72.284,70.166],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":31,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"bubble 1 ","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.25,"y":1},"o":{"x":0.29,"y":0},"t":0,"s":[53.709,50.001,0],"to":[0.965,-32.5,0],"ti":[-1.021,-34.485,0]},{"i":{"x":0.25,"y":1},"o":{"x":0.29,"y":0},"t":15,"s":[100.001,50.001,0],"to":[1.242,41.965,0],"ti":[2.535,31.5,0]},{"t":30,"s":[146.291,50.001,0]}],"ix":2,"l":2},"a":{"a":0,"k":[71.5,72.5,0],"ix":1,"l":2},"s":{"a":0,"k":[34,34,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,21.704],[25.773,0],[0,-21.704],[-6.486,-6.749],[-3.916,-2.207]],"o":[[0,0],[25.773,0],[0,-21.704],[-25.773,0],[0,9.358],[2.956,3.077],[0,0]],"v":[[-25.926,46.667],[0,31.93],[46.667,-7.368],[0,-46.667],[-46.667,-7.368],[-36.296,17.334],[-25.926,25.312]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0,0.725490196078,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[72.284,70.166],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":31,"st":0,"ct":1,"bm":0}],"markers":[]}'),v=a("../node_modules/lottie-react/build/index.umd.js"),f=a.n(v),k=a("../node_modules/styled-components/dist/styled-components.browser.esm.js");let b=k.ZP.div.withConfig({displayName:"ShareMessagesAnalysisLoading.styled__Container"})(["width:100%;display:flex;flex-direction:column;align-items:center;padding-bottom:",";"],(0,n.W0)(4)),j=(0,k.ZP)(f()).withConfig({displayName:"ShareMessagesAnalysisLoading.styled__AnimationContainer"})(["height:150px;"]),w=(0,k.ZP)(n.H4).withConfig({displayName:"ShareMessagesAnalysisLoading.styled__AnimationTitle"})(["margin-bottom:",";"],(0,n.W0)(1)),_=e=>{let{isOverview:s}=e,{t:a}=(0,t.$G)("reporting",{keyPrefix:"share-messages.loading"}),[r,l]=(0,o.useState)(1);return(0,o.useEffect)(()=>{let e=setInterval(()=>{l(e=>(e+1)%6)},1e4);return()=>clearInterval(e)},[]),(0,i.jsx)(n.M2,{shouldWrap:!!s,wrapper:e=>(0,i.jsx)(n.Zb,{children:e}),children:(0,i.jsxs)(b,{children:[(0,i.jsx)(j,{animationData:x,"aria-labelledby":"sentiment-insights-loading"}),(0,i.jsx)(w,{children:a("title","Analysing your advocates' share messages")}),(0,i.jsx)(n.S,{children:a(`sub-title-${r}`,"Analysing your advocates' share messages...")})]})})};_.__docgenInfo={description:"",methods:[],displayName:"ShareMessagesAnalysisLoading",props:{isOverview:{required:!1,tsType:{name:"boolean"},description:""}}};var S=a("./src/shared/components/Slider/index.ts"),N=a("./src/shared/context/posthog/PostHogProvider.tsx"),M=a("./src/shared/hooks/useMedia/index.ts"),I=a("./src/client/reporting/share-messages/hooks/useShareMessageAnalysis.ts");let C=e=>e?1:3,A=e=>{let{handleClick:s}=e,{t:a}=(0,t.$G)("reporting",{keyPrefix:"share-messages.analysis.information-box"}),{postHog:r}=(0,m.U)();return(0,o.useEffect)(()=>{null==r||r.capture("share-messages-api-error")},[r]),(0,i.jsxs)(n.eg,{variant:"warning","data-auto-class":"api-error-information-box","data-ph":"share-message-analysis-api-error",isFullWidth:!0,children:[(0,i.jsxs)(n.eg.Body,{children:[(0,i.jsx)(u.h,{"data-auto-class":"information-box-header",children:a("analysis-error.header","Something's gone wrong")}),(0,i.jsx)(n.M,{"data-auto-class":"information-box-body",children:(0,i.jsx)(t.cC,{t:a,i18nKey:"analysis-error.body",children:"There's been an error generating your analysis. Please try running the analysis again"})})]}),(0,i.jsx)(n.eg.Buttons,{children:(0,i.jsx)(n.zx,{colourTheme:"dark",onClick:s,children:a("analysis-error.run-again","Run again")})})]})};A.__docgenInfo={description:"",methods:[],displayName:"AnalysisErrorInformationBox",props:{handleClick:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};var P=a("../node_modules/@heroicons/react/24/solid/esm/ArrowRightCircleIcon.js"),T=a("./src/shared/components/index.ts");let Z=k.ZP.div.withConfig({displayName:"ShareMessagesAnalysisSlider.styled__Header"})(["display:flex;align-items:flex-start;justify-content:space-between;min-width:100%;margin-bottom:",";"],(0,n.W0)(2));(0,n.W0)(2);let V=(0,k.ZP)(n.H4).withConfig({displayName:"ShareMessagesAnalysisSlider.styled__Heading"})(["margin-bottom:",";"],(0,n.W0)(2));(0,n.W0)(2),(0,n.W0)(1),(0,n.W0)(2);let W=(0,k.ZP)("div").withConfig((0,n.NZ)("isOverview")).withConfig({displayName:"ShareMessagesAnalysisSlider.styled__Content"})(["display:grid;grid-template-columns:1fr;height:100%;gap:",";","{","}"],(0,n.W0)(2),(0,n.mq)("lgMin","min"),e=>{let{isOverview:s}=e;return!s&&(0,k.iv)(["grid-template-columns:repeat(3,1fr);"])}),D=(0,k.ZP)(P.Z).withConfig({displayName:"ShareMessagesAnalysisSlider.styled__ArrowIcon"})(["width:24px !important;height:24px !important;"]);(0,k.ZP)(T.WW).withConfig({displayName:"ShareMessagesAnalysisSlider.styled__Help"})(["margin-left:",";font-weight:",";"],(0,n.W0)(.5),(0,n.Ue)("h5"));let B=k.ZP.div.withConfig({displayName:"ShareMessagesAnalysisSlider.styled__InfoBoxContainer"})(["margin-bottom:",";"],(0,n.W0)(2)),L=(0,k.ZP)(n.Zb).withConfig({displayName:"ShareMessagesAnalysisSlider.styled__Card"})(["height:unset;margin-bottom:",";"],(0,n.W0)(3));var E=a("../node_modules/@heroicons/react/24/solid/esm/LightBulbIcon.js"),q=a("./src/shared/@types/graphql.ts"),G=a("./src/shared/hooks/useZendeskWidget/index.ts"),F=a("./src/client/reporting/share-messages/components/ShareMessageBubble.tsx");let O=k.ZP.div.withConfig({displayName:"ShareMessagesInsightsModal.styled__InsightContainer"})(["margin-top:",";"],(0,n.W0)(1)),H=k.ZP.div.withConfig({displayName:"ShareMessagesInsightsModal.styled__MessageGrid"})(["display:grid;grid-template-columns:1fr 1fr;grid-gap:20px;align-items:start;margin-top:",";margin-bottom:",";"],(0,n.W0)(2),(0,n.W0)(2)),U=(0,k.ZP)(n.H4).withConfig({displayName:"ShareMessagesInsightsModal.styled__InsightTitle"})(["margin-bottom:",";"],(0,n.W0)(2)),$=(0,k.ZP)(n.H5).withConfig({displayName:"ShareMessagesInsightsModal.styled__ShareMessageTitle"})(["margin-top:",";margin-bottom:",";"],(0,n.W0)(2),(0,n.W0)(1)),Y=k.ZP.div.withConfig({displayName:"ShareMessagesInsightsModal.styled__Header"})(["display:flex;justify-content:space-between;align-items:flex-start;"]),K=e=>{let{variant:s}=e,{t:a}=(0,t.$G)("reporting",{keyPrefix:"share-messages.modal"});switch(s){case q.xd.ValuePropAndUsps:return(0,i.jsxs)(t.cC,{t:a,i18nKey:"value-prop",children:[(0,i.jsx)(n.M,{children:"Weâ€™ve identified this as a value proposition. This is what your advocates see as a key value of your brand."}),(0,i.jsxs)(n.M,{children:["Consider:",(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"Checking if your brand messaging aligns with what customers are are saying"}),(0,i.jsx)("li",{children:"Tailoring your marketing based on your insights"}),(0,i.jsx)("li",{children:"Identify new scenario/situations customers use your product for and launching marketing campaign around this"}),(0,i.jsx)("li",{children:"Validate a new product launch with sharing message insights"})]})]})]});case q.xd.Language:return(0,i.jsx)(t.cC,{t:a,i18nKey:"language",children:(0,i.jsxs)(n.M,{children:["Consider:",(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"Reviewing the tone of voice used in your social media"}),(0,i.jsx)("li",{children:"Informing your overall marketing strategy"}),(0,i.jsx)("li",{children:"Optimise the language used for your referral campaigns to improve conversion"}),(0,i.jsx)("li",{children:"Reviewing the type of language used in social media and paid ads"})]})]})});case q.xd.KeyInsights:default:return(0,i.jsx)(t.cC,{t:a,i18nKey:"keyInsights",children:(0,i.jsx)(n.M,{children:"This is an overall trend thatâ€™s seen throughout your messages, and can help you to understand the key themes within your advocate sharing messages."})})}};K.__docgenInfo={description:"",methods:[],displayName:"ShareMessagesInsightsText",props:{variant:{required:!0,tsType:{name:"ShareMessageAnalysisTypeEnum"},description:""}}};let z=e=>{let{variant:s}=e,{t:a}=(0,t.$G)("reporting",{keyPrefix:"share-messages.labels"});switch(s){case q.xd.ValuePropAndUsps:return(0,i.jsx)(n.__,{variant:"classification",backgroundColour:"UltraViolet60Dark",children:a("value-proposition","USP")});case q.xd.Language:return(0,i.jsx)(n.__,{variant:"classification",backgroundColour:"Gold60Dark",children:a("language","Language")});case q.xd.KeyInsights:default:return(0,i.jsx)(n.__,{variant:"classification",backgroundColour:"BlueFont",children:a("theme","Theme")})}};z.__docgenInfo={description:"",methods:[],displayName:"ShareMessagesTypeLabel",props:{variant:{required:!0,tsType:{name:"ShareMessageAnalysisTypeEnum"},description:""}}};let R=e=>{let{closeModal:s,isOpen:a,title:r,summary:o,type:l=q.xd.KeyInsights,relevantMessages:d}=e,{t:h}=(0,t.$G)("reporting",{keyPrefix:"share-messages.modal"});return(0,G.KF)({shouldBeHidden:a}),(0,i.jsx)(n.u_,{isOpen:a,onClose:s,modalVariant:"drawer-right",modalSize:"md",id:"share-message-insights-modal",children:(0,i.jsxs)(n.u_.Content,{children:[(0,i.jsxs)(n.u_.Header,{children:[(0,i.jsx)(n.H5,{children:h("insights","Insights")}),(0,i.jsx)(n.u_.CloseButton,{})]}),(0,i.jsxs)(n.u_.Body,{children:[(0,i.jsxs)(Y,{children:[(0,i.jsx)(U,{children:r}),(0,i.jsx)(z,{variant:l})]}),(0,i.jsx)(n.M,{children:o}),(0,i.jsx)($,{children:h("example-share-messages-title","Example share messages from customers")}),(0,i.jsx)(H,{children:d.map(e=>(0,i.jsx)(F.Z,{message:e,shouldShowFullMessage:!0},e))}),(0,i.jsxs)(n.eg,{variant:"dark",isFullWidth:!0,id:"share-message-insights-modal",children:[(0,i.jsx)(n.eg.Icon,{children:(0,i.jsx)(E.Z,{})}),(0,i.jsxs)(n.eg.Body,{children:[(0,i.jsx)(n.H5,{children:h("using-this-insight","Using this insight")}),(0,i.jsx)(O,{children:(0,i.jsx)(K,{variant:l})})]})]})]}),(0,i.jsx)(n.u_.Footer,{children:(0,i.jsx)(n.zx,{variant:"secondary",onClick:()=>s(),children:h("close-modal","Close")})})]})})};R.__docgenInfo={description:"",methods:[],displayName:"ShareMessagesInsightsModal",props:{closeModal:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},isOpen:{required:!0,tsType:{name:"boolean"},description:""},title:{required:!0,tsType:{name:"string"},description:""},summary:{required:!0,tsType:{name:"string"},description:""},type:{required:!1,tsType:{name:"ShareMessageAnalysisTypeEnum"},description:"",defaultValue:{value:"ShareMessageAnalysisTypeEnum.KeyInsights",computed:!0}},relevantMessages:{required:!0,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""}}};let X=e=>{let{isAdopt:s,isOverview:a}=e,{t:r}=(0,t.$G)("reporting",{keyPrefix:"share-messages.analysis.slider"}),{analysis:l,loading:d,refetch:h}=(0,I.Z)(s),[m,{open:c,close:g}]=(0,n.OT)(!1),[u,p]=(0,o.useState)(null),{postHog:y}=(0,N.U)(),x=C(a),v=(0,M.Z)(["(min-width: 1201px)"],[!0],!1),f=(0,o.useMemo)(()=>{var e,s,t;let o=e=>{p(e),c(),null==y||y.capture("share-message-analysis-see-actions",{type:e.type})},h=[];if(d||!l||(null==l?void 0:l.error)||!(null==l?void 0:null===(e=l.themes)||void 0===e?void 0:e.length))return h;for(let e=0;e<(null==l?void 0:null===(s=l.themes)||void 0===s?void 0:s.length);e+=x)h.push((0,i.jsx)(W,{isOverview:a,children:null==l?void 0:null===(t=l.themes)||void 0===t?void 0:t.slice(e,e+x).map(e=>{if(!e)return null;let{type:s,title:t,summaryText:l}=e;return(0,i.jsxs)(n.Zb,{variant:"border",children:[(0,i.jsx)(n.Zb.Title,{children:(0,i.jsx)(n.H4,{children:t})}),(0,i.jsx)(n.Zb.Info,{children:(0,i.jsx)(z,{variant:s})}),(0,i.jsx)(n.Zb.Body,{children:(0,i.jsx)(n.S,{children:l})}),(0,i.jsx)(n.Zb.Buttons,{children:!a&&(0,i.jsxs)(n.zx,{onClick:()=>o(e),size:"small",children:[r("see-actions","See actions"),(0,i.jsx)(D,{})]})})]},t)})}));return h},[d,l,r,p,c,y,x,a]);return d?(0,i.jsx)(_,{}):(null==l?void 0:l.error)?(0,i.jsx)(A,{handleClick:()=>{h()}}):f.length?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(R,{closeModal:g,isOpen:m,title:(null==u?void 0:u.title)||"",summary:(null==u?void 0:u.summaryText)||"",type:null==u?void 0:u.type,relevantMessages:(null==u?void 0:u.relevantMessages)||[]}),(0,i.jsx)("div",{children:a?f[0]:(0,i.jsx)(S.Z,{items:f,paginationAriaLabel:r("most-recent-pagination","Most recent pagination"),onChange:e=>{null==y||y.capture("share-messages-slider-pagination",{page:e})},isDragEnabled:!v})})]}):null};X.__docgenInfo={description:"",methods:[],displayName:"ShareMessagesAnalysisSlider",props:{isAdopt:{required:!1,tsType:{name:"boolean"},description:""},isOverview:{required:!1,tsType:{name:"boolean"},description:""}}};let Q=e=>{let{isAdopt:s,isOverview:a}=e,{t:u}=(0,t.$G)("reporting",{keyPrefix:"share-messages.analysis"}),{postHog:x}=(0,m.U)(),{merchantId:v}=(0,h.rc)(),{campaignId:f}=(0,g.eh)(),{loading:k,shareMessageAnalytics:b}=(0,r.Z)(s,f);return((0,o.useEffect)(()=>{s&&(null==x||x.capture("share-messages-adopt-state"))},[s,x]),k||!b)?(0,i.jsx)(_,{isOverview:a}):a&&s?null:(0,i.jsx)(i.Fragment,{children:a?(0,i.jsxs)(n.Zb,{children:[(0,i.jsx)(n.Zb.Title,{children:u("overview.heading","Themes from sentiment analysis")}),(0,i.jsx)(n.Zb.Body,{children:b.totalShareMessages<20?(0,i.jsx)(p,{totalMessages:b.totalShareMessages}):(0,i.jsx)(X,{isOverview:a})}),(0,i.jsx)(n.Zb.Buttons,{children:(0,i.jsx)(n.BY,{as:l.OL,to:(0,c.nu)("fe_sentiment_analysis_share_messages",{merchantId:v}),"data-ph":"share-message-analysis-view-deeper-analysis-cta",children:u("overview.cta","View deeper analysis")})})]}):(0,i.jsxs)(L,{variant:"slate",children:[(0,i.jsxs)(Z,{children:[(0,i.jsx)(V,{children:u("heading","Your top insights from analysis")}),(0,i.jsx)(d.Z,{variant:"light"})]}),b.totalShareMessages<20?(0,i.jsx)(p,{totalMessages:b.totalShareMessages}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(B,{children:(0,i.jsx)(y.Z,{})}),(0,i.jsx)(X,{isAdopt:s})]})]})})};Q.__docgenInfo={description:"",methods:[],displayName:"ShareMessagesAnalysis",props:{isAdopt:{required:!1,tsType:{name:"boolean"},description:""},isOverview:{required:!1,tsType:{name:"boolean"},description:""}}};var J=a("./src/client/reporting/share-messages/hooks/useShareMessages.ts"),ee=a("../node_modules/@apollo/client/react/hooks/useMutation.js"),es=a("./src/shared/@types/reporting.ts"),ea=a("./src/shared/context/NotificationContext.tsx"),ei=a("./src/user/hooks/useActiveUserState.ts"),en=a("./src/client/reporting/hooks/types.ts");let et={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"requestShareMessagesDownload"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"merchantId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"campaignId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"notifyUser"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"timePeriod"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"reportType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"report_schedule"},arguments:[{kind:"Argument",name:{kind:"Name",value:"merchantId"},value:{kind:"Variable",name:{kind:"Name",value:"merchantId"}}},{kind:"Argument",name:{kind:"Name",value:"campaignId"},value:{kind:"Variable",name:{kind:"Name",value:"campaignId"}}},{kind:"Argument",name:{kind:"Name",value:"reportType"},value:{kind:"Variable",name:{kind:"Name",value:"reportType"}}},{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"StringValue",value:"csv",block:!1}},{kind:"Argument",name:{kind:"Name",value:"over"},value:{kind:"StringValue",value:"PERIOD",block:!1}},{kind:"Argument",name:{kind:"Name",value:"shouldNotify"},value:{kind:"Variable",name:{kind:"Name",value:"notifyUser"}}},{kind:"Argument",name:{kind:"Name",value:"timePeriod"},value:{kind:"Variable",name:{kind:"Name",value:"timePeriod"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]},er=()=>{let{t:e}=(0,t.$G)("reporting",{keyPrefix:"share-messages.messages.download"}),{addSuccessNotification:s,addErrorNotification:a}=(0,ea.kE)(),{merchantId:i}=(0,h.rc)(),{data:n}=(0,ei.Z)(),{campaignId:r}=(0,g.eh)(),l=null==n?void 0:n.email,[d]=(0,ee.D)(et,{onError(){a(e("notifications.error.title","Oops!"),e("notifications.error.description","Sorry! We have experienced a problem with your request. Please try again later"))},onCompleted(){s(e("notifications.success.title","We're processing your request"),l?e("notifications.success.with-email-description",{defaultValue:"Success! We'll email you the report within 15 minutes at {{userEmail}} when it's ready for download.",userEmail:l}):e("notifications.success.without-email-description",{defaultValue:"Success! We'll email you the report within 15 minutes when it's ready for download."}))}});return(0,o.useCallback)(()=>{d({variables:{merchantId:i,notifyUser:!0,timePeriod:es.Iq.LAST_ALL_TIME,reportType:"BigQuery\\SentimentAnalysis\\NativeShareMessage",campaignId:en.TD.CampaignSelector?void 0:r}})},[r,d,i])},eo=e=>{let{isDisabled:s}=e,a=er(),{t:r}=(0,t.$G)("reporting",{keyPrefix:"share-messages.messages.download"}),{postHog:o}=(0,N.U)();return(0,i.jsx)(n.zx,{onClick:()=>{a(),null==o||o.capture("download-all-share-messages")},disabled:s,size:"small",children:r("cta","Download all messages")})};eo.__docgenInfo={description:"",methods:[],displayName:"ShareMessagesDownloadButton",props:{isDisabled:{required:!1,tsType:{name:"boolean"},description:""}}};let el=k.ZP.div.withConfig({displayName:"ShareMessagesMessages.styled__Header"})(["display:flex;align-items:flex-start;justify-content:space-between;"]),ed=k.ZP.div.withConfig({displayName:"ShareMessagesMessages.styled__Subheader"})(["display:flex;gap:",";margin-top:",";margin-bottom:",";"],(0,n.W0)(2),(0,n.W0)(1),(0,n.W0)(2)),eh=(0,k.ZP)(n.XS).withConfig({displayName:"ShareMessagesMessages.styled__Divider"})(["color:",";"],(0,n.Ys)("Navy20"));var em=a("./src/client/reporting/share-messages/components/ShareMessagesSlider.tsx");let ec=e=>{var s;let{isAdopt:a,isOverview:r}=e,{t:o}=(0,t.$G)("reporting",{keyPrefix:"share-messages.messages"}),{merchantId:d}=(0,h.rc)(),{loading:m,messages:g}=(0,J.Z)(0,1,a);return m||(null==g?void 0:null===(s=g.pageInfo)||void 0===s?void 0:s.totalCount)!==0?(0,i.jsx)(i.Fragment,{children:r?(0,i.jsxs)(n.Zb,{children:[(0,i.jsx)(n.Zb.Title,{children:o("overview.heading","Most recent Native Share messages")}),(0,i.jsx)(n.Zb.Body,{children:(0,i.jsx)(em.Z,{isAdopt:a,isOverview:r})}),(0,i.jsx)(n.Zb.Buttons,{children:(0,i.jsx)(n.BY,{as:l.OL,to:(0,c.nu)("fe_sentiment_analysis_share_messages",{merchantId:d}),"data-ph":"share-message-view-more-cta",children:o("overview.cta","View more")})})]}):(0,i.jsxs)(n.Zb,{children:[(0,i.jsxs)(el,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(n.H4,{children:o("title","What your customers are saying to each other")}),(0,i.jsxs)(ed,{children:[(0,i.jsx)(n.XS,{children:o("messages-from-native-share","Messages from Native Share method")}),(0,i.jsx)(eh,{children:" | "}),(0,i.jsx)(n.XS,{children:o("most-recent","Most recent shown first")})]})]}),(0,i.jsx)(eo,{})]}),(0,i.jsx)(em.Z,{isAdopt:a,isOverview:r})]})}):null};ec.__docgenInfo={description:"",methods:[],displayName:"ShareMessagesMessages",props:{isAdopt:{required:!1,tsType:{name:"boolean"},description:""},isOverview:{required:!1,tsType:{name:"boolean"},description:""}}};var eg=a("../node_modules/@heroicons/react/20/solid/esm/CubeTransparentIcon.js");let eu=k.ZP.div.withConfig({displayName:"ShareMessagesPageCardContent.styled__EmptyContainer"})(["text-align:center;margin:",";"],(0,n.W0)(2)),ep=(0,k.ZP)(n.H3).withConfig({displayName:"ShareMessagesPageCardContent.styled__EmptyTitle"})(["margin-bottom:",";display:flex;align-items:center;justify-content:center;"],(0,n.W0)(4)),ey=(0,k.ZP)(eg.Z).withConfig({displayName:"ShareMessagesPageCardContent.styled__EmptyIcon"})(["width:40px;height:40px;margin-right:",";fill:",";"],(0,n.W0)(1),(0,n.Ys)("NavyBase")),ex=(0,k.ZP)(n.H4).withConfig({displayName:"ShareMessagesPageCardContent.styled__EmptySubtitle"})(["font-weight:500;margin-bottom:",";"],(0,n.W0)(1)),ev=(0,k.ZP)(n.rj).withConfig({displayName:"ShareMessagesPageCardContent.styled__Grid"})(["grid-template-columns:",";","{grid-template-columns:1fr;}"],e=>{let{columns:s}=e;return 2===s?"1fr 2fr":"1fr"},(0,n.mq)("mdMax","max")),ef=e=>{let{isAdopt:s,isOverview:a}=e,{t:o}=(0,t.$G)("reporting",{keyPrefix:"share-messages"}),{loading:l,shareMessageAnalytics:d}=(0,r.Z)();return l||(null==d?void 0:d.totalShareMessages)||(null==d?!void 0:!d.isNativeShareMessageCaptureEnabled)?(0,i.jsxs)(n.M2,{shouldWrap:!!a,wrapper:e=>(0,i.jsx)(ev,{columns:2,children:e}),children:[(0,i.jsx)(Q,{isAdopt:s,isOverview:a}),(0,i.jsx)(ec,{isAdopt:s,isOverview:a})]}):(0,i.jsxs)(eu,{children:[(0,i.jsxs)(ep,{children:[(0,i.jsx)(ey,{}),o("empty.title","There are no messages to display yet")]}),(0,i.jsx)(ex,{children:o("empty.sub-title","This is where you will see them once your customers have shared")}),(0,i.jsx)(n.M,{children:o("empty.description","There hasnâ€™t been any unique share messages sent, we need at least 20 share messages to perform this analysis.")})]})},ek=ef;ef.__docgenInfo={description:"",methods:[],displayName:"ShareMessagesPageCardContent",props:{isAdopt:{required:!1,tsType:{name:"boolean"},description:""},isOverview:{required:!1,tsType:{name:"boolean"},description:""}}}},"./src/client/reporting/share-messages/hooks/useShareMessageAnalysis.ts":function(e,s,a){a.d(s,{Z:()=>h});var i=a("../node_modules/@apollo/client/react/hooks/useQuery.js"),n=a("./src/shared/hooks/index.ts"),t=a("./src/shared/hooks/useIsDemo.ts"),r=a("./src/client/reporting/hooks/ReportingContext.tsx"),o=a("./src/client/reporting/hooks/types.ts"),l=a("./src/client/reporting/share-messages/__mocks__/shareMessageAnalysis.ts");let d={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchShareMessageAnalysis"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"merchantId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"campaignId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"merchant"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"merchantId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"shareMessageAnalysis"},arguments:[{kind:"Argument",name:{kind:"Name",value:"campaignId"},value:{kind:"Variable",name:{kind:"Name",value:"campaignId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"themes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"relevantMessages"}},{kind:"Field",name:{kind:"Name",value:"summaryText"}}]}},{kind:"Field",name:{kind:"Name",value:"error"}}]}}]}}]}}]},h=function(){var e;let s=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{merchantId:a}=(0,n.rc)(),{campaignId:h}=(0,r.eh)(),{isDemo:m,isLoading:c}=(0,t.Z)(),{data:g,loading:u,refetch:p}=(0,i.aM)(d,{skip:m||c||s,variables:{merchantId:a,campaignId:h===o.TD.CampaignSelector?void 0:h},notifyOnNetworkStatusChange:!0,fetchPolicy:"no-cache"});return{analysis:c||m||u||s?l.q:(null==g?void 0:null===(e=g.merchant)||void 0===e?void 0:e.shareMessageAnalysis)||null,loading:c||u,refetch:p}}},"./src/shared/components/AIPoweredLabel/AIPoweredLabel.tsx":function(e,s,a){a.d(s,{Z:()=>y});var i=a("../node_modules/react/jsx-runtime.js"),n=a("../node_modules/react-i18next/dist/es/index.js"),t=a("./src/shared/constants/helpPageDictionary.ts"),r=a("../node_modules/@heroicons/react/24/outline/esm/CpuChipIcon.js"),o=a("../node_modules/@heroicons/react/24/solid/esm/CpuChipIcon.js"),l=a("../node_modules/@mention-me/flamingo-ui/build/index.es.js"),d=a("../node_modules/styled-components/dist/styled-components.browser.esm.js");let h=(0,d.ZP)(r.Z).withConfig({displayName:"AIPoweredLabel.styled__CPUChipIcon"})(["width:16px;height:16px;"]),m=(0,d.ZP)(o.Z).withConfig({displayName:"AIPoweredLabel.styled__SolidChipIcon"})(["width:16px;height:16px;"]),c=(0,d.ZP)(l.XS).withConfig((0,l.NZ)("isLightVariant")).withConfig({displayName:"AIPoweredLabel.styled__AIText"})(["",""],e=>{let{isLightVariant:s}=e;return!s&&(0,d.iv)(["color:",";font-weight:500;"],(0,l.Ys)("White"))}),g=(0,d.ZP)(l.BY).withConfig((0,l.NZ)("isLightVariant")).withConfig({displayName:"AIPoweredLabel.styled__AITextLink"})(["font-size:inherit;font-weight:inherit;",""],e=>{let{isLightVariant:s}=e;return!s&&(0,d.iv)(["color:",";&:hover,&:focus{color:",";}"],(0,l.Ys)("White"),(0,l.Ys)("White"))}),u=(0,d.ZP)("div").withConfig((0,l.NZ)("isLightVariant")).withConfig({displayName:"AIPoweredLabel.styled__AILabelContainer"})(["background-color:",";display:flex;padding:"," ",";gap:",";align-items:center;width:fit-content;border-radius:",";",""],(0,l.Ys)("Grey60"),(0,l.W0)(.5),(0,l.W0)(.75),(0,l.W0)(.5),(0,l.W0)(.5),e=>{let{isLightVariant:s}=e;return!s&&(0,d.iv)(["background-color:",";color:",";"],(0,l.Ys)("NavyBase"),(0,l.Ys)("White"))}),p=e=>{let{variant:s}=e,{t:a}=(0,n.$G)("reporting",{keyPrefix:"ai-powered"}),r="light"===s;return(0,i.jsxs)(u,{isLightVariant:r,children:[r?(0,i.jsx)(m,{}):(0,i.jsx)(h,{}),(0,i.jsx)(c,{isLightVariant:r,children:(0,i.jsxs)(n.cC,{t:a,i18nKey:"label",children:[(0,i.jsx)("b",{children:"AI Powered"})," ",(0,i.jsx)(g,{target:"_blank",href:t.W.MENTION_ME_AND_AI,isLightVariant:r,children:"read more about how we use AI"})]})})]})},y=p;p.__docgenInfo={description:"",methods:[],displayName:"AIPoweredLabel",props:{variant:{required:!0,tsType:{name:"union",raw:'"light" | "dark"',elements:[{name:"literal",value:'"light"'},{name:"literal",value:'"dark"'}]},description:""}}}},"./src/shared/components/AIPoweredLabel/index.ts":function(e,s,a){a.d(s,{Z:function(){return i.Z}});var i=a("./src/shared/components/AIPoweredLabel/AIPoweredLabel.tsx")}}]);