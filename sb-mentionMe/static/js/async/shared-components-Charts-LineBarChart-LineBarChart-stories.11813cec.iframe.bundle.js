"use strict";(globalThis.webpackChunk_mention_me_frontend=globalThis.webpackChunk_mention_me_frontend||[]).push([["2809"],{"./src/shared/components/Charts/LineBarChart/LineBarChart.stories.tsx":function(e,s,t){t.r(s),t.d(s,{Default:function(){return l},default:function(){return p}});var r=t("../node_modules/react/jsx-runtime.js"),n=t("../node_modules/react/index.js"),o=t("./src/shared/components/Charts/LineBarChart/LineBarChart.tsx"),i=t("./src/shared/components/Charts/LineBarChart/mockData.ts");let a={component:o.Z,title:"Charts / LineBarChart",decorators:[e=>(0,r.jsx)("div",{style:{width:"1155px",height:"368px"},children:e()})],args:{data:i.q,lineKeys:["responses","previousResponses"],lineColors:["#2AC0FF","#FF9E00"],indexBy:"month"},render:e=>{let{lineColors:s,lineKeys:t,indexBy:a}=e,l=(0,n.useMemo)(()=>Math.min(...i.q.map(e=>Number(e.score)||0)),[]);return(0,r.jsx)(o.Z,{data:i.q,keys:["score","previousScore"],colors:["#201646","#FF3EB5"],lineKeys:t,lineColors:s,indexBy:a,valueScale:{type:"linear",min:l-1,clamp:!0},indexScale:{type:"band",round:!0},padding:.4,gridYValues:5,groupMode:"grouped",axisLeft:{legend:"NPS Score",legendPosition:"middle",legendOffset:-40,tickSize:5,tickPadding:5,tickRotation:0,tickValues:5},axisRight:null,axisBottom:{tickRotation:-25,tickValues:i.q.length>5?"every 2":"every 1",format:e=>e.replace(/\s*\d+$/,"")},enableLabel:!1})}},l={parameters:{chromatic:{disableSnapshot:!0}}},p=a;l.parameters={...l.parameters,docs:{...l.parameters?.docs,source:{originalSource:"{\n  parameters: {\n    chromatic: {\n      disableSnapshot: true\n    }\n  }\n} satisfies Story",...l.parameters?.docs?.source}}}},"./src/shared/components/Charts/LineBarChart/LineBarChart.tsx":function(e,s,t){t.d(s,{Z:()=>h});var r=t("../node_modules/react/jsx-runtime.js"),n=t("../node_modules/@nivo/bar/dist/nivo-bar.es.js"),o=t("../node_modules/styled-components/dist/styled-components.browser.esm.js"),i=t("../node_modules/react/index.js"),a=t("../node_modules/@nivo/axes/dist/nivo-axes.es.js"),l=t("../node_modules/@nivo/scales/dist/nivo-scales.es.js"),p=t("../node_modules/d3-shape/src/line.js");let d=e=>{let{data:s,bars:t,xScale:n,innerWidth:o,innerHeight:d,keys:c,colors:u,indexBy:h,axisRight:m}=e,_=(0,i.useMemo)(()=>c.map(e=>s.map(s=>({x:s[h],y:s[e]}))),[s,h,c]),y=(0,i.useMemo)(()=>(0,l.Gi)(_.map((e,s)=>({id:s,data:e})),{type:"linear"},{type:"linear"},o,d-5),[_,d,o]),x=s.length;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.dk,{yScale:y.yScale,xScale:n,width:o,height:d,right:m}),Array.from(Array(c.length).keys()).map(e=>{let s=e*x,o=t.slice(s,s+x),a=(0,p.Z)().x(e=>e.x+e.width/2).y(s=>y.yScale(s.data.data[c[e]]||0));return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)("path",{d:a(o)||void 0,fill:"none",stroke:u[e],strokeWidth:"2px"}),o.map(s=>(0,r.jsx)("circle",{cx:n(s.data.data[h])+s.width/2+s.width*e,cy:y.yScale(s.data.data[c[e]]||0),r:4,fill:u[e],stroke:u[e],style:{pointerEvents:"none"}},s.key))]},c[e])})]})};d.__docgenInfo={description:"",methods:[],displayName:"LineBarChartLine",props:{data:{required:!0,tsType:{name:"unknown"},description:""},keys:{required:!0,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},colors:{required:!0,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},indexBy:{required:!0,tsType:{name:"string"},description:""},axisRight:{required:!0,tsType:{name:"union",raw:"AxisProps<ScaleValue> | null",elements:[{name:"AxisProps",elements:[{name:"ScaleValue"}],raw:"AxisProps<ScaleValue>"},{name:"null"}]},description:""}}};var c=t("./src/shared/components/Charts/LineBarChart/mockData.ts");let u=e=>{let{data:s,indexBy:t,lineKeys:o,lineColors:i,axisRight:a={tickSize:0,tickValues:5},...l}=e;return(0,r.jsx)(n.jM,{data:s,indexBy:t,margin:{top:50,right:60,bottom:50,left:50},layers:["grid","axes","bars",e=>o.length>0?(0,r.jsx)(d,{data:s,keys:o,colors:i,indexBy:t,axisRight:a,...e}):null,"markers"],groupMode:"grouped",axisRight:null,...l})};u.Skeleton=()=>{let{colors:e}=(0,o.Fg)();return(0,r.jsx)(u,{data:c.q,keys:["score","previousScore"],colors:[e.Skeleton,e.Skeleton],lineColors:[e.Skeleton,e.Skeleton],lineKeys:["responses","previousResponses"],indexBy:"month",valueScale:{type:"linear",clamp:!0},indexScale:{type:"band",round:!0},padding:.4,axisLeft:null,axisRight:null,axisBottom:null,enableLabel:!1})};let h=u;u.__docgenInfo={description:"",methods:[{name:"Skeleton",docblock:null,modifiers:["static"],params:[],returns:null}],displayName:"LineBarChart",props:{lineKeys:{required:!0,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},lineColors:{required:!0,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},indexBy:{required:!0,tsType:{name:"string"},description:""},axisRight:{defaultValue:{value:"{\n    tickSize: 0,\n    tickValues: 5,\n}",computed:!1},required:!1}}}},"./src/shared/components/Charts/LineBarChart/mockData.ts":function(e,s,t){t.d(s,{q:function(){return r}});let r=[{month:"June 2022",score:68,responses:844,previousScore:71,previousResponses:2048,detractors:55,passives:161,promoters:628},{month:"July 2022",score:72,responses:412,previousScore:70,previousResponses:352,detractors:20,passives:77,promoters:315},{month:"August 2022",score:70,responses:4426,previousScore:72,previousResponses:7492,detractors:297,passives:744,promoters:3385},{month:"September 2022",score:70,responses:994,previousScore:73,previousResponses:1786,detractors:54,passives:194,promoters:746},{month:"October 2022",score:70,responses:475,previousScore:72,previousResponses:474,detractors:28,passives:87,promoters:360},{month:"November 2022",score:73,responses:11804,previousScore:75,previousResponses:11056,detractors:681,passives:1797,promoters:9326},{month:"December 2022",score:70,responses:4815,previousScore:75,previousResponses:1620,detractors:295,passives:833,promoters:3687},{month:"January 2023",score:70,responses:5561,previousScore:73,previousResponses:796,detractors:346,passives:977,promoters:4238},{month:"February 2023",score:70,responses:9129,previousScore:74,previousResponses:11419,detractors:571,passives:1581,promoters:6977},{month:"March 2023",score:66,responses:1272,previousScore:66,previousResponses:633,detractors:97,passives:243,promoters:932},{month:"April 2023",score:70,responses:714,previousScore:67,previousResponses:464,detractors:42,passives:127,promoters:545},{month:"May 2023",score:71,responses:8593,previousScore:71,previousResponses:4082,detractors:510,passives:1465,promoters:6618}]},"../node_modules/d3-shape/src/line.js":function(e,s,t){t.d(s,{Z:function(){return l}});var r=t("../node_modules/d3-shape/src/array.js"),n=t("../node_modules/d3-shape/src/constant.js"),o=t("../node_modules/d3-shape/src/curve/linear.js"),i=t("../node_modules/d3-shape/src/path.js"),a=t("../node_modules/d3-shape/src/point.js");function l(e,s){var t=(0,n.Z)(!0),l=null,p=o.Z,d=null,c=(0,i.d)(u);function u(n){var o,i,a,u=(n=(0,r.Z)(n)).length,h=!1;for(null==l&&(d=p(a=c())),o=0;o<=u;++o)!(o<u&&t(i=n[o],o,n))===h&&((h=!h)?d.lineStart():d.lineEnd()),h&&d.point(+e(i,o,n),+s(i,o,n));if(a)return d=null,a+""||null}return e="function"==typeof e?e:void 0===e?a.x:(0,n.Z)(e),s="function"==typeof s?s:void 0===s?a.y:(0,n.Z)(s),u.x=function(s){return arguments.length?(e="function"==typeof s?s:(0,n.Z)(+s),u):e},u.y=function(e){return arguments.length?(s="function"==typeof e?e:(0,n.Z)(+e),u):s},u.defined=function(e){return arguments.length?(t="function"==typeof e?e:(0,n.Z)(!!e),u):t},u.curve=function(e){return arguments.length?(p=e,null!=l&&(d=p(l)),u):p},u.context=function(e){return arguments.length?(null==e?l=d=null:d=p(l=e),u):l},u}},"../node_modules/d3-shape/src/path.js":function(e,s,t){t.d(s,{d:()=>l});let r=Math.PI,n=2*r,o=n-1e-6;function i(e){this._+=e[0];for(let s=1,t=e.length;s<t;++s)this._+=arguments[s]+e[s]}class a{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?i:function(e){let s=Math.floor(e);if(!(s>=0))throw Error(`invalid digits: ${e}`);if(s>15)return i;let t=10**s;return function(e){this._+=e[0];for(let s=1,r=e.length;s<r;++s)this._+=Math.round(arguments[s]*t)/t+e[s]}}(e)}moveTo(e,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+s}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,s){this._append`L${this._x1=+e},${this._y1=+s}`}quadraticCurveTo(e,s,t,r){this._append`Q${+e},${+s},${this._x1=+t},${this._y1=+r}`}bezierCurveTo(e,s,t,r,n,o){this._append`C${+e},${+s},${+t},${+r},${this._x1=+n},${this._y1=+o}`}arcTo(e,s,t,n,o){if(e=+e,s=+s,t=+t,n=+n,(o=+o)<0)throw Error(`negative radius: ${o}`);let i=this._x1,a=this._y1,l=t-e,p=n-s,d=i-e,c=a-s,u=d*d+c*c;if(null===this._x1)this._append`M${this._x1=e},${this._y1=s}`;else if(u>1e-6){if(Math.abs(c*l-p*d)>1e-6&&o){let h=t-i,m=n-a,_=l*l+p*p,y=Math.sqrt(_),x=Math.sqrt(u),v=o*Math.tan((r-Math.acos((_+u-(h*h+m*m))/(2*y*x)))/2),f=v/x,g=v/y;Math.abs(f-1)>1e-6&&this._append`L${e+f*d},${s+f*c}`,this._append`A${o},${o},0,0,${+(c*h>d*m)},${this._x1=e+g*l},${this._y1=s+g*p}`}else this._append`L${this._x1=e},${this._y1=s}`}else;}arc(e,s,t,i,a,l){if(e=+e,s=+s,t=+t,l=!!l,t<0)throw Error(`negative radius: ${t}`);let p=t*Math.cos(i),d=t*Math.sin(i),c=e+p,u=s+d,h=1^l,m=l?i-a:a-i;null===this._x1?this._append`M${c},${u}`:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-u)>1e-6)&&this._append`L${c},${u}`,t&&(m<0&&(m=m%n+n),m>o?this._append`A${t},${t},0,1,${h},${e-p},${s-d}A${t},${t},0,1,${h},${this._x1=c},${this._y1=u}`:m>1e-6&&this._append`A${t},${t},0,${+(m>=r)},${h},${this._x1=e+t*Math.cos(a)},${this._y1=s+t*Math.sin(a)}`)}rect(e,s,t,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+s}h${t=+t}v${+r}h${-t}Z`}toString(){return this._}}function l(e){let s=3;return e.digits=function(t){if(!arguments.length)return s;if(null==t)s=null;else{let e=Math.floor(t);if(!(e>=0))throw RangeError(`invalid digits: ${t}`);s=e}return e},()=>new a(s)}a.prototype},"../node_modules/d3-shape/src/point.js":function(e,s,t){function r(e){return e[0]}function n(e){return e[1]}t.d(s,{x:function(){return r},y:function(){return n}})}}]);