/*! For license information please see client-customer-profile-components-CustomerProfileActivity-components-ActivityFeedItems-components-Events-ReferrerRewardableEvent-stories.de074138.iframe.bundle.js.LICENSE.txt */
(globalThis.webpackChunk_mention_me_frontend=globalThis.webpackChunk_mention_me_frontend||[]).push([["9746"],{"./src/shared/components/Chart/ChartInternal.module.less?712b":function(e,r,n){"use strict";n.d(r,{Z:function(){return a}});let a={loading:"loading-i429gv",header:"header-INChVS",titles:"titles-herhqc",chartWrapper:"chartWrapper-v_5RGH",chartWrapperLegendLeft:"chartWrapperLegendLeft-gyUVNB",chartWrapperLegendRight:"chartWrapperLegendRight-N6VGBw",chartWrapperLegendTop:"chartWrapperLegendTop-JPzW2f",chartWrapperLegendBottom:"chartWrapperLegendBottom-ZyJR9E",chart:"chart-_XQz0c",customChartLegendHidden:"customChartLegendHidden-QDlMox"}},"./src/client/customer/profile/components/CustomerProfileActivity/components/ActivityFeedItems/components/Events/ReferrerRewardableEvent.stories.tsx":function(e,r,n){"use strict";n.r(r),n.d(r,{AwaitingReward:function(){return d},EarnedReward:function(){return o},MultipleReferees:function(){return l},MultipleRefereesWithOneVoid:function(){return u},Void:function(){return m},default:function(){return c}});var a=n("../node_modules/react/jsx-runtime.js"),t=n("../node_modules/deepmerge/dist/cjs.js"),s=n.n(t);let i={component:n("./src/client/customer/profile/components/CustomerProfileActivity/components/ActivityFeedItems/components/Events/ReferrerRewardableEvent.tsx").Z,title:"Portal / Customer Profile / ActivityFeed / Events / ReferrerRewardable",decorators:[e=>(0,a.jsx)("ul",{style:{listStyle:"none",padding:0,margin:0},children:e()})],parameters:{layout:"padded"}},o={args:{event:{timestamp:String(new Date().getTime()),__typename:"ReferrerRewardableEvent",offer:{__typename:"Offer",id:"126938",shortName:"15% off for referrer and referee: Refer a friend",isControlGroupOffer:!1,experiment:{__typename:"Experiment",id:"38653",shortName:"Choice of offer with 15% off: Referral or download App",campaign:{__typename:"Campaign",id:"17344",shortName:"en_GB - Referral vs app download"}}},merchantCustomer:{__typename:"MerchantCustomer",id:"329897231",userFullName:"Ned Flanders",user:{__typename:"User",id:"241058974",email:"ned@flanders.com"}},referrerRewardable:{__typename:"ReferrerRewardable",id:"1234",isFulfilled:!0,reward:{__typename:"ReferrerReward",id:"123",shortName:"Test reward"},coupon:{__typename:"MerchantCoupon",id:"7"},referrers:[{__typename:"Referrer",id:"12",isVoid:!1,merchantCustomer:{__typename:"MerchantCustomer",id:"329897231",userFullName:"Ned Flanders",user:{__typename:"User",id:"241058974",email:"ned@flanders.com"}},referee:{__typename:"Referee",id:"13",isVoid:!1,merchantCustomer:{id:"329897231",userFullName:"Marge Simpson",user:{__typename:"User",id:"241058974",email:"marge@simpson.com"}}}}]}}}},d={args:s()(o.args,{event:{referrerRewardable:{isFulfilled:!1}}})},m={args:s()(o.args,{event:{referrerRewardable:{isFulfilled:!1,isVoid:!0}}})},l={args:s()(o.args,{event:{referrerRewardable:{referrers:[{__typename:"Referrer",id:"12",isVoid:!1,merchantCustomer:{__typename:"MerchantCustomer",id:"329897231",userFullName:"Ned Flanders",user:{__typename:"User",id:"241058974",email:"ned@flanders.com"}},referee:{__typename:"Referee",id:"13",isVoid:!1,merchantCustomer:{id:"329897232",userFullName:"Homer Simpson",user:{__typename:"User",id:"241058975",email:"homer@simpson.com"}}}}]}}})},u={args:s()(o.args,{event:{referrerRewardable:{referrers:[{__typename:"Referrer",id:"12",isVoid:!1,merchantCustomer:{__typename:"MerchantCustomer",id:"329897231",userFullName:"Ned Flanders",user:{__typename:"User",id:"241058974",email:"ned@flanders.com"}},referee:{__typename:"Referee",id:"13",isVoid:!0,merchantCustomer:{id:"329897232",userFullName:"Homer Simpson",user:{__typename:"User",id:"241058975",email:"homer@simpson.com"}}}}]}}})},c=i;o.parameters={...o.parameters,docs:{...o.parameters?.docs,source:{originalSource:'{\n  args: {\n    event: {\n      timestamp: String(new Date().getTime()),\n      __typename: "ReferrerRewardableEvent" as const,\n      offer: {\n        __typename: "Offer" as const,\n        id: "126938",\n        shortName: "15% off for referrer and referee: Refer a friend",\n        isControlGroupOffer: false,\n        experiment: {\n          __typename: "Experiment" as const,\n          id: "38653",\n          shortName: "Choice of offer with 15% off: Referral or download App",\n          campaign: {\n            __typename: "Campaign" as const,\n            id: "17344",\n            shortName: "en_GB - Referral vs app download"\n          }\n        }\n      },\n      merchantCustomer: {\n        __typename: "MerchantCustomer" as const,\n        id: "329897231",\n        userFullName: "Ned Flanders",\n        user: {\n          __typename: "User" as const,\n          id: "241058974",\n          email: "ned@flanders.com"\n        }\n      },\n      referrerRewardable: {\n        __typename: "ReferrerRewardable" as const,\n        id: "1234",\n        isFulfilled: true,\n        reward: {\n          __typename: "ReferrerReward" as const,\n          id: "123",\n          shortName: "Test reward"\n        },\n        coupon: {\n          __typename: "MerchantCoupon" as const,\n          id: "7"\n        },\n        referrers: [{\n          __typename: "Referrer" as const,\n          id: "12",\n          isVoid: false,\n          merchantCustomer: {\n            __typename: "MerchantCustomer" as const,\n            id: "329897231",\n            userFullName: "Ned Flanders",\n            user: {\n              __typename: "User" as const,\n              id: "241058974",\n              email: "ned@flanders.com"\n            }\n          },\n          referee: {\n            __typename: "Referee" as const,\n            id: "13",\n            isVoid: false,\n            merchantCustomer: {\n              id: "329897231",\n              userFullName: "Marge Simpson",\n              user: {\n                __typename: "User" as const,\n                id: "241058974",\n                email: "marge@simpson.com"\n              }\n            }\n          }\n        }]\n      }\n    } as ReferrerRewardableEventFragment & ActivityFragment\n  }\n} satisfies Story',...o.parameters?.docs?.source}}},d.parameters={...d.parameters,docs:{...d.parameters?.docs,source:{originalSource:"{\n  args: deepmerge(EarnedReward.args, {\n    event: {\n      referrerRewardable: {\n        isFulfilled: false\n      }\n    } as ReferrerRewardableEventFragment & ActivityFragment\n  })\n} satisfies Story",...d.parameters?.docs?.source}}},m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:"{\n  args: deepmerge(EarnedReward.args, {\n    event: {\n      referrerRewardable: {\n        isFulfilled: false,\n        isVoid: true\n      }\n    } as ReferrerRewardableEventFragment & ActivityFragment\n  })\n} satisfies Story",...m.parameters?.docs?.source}}},l.parameters={...l.parameters,docs:{...l.parameters?.docs,source:{originalSource:'{\n  args: deepmerge(EarnedReward.args,\n  // Add another Referrer to the event\n  {\n    event: {\n      referrerRewardable: {\n        referrers: [{\n          __typename: "Referrer" as const,\n          id: "12",\n          isVoid: false,\n          merchantCustomer: {\n            __typename: "MerchantCustomer" as const,\n            id: "329897231",\n            userFullName: "Ned Flanders",\n            user: {\n              __typename: "User" as const,\n              id: "241058974",\n              email: "ned@flanders.com"\n            }\n          },\n          referee: {\n            __typename: "Referee" as const,\n            id: "13",\n            isVoid: false,\n            merchantCustomer: {\n              id: "329897232",\n              userFullName: "Homer Simpson",\n              user: {\n                __typename: "User" as const,\n                id: "241058975",\n                email: "homer@simpson.com"\n              }\n            }\n          }\n        }]\n      }\n    } as ReferrerRewardableEventFragment & ActivityFragment\n  })\n} satisfies Story',...l.parameters?.docs?.source}}},u.parameters={...u.parameters,docs:{...u.parameters?.docs,source:{originalSource:'{\n  args: deepmerge(EarnedReward.args,\n  // Add another Referrer to the event\n  {\n    event: {\n      referrerRewardable: {\n        referrers: [{\n          __typename: "Referrer" as const,\n          id: "12",\n          isVoid: false,\n          merchantCustomer: {\n            __typename: "MerchantCustomer" as const,\n            id: "329897231",\n            userFullName: "Ned Flanders",\n            user: {\n              __typename: "User" as const,\n              id: "241058974",\n              email: "ned@flanders.com"\n            }\n          },\n          referee: {\n            __typename: "Referee" as const,\n            id: "13",\n            isVoid: true,\n            merchantCustomer: {\n              id: "329897232",\n              userFullName: "Homer Simpson",\n              user: {\n                __typename: "User" as const,\n                id: "241058975",\n                email: "homer@simpson.com"\n              }\n            }\n          }\n        }]\n      }\n    } as ReferrerRewardableEventFragment & ActivityFragment\n  })\n} satisfies Story',...u.parameters?.docs?.source}}}},"./src/shared/components/Chart/Chart.tsx":function(e,r,n){"use strict";n.d(r,{Z:()=>h});var a=n("../node_modules/react/jsx-runtime.js"),t=n("../node_modules/react/index.js"),s=n("../node_modules/@mention-me/flamingo-ui/build/index.es.js"),i=n("../node_modules/styled-components/dist/styled-components.browser.esm.js"),o=n("./src/shared/components/Chart/ChartInternal.module.less?712b");let d=(0,t.lazy)(()=>Promise.all([n.e("2084"),n.e("7773"),n.e("6168"),n.e("3268"),n.e("7186"),n.e("2392"),n.e("6064"),n.e("1586"),n.e("6292"),n.e("4878"),n.e("1379"),n.e("3363"),n.e("4699"),n.e("247"),n.e("7847"),n.e("897"),n.e("4175"),n.e("7256"),n.e("1141"),n.e("4684"),n.e("4712"),n.e("9432"),n.e("4537")]).then(n.bind(n,"./src/shared/components/Chart/ChartInternal.tsx"))),m=(0,t.forwardRef)((e,r)=>{let{chartHeight:n,fallback:s,isLoading:i,...m}=e,l=s?(0,a.jsx)("div",{style:{height:n},children:s}):(0,a.jsx)("div",{className:o.Z.loading,style:{height:n}});return(0,a.jsx)(t.Suspense,{fallback:l,children:i?l:(0,a.jsx)(d,{ref:r,chartHeight:n,...m})})});m.__docgenInfo={description:"",methods:[],displayName:"LazyChart"};let l=i.ZP.div.withConfig({displayName:"ChartModal.styled__FallbackContainer"})(["height:80vh;.fallback{height:70vh;}"]),u=i.ZP.div.withConfig({displayName:"ChartModal.styled__Fallback"})(["height:70vh;"]),c=(0,i.ZP)(m).withConfig({displayName:"ChartModal.styled__Chart"})(["h3{font-weight:300;opacity:1;font-size:24px;padding-bottom:11px;}"]),p=e=>{let{config:r,data:n,annotations:t,amChartType:i,className:o,title:d,isOpen:m,isLoading:p,fallback:f,closeModal:h,openModal:_,shouldShowDownloadImage:g,...y}=e;return(0,a.jsx)(s.u_,{isOpen:m,onClose:h,modalVariant:"expanded",children:(0,a.jsxs)(s.u_.Content,{children:[(0,a.jsxs)(s.u_.Header,{children:[(0,a.jsx)(s.H5,{children:d}),(0,a.jsx)(s.u_.CloseButton,{})]}),(0,a.jsx)(s.u_.Body,{children:(0,a.jsx)(c,{isExpandMode:!0,className:o,config:r,data:n,annotations:t,amChartType:i,chartHeight:"75vh",openModal:_,isLoading:p,shouldShowDownloadImage:g,fallback:(0,a.jsx)(l,{children:(0,a.jsx)(u,{children:f})}),...y})})]})})};p.__docgenInfo={description:"",methods:[],displayName:"ChartModal",props:{config:{required:!1,tsType:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},description:""},data:{required:!1,tsType:{name:"Array",elements:[{name:"any"}],raw:"any[]"},description:""},annotations:{required:!1,tsType:{name:"Array",elements:[{name:"any"}],raw:"any[]"},description:""},amChartType:{required:!1,tsType:{name:"string"},description:""},chartHeight:{required:!1,tsType:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},description:""},title:{required:!1,tsType:{name:"ReactReactElement",raw:"React.ReactElement"},description:""},subTitle:{required:!1,tsType:{name:"ReactReactElement",raw:"React.ReactElement"},description:""},isExpandMode:{required:!1,tsType:{name:"boolean"},description:""},openModal:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},shouldShowDownloadImage:{required:!1,tsType:{name:"boolean"},description:""},hasTogglableLegend:{required:!1,tsType:{name:"boolean"},description:""},isAnimated:{required:!1,tsType:{name:"boolean"},description:""},shouldShowHeader:{required:!1,tsType:{name:"boolean"},description:""},isOpen:{required:!0,tsType:{name:"boolean"},description:""},isLoading:{required:!1,tsType:{name:"boolean"},description:""},fallback:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},closeModal:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}},composes:["Omit"]};let f=(0,t.forwardRef)((e,r)=>{let{config:n,data:s,annotations:i,amChartType:o,className:d,chartHeight:l,title:u,subTitle:c,fallback:f,isLoading:h,shouldShowDownloadImage:_=!0,...g}=e,[y,w]=(0,t.useState)(!1),R=()=>w(!0);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m,{className:d,config:n,data:s,annotations:i,amChartType:o,chartHeight:l,title:u,subTitle:c,openModal:R,fallback:f,isLoading:h,ref:r,shouldShowDownloadImage:_,...g}),(0,a.jsx)(p,{className:d,config:n,data:s,annotations:i,amChartType:o,title:u,isOpen:y,fallback:f,closeModal:()=>w(!1),openModal:R,isLoading:h,shouldShowDownloadImage:_,...g})]})}),h=f;f.__docgenInfo={description:"",methods:[],displayName:"Chart",props:{shouldShowDownloadImage:{defaultValue:{value:"true",computed:!1},required:!1}}}},"./src/shared/components/CustomerLink/CustomerLink.tsx":function(e,r,n){"use strict";n.d(r,{Z:function(){return l}});var a=n("../node_modules/react/jsx-runtime.js"),t=n("../node_modules/@mention-me/flamingo-ui/build/index.es.js"),s=n("../node_modules/react-i18next/dist/es/index.js"),i=n("../node_modules/react-router-dom/esm/react-router-dom.js"),o=n("./src/shared/hooks/index.ts"),d=n("./src/shared/utilities/index.ts");let m=e=>{var r,n,m,l;let{merchantCustomer:u}=e,{t:c}=(0,s.$G)("customer"),{merchantId:p,userId:f}=(0,o.rc)();if(!u)return(0,a.jsx)(a.Fragment,{children:c("link.unknown","an unknown customer")});let h=(null==u?void 0:u.userFullName)?`${u.userFullName} - ${null==u?void 0:null===(r=u.user)||void 0===r?void 0:r.email}`:null==u?void 0:null===(n=u.user)||void 0===n?void 0:n.email;return f===u.user.id?(0,a.jsx)(a.Fragment,{children:h}):(0,a.jsx)(t.BY,{as:i.OL,to:(0,d.nu)("fe_merchant_customers_profile",{merchantId:p,userId:null==u?void 0:null===(m=u.user)||void 0===m?void 0:m.id}),"data-customer-id":null==u?void 0:u.id,"data-user-id":null==u?void 0:null===(l=u.user)||void 0===l?void 0:l.id,children:h})},l=m;m.__docgenInfo={description:"",methods:[],displayName:"CustomerLink",props:{merchantCustomer:{required:!0,tsType:{name:"union",raw:'| Maybe<Pick<MerchantCustomer, "id" | "userFullName"> & { user: Pick<User, "id" | "email"> }>\n| undefined',elements:[{name:"union",raw:"T | null",elements:[{name:"intersection",raw:'Pick<MerchantCustomer, "id" | "userFullName"> & { user: Pick<User, "id" | "email"> }',elements:[{name:"Pick",elements:[{name:"MerchantCustomer"},{name:"union",raw:'"id" | "userFullName"',elements:[{name:"literal",value:'"id"'},{name:"literal",value:'"userFullName"'}]}],raw:'Pick<MerchantCustomer, "id" | "userFullName">'},{name:"signature",type:"object",raw:'{ user: Pick<User, "id" | "email"> }',signature:{properties:[{key:"user",value:{name:"Pick",elements:[{name:"User"},{name:"union",raw:'"id" | "email"',elements:[{name:"literal",value:'"id"'},{name:"literal",value:'"email"'}]}],raw:'Pick<User, "id" | "email">',required:!0}}]}}]},{name:"null"}]},{name:"undefined"}]},description:""}}}},"../node_modules/classnames/index.js":function(e){!function(){"use strict";var r={}.hasOwnProperty;function n(){for(var e="",t=0;t<arguments.length;t++){var s=arguments[t];s&&(e=a(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return n.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var s in e)r.call(e,s)&&e[s]&&(t=a(t,s));return t}(s)))}return e}function a(e,r){return r?e?e+" "+r:e+r:e}e.exports?(n.default=n,e.exports=n):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return n}):window.classNames=n}()}}]);