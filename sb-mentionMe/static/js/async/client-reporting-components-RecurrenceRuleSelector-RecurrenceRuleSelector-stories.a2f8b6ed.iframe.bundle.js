/*! For license information please see client-reporting-components-RecurrenceRuleSelector-RecurrenceRuleSelector-stories.a2f8b6ed.iframe.bundle.js.LICENSE.txt */
(globalThis.webpackChunk_mention_me_frontend=globalThis.webpackChunk_mention_me_frontend||[]).push([["4870"],{"./src/shared/components/Chart/ChartInternal.module.less?712b":function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r={loading:"loading-i429gv",header:"header-INChVS",titles:"titles-herhqc",chartWrapper:"chartWrapper-v_5RGH",chartWrapperLegendLeft:"chartWrapperLegendLeft-gyUVNB",chartWrapperLegendRight:"chartWrapperLegendRight-N6VGBw",chartWrapperLegendTop:"chartWrapperLegendTop-JPzW2f",chartWrapperLegendBottom:"chartWrapperLegendBottom-ZyJR9E",chart:"chart-_XQz0c",customChartLegendHidden:"customChartLegendHidden-QDlMox"}},"./src/client/reporting/components/RecurrenceRuleSelector/RecurrenceRuleSelector.stories.tsx":function(e,t,a){"use strict";a.r(t),a.d(t,{Disabled:()=>E,default:()=>O,Monthly:()=>k,Weekly:()=>S});var r=a("../node_modules/react/jsx-runtime.js"),n=a("../node_modules/@mention-me/flamingo-ui/build/index.es.js"),s=a("../node_modules/deepmerge/dist/cjs.js"),o=a.n(s),i=a("../node_modules/react/index.js"),l=a("../node_modules/react-i18next/dist/es/index.js");let d=/FREQ=([A-Z]+);/,c=/BYMONTHDAY=(\d+);/,u=/BYDAY=([A-Z]{2});/,p=/BYHOUR=(\d+);/,h=/BYMINUTE=(\d+);/,m=e=>{var t,a,r,n,s;return{frequency:(null===(t=e.match(d))||void 0===t?void 0:t[1])||void 0,monthDay:(null===(a=e.match(c))||void 0===a?void 0:a[1])||void 0,weekDay:(null===(r=e.match(u))||void 0===r?void 0:r[1])||void 0,hour:(null===(n=e.match(p))||void 0===n?void 0:n[1])||void 0,minute:(null===(s=e.match(h))||void 0===s?void 0:s[1])||void 0}},y=e=>String(e).padStart(2,"0"),g=(e,t,a)=>{let[r,n]=(0,i.useState)(e||"FREQ=MONTHLY;BYMONTHDAY=1;BYHOUR=9;BYMINUTE=00;"),{frequency:s,monthDay:o,weekDay:l,hour:g,minute:f}=(0,i.useMemo)(()=>m(r),[r]),x=(0,i.useMemo)(()=>!!s&&("MONTHLY"!==s||!!o)&&("WEEKLY"!==s||!!l)&&!(!g||!f),[s,o,l,g,f]);(0,i.useEffect)(()=>{null==t||t(r)},[t,r]),(0,i.useEffect)(()=>{null==a||a(x)},[a,x]);let v=(0,i.useCallback)((e,t)=>{n(a=>e.test(a)?a.replace(e,`${t};`):a.concat(`${t};`))},[n]),w=(0,i.useCallback)(e=>{n(t=>t.replace(e,""))},[n]),T=(0,i.useCallback)(e=>{v(d,`FREQ=${e}`),"MONTHLY"===e?(w(u),v(c,"BYMONTHDAY=1")):"WEEKLY"===e&&(w(c),v(u,"BYDAY=MO")),w(p),w(h),v(p,"BYHOUR=9"),v(h,"BYMINUTE=00")},[w,v]),Y=(0,i.useCallback)(e=>{v(c,`BYMONTHDAY=${e}`)},[v]),b=(0,i.useCallback)(e=>{v(u,`BYDAY=${e}`)},[v]),j=(0,i.useCallback)(e=>{v(p,`BYHOUR=${y(e)}`)},[v]),M=(0,i.useCallback)(e=>{v(h,`BYMINUTE=${y(e)}`)},[v]);return{rule:r,isValid:x,frequency:s,setFrequency:T,monthDay:o,setMonthDay:Y,weekDay:l,setWeekDay:b,time:g&&f?`${g}:${f}`:void 0,setTime:(0,i.useCallback)(e=>{let[t,a]=e.split(":");j(parseInt(t,10)),M(parseInt(a,10))},[j,M])}},f=new Intl.PluralRules("en-US",{type:"ordinal"}),x={one:"st",two:"nd",few:"rd",many:"th",other:"th",zero:""},v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x,a=t[f.select(e)];return`${e}${a}`},w=()=>({formatOrdinal:e=>v(e)}),T=()=>{let{t:e}=(0,l.$G)("reporting",{keyPrefix:"recurrence-rule-selector"}),{formatOrdinal:t}=w(),a=(0,i.useMemo)(()=>[{key:e("frequency.monthly","Monthly"),value:"MONTHLY"},{key:e("frequency.weekly","Weekly"),value:"WEEKLY"}],[e]),r=(0,i.useMemo)(()=>Array.from({length:31},(e,a)=>({key:t(a+1),value:`${a+1}`})),[t]);return{frequencyOptions:a,monthDayOptions:r,weekDayOptions:(0,i.useMemo)(()=>[{key:e("week-day.monday","Monday"),value:"MO"},{key:e("week-day.tuesday","Tuesday"),value:"TU"},{key:e("week-day.wednesday","Wednesday"),value:"WE"},{key:e("week-day.thursday","Thursday"),value:"TH"},{key:e("week-day.friday","Friday"),value:"FR"},{key:e("week-day.saturday","Saturday"),value:"SA"},{key:e("week-day.sunday","Sunday"),value:"SU"}],[e])}};var Y=a("../node_modules/styled-components/dist/styled-components.browser.esm.js"),b=a("./src/shared/components/index.ts");let j=(0,Y.ZP)(b.lq).withConfig({displayName:"RecurrenceRuleSelector.styled__SelectInput"})(["background-color:",";"],(0,n.Ys)("White")),M=Y.ZP.div.withConfig({displayName:"RecurrenceRuleSelector.styled__Container"})(["display:flex;flex-wrap:wrap;gap:",";align-items:center;"],(0,n.W0)(1)),R=Y.ZP.span.withConfig({displayName:"RecurrenceRuleSelector.styled__TimeWrap"})(["display:flex;gap:",";align-items:center;.react-datepicker-popper{z-index:2;}"],(0,n.W0)(1)),C=e=>{let{rule:t,onChange:a,onIsValidChange:s,disabled:o=!1,...i}=e,{t:d}=(0,l.$G)("reporting",{keyPrefix:"recurrence-rule-selector"}),{frequency:c,setFrequency:u,monthDay:p,setMonthDay:h,weekDay:m,setWeekDay:y,time:f,setTime:x}=g(t,a,s),{frequencyOptions:v,monthDayOptions:w,weekDayOptions:Y}=T(),b=!o||!!f&&o;return(0,r.jsxs)(M,{...i,children:[(0,r.jsx)(j,{"data-auto-class":"frequency-selector",value:c,options:v,onChange:e=>u(e),disabled:o,placeholder:d("frequency-selector-placeholder","Select frequency")}),"MONTHLY"===c&&(0,r.jsxs)(l.cC,{t:d,i18nKey:"monthly-selector",children:[(0,r.jsx)(n.M,{children:"on the"}),(0,r.jsx)(j,{"data-auto-class":"monthday-selector",value:p,options:w,onChange:e=>h(e),disabled:o,canFilter:!1,placeholder:d("monthly-selector-placeholder","Select a month day")}),(0,r.jsx)(n.M,{children:"of the month"})]}),"WEEKLY"===c&&(0,r.jsxs)(l.cC,{t:d,i18nKey:"weekly-selector",children:[(0,r.jsx)(n.M,{children:"on"}),(0,r.jsx)(j,{"data-auto-class":"weekday-selector",value:m,options:Y,onChange:e=>y(e),disabled:o,canFilter:!1,placeholder:d("weekday-selector-placeholder","Select a week day")})]}),b&&(0,r.jsxs)(R,{"data-auto-class":"time-selector",children:[(0,r.jsx)(l.cC,{t:d,i18nKey:"time-selector",children:(0,r.jsx)(n.M,{children:"at"})}),(0,r.jsx)(n.Wr,{variant:"time",value:f,popperProps:{strategy:"fixed"},maxWidth:"140px",placeholderText:"Select a time",onChange:e=>{let t=null==e?void 0:e.getHours(),a=null==e?void 0:e.getMinutes();x(`${t}:${a}`)},disabled:o})]})]})};C.Skeleton=()=>(0,r.jsxs)(M,{children:[(0,r.jsx)(n.Od,{width:94,height:38}),(0,r.jsx)(n.Od,{width:44,height:20}),(0,r.jsx)(n.Od,{width:160,height:38}),(0,r.jsx)(n.Od,{width:44,height:20}),(0,r.jsx)(n.Od,{width:140,height:38})]});C.__docgenInfo={description:"",methods:[{name:"Skeleton",docblock:null,modifiers:["static"],params:[],returns:null}],displayName:"RecurrenceRuleSelector",props:{rule:{required:!0,tsType:{name:"string"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(rule: string) => void",signature:{arguments:[{type:{name:"string"},name:"rule"}],return:{name:"void"}}},description:""},onIsValidChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(isValid: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"isValid"}],return:{name:"void"}}},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}},composes:["Omit"]};let k={args:{rule:"FREQ=MONTHLY;BYMONTHDAY=1;BYHOUR=9;BYMINUTE=00;",onChange:e=>{console.log(e)}}},S=o()(k,{args:{rule:"FREQ=WEEKLY;BYDAY=MO;BYHOUR=9;BYMINUTE=00;"}}),E=o()(k,{args:{disabled:!0,rule:"FREQ=WEEKLY;BYDAY=MO;BYHOUR=9;BYMINUTE=00;"}}),O={component:C,title:"Portal / Reporting / RecurrenceRuleSector",render:e=>{let[t,a]=(0,i.useState)(e.rule),[s,o]=(0,i.useState)(!0);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C,{rule:t,onChange:a,onIsValidChange:o,disabled:e.disabled||!1}),(0,r.jsx)("hr",{}),(0,r.jsxs)(n.al,{children:[(0,r.jsx)(n.M,{children:"Debug Data Only"}),(0,r.jsxs)(n.S,{children:["Rule: ",t]}),(0,r.jsxs)(n.S,{children:["IsValid: ",s.toString()]})]})]})}};k.parameters={...k.parameters,docs:{...k.parameters?.docs,source:{originalSource:'{\n  args: {\n    rule: "FREQ=MONTHLY;BYMONTHDAY=1;BYHOUR=9;BYMINUTE=00;",\n    onChange: (rule: string) => {\n      console.log(rule);\n    }\n  }\n} satisfies Story',...k.parameters?.docs?.source}}},S.parameters={...S.parameters,docs:{...S.parameters?.docs,source:{originalSource:'deepmerge(Monthly, {\n  args: {\n    rule: "FREQ=WEEKLY;BYDAY=MO;BYHOUR=9;BYMINUTE=00;"\n  }\n}) satisfies Story',...S.parameters?.docs?.source}}},E.parameters={...E.parameters,docs:{...E.parameters?.docs,source:{originalSource:'deepmerge(Monthly, {\n  args: {\n    disabled: true,\n    rule: "FREQ=WEEKLY;BYDAY=MO;BYHOUR=9;BYMINUTE=00;"\n  }\n}) satisfies Story',...E.parameters?.docs?.source}}}},"./src/shared/components/Chart/Chart.tsx":function(e,t,a){"use strict";a.d(t,{Z:()=>y});var r=a("../node_modules/react/jsx-runtime.js"),n=a("../node_modules/react/index.js"),s=a("../node_modules/@mention-me/flamingo-ui/build/index.es.js"),o=a("../node_modules/styled-components/dist/styled-components.browser.esm.js"),i=a("./src/shared/components/Chart/ChartInternal.module.less?712b");let l=(0,n.lazy)(()=>Promise.all([a.e("2084"),a.e("7773"),a.e("6168"),a.e("3268"),a.e("7186"),a.e("2392"),a.e("6064"),a.e("1586"),a.e("6292"),a.e("4878"),a.e("1379"),a.e("3363"),a.e("4699"),a.e("247"),a.e("7847"),a.e("897"),a.e("4175"),a.e("7256"),a.e("1141"),a.e("4684"),a.e("4712"),a.e("9432"),a.e("4537")]).then(a.bind(a,"./src/shared/components/Chart/ChartInternal.tsx"))),d=(0,n.forwardRef)((e,t)=>{let{chartHeight:a,fallback:s,isLoading:o,...d}=e,c=s?(0,r.jsx)("div",{style:{height:a},children:s}):(0,r.jsx)("div",{className:i.Z.loading,style:{height:a}});return(0,r.jsx)(n.Suspense,{fallback:c,children:o?c:(0,r.jsx)(l,{ref:t,chartHeight:a,...d})})});d.__docgenInfo={description:"",methods:[],displayName:"LazyChart"};let c=o.ZP.div.withConfig({displayName:"ChartModal.styled__FallbackContainer"})(["height:80vh;.fallback{height:70vh;}"]),u=o.ZP.div.withConfig({displayName:"ChartModal.styled__Fallback"})(["height:70vh;"]),p=(0,o.ZP)(d).withConfig({displayName:"ChartModal.styled__Chart"})(["h3{font-weight:300;opacity:1;font-size:24px;padding-bottom:11px;}"]),h=e=>{let{config:t,data:a,annotations:n,amChartType:o,className:i,title:l,isOpen:d,isLoading:h,fallback:m,closeModal:y,openModal:g,shouldShowDownloadImage:f,...x}=e;return(0,r.jsx)(s.u_,{isOpen:d,onClose:y,modalVariant:"expanded",children:(0,r.jsxs)(s.u_.Content,{children:[(0,r.jsxs)(s.u_.Header,{children:[(0,r.jsx)(s.H5,{children:l}),(0,r.jsx)(s.u_.CloseButton,{})]}),(0,r.jsx)(s.u_.Body,{children:(0,r.jsx)(p,{isExpandMode:!0,className:i,config:t,data:a,annotations:n,amChartType:o,chartHeight:"75vh",openModal:g,isLoading:h,shouldShowDownloadImage:f,fallback:(0,r.jsx)(c,{children:(0,r.jsx)(u,{children:m})}),...x})})]})})};h.__docgenInfo={description:"",methods:[],displayName:"ChartModal",props:{config:{required:!1,tsType:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},description:""},data:{required:!1,tsType:{name:"Array",elements:[{name:"any"}],raw:"any[]"},description:""},annotations:{required:!1,tsType:{name:"Array",elements:[{name:"any"}],raw:"any[]"},description:""},amChartType:{required:!1,tsType:{name:"string"},description:""},chartHeight:{required:!1,tsType:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},description:""},title:{required:!1,tsType:{name:"ReactReactElement",raw:"React.ReactElement"},description:""},subTitle:{required:!1,tsType:{name:"ReactReactElement",raw:"React.ReactElement"},description:""},isExpandMode:{required:!1,tsType:{name:"boolean"},description:""},openModal:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},shouldShowDownloadImage:{required:!1,tsType:{name:"boolean"},description:""},hasTogglableLegend:{required:!1,tsType:{name:"boolean"},description:""},isAnimated:{required:!1,tsType:{name:"boolean"},description:""},shouldShowHeader:{required:!1,tsType:{name:"boolean"},description:""},isOpen:{required:!0,tsType:{name:"boolean"},description:""},isLoading:{required:!1,tsType:{name:"boolean"},description:""},fallback:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},closeModal:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}},composes:["Omit"]};let m=(0,n.forwardRef)((e,t)=>{let{config:a,data:s,annotations:o,amChartType:i,className:l,chartHeight:c,title:u,subTitle:p,fallback:m,isLoading:y,shouldShowDownloadImage:g=!0,...f}=e,[x,v]=(0,n.useState)(!1),w=()=>v(!0);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d,{className:l,config:a,data:s,annotations:o,amChartType:i,chartHeight:c,title:u,subTitle:p,openModal:w,fallback:m,isLoading:y,ref:t,shouldShowDownloadImage:g,...f}),(0,r.jsx)(h,{className:l,config:a,data:s,annotations:o,amChartType:i,title:u,isOpen:x,fallback:m,closeModal:()=>v(!1),openModal:w,isLoading:y,shouldShowDownloadImage:g,...f})]})}),y=m;m.__docgenInfo={description:"",methods:[],displayName:"Chart",props:{shouldShowDownloadImage:{defaultValue:{value:"true",computed:!1},required:!1}}}},"../node_modules/classnames/index.js":function(e){!function(){"use strict";var t={}.hasOwnProperty;function a(){for(var e="",n=0;n<arguments.length;n++){var s=arguments[n];s&&(e=r(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var n="";for(var s in e)t.call(e,s)&&e[s]&&(n=r(n,s));return n}(s)))}return e}function r(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return a}):window.classNames=a}()}}]);