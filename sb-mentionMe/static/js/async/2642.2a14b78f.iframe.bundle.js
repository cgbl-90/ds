"use strict";(globalThis.webpackChunk_mention_me_frontend=globalThis.webpackChunk_mention_me_frontend||[]).push([["2642"],{"./src/client/customer/profile/components/CustomerProfileActivity/components/ActivityFeedItems/components/Events/ReferrerRewardableEvent.tsx":function(e,r,n){n.d(r,{Z:()=>g});var a=n("../node_modules/react/jsx-runtime.js"),t=n("../node_modules/react-i18next/dist/es/index.js"),i=n("./src/shared/components/index.ts"),l=n("./src/shared/components/RewardLink/RewardLink.tsx"),s=n("./src/client/customer/profile/components/CustomerProfileActivity/components/ActivityFeedItems/components/ActivityOfferDetails.tsx"),u=n("../node_modules/react/index.js"),m=n("./src/shared/components/CustomerLink/CustomerLink.tsx");let o=(0,u.memo)(e=>{let{referees:r}=e,n=null==r?void 0:r.map(e=>(0,a.jsx)(m.Z,{merchantCustomer:e.merchantCustomer},e.id));return(0,a.jsx)(a.Fragment,{children:n.map((e,r)=>(0,a.jsxs)(a.Fragment,{children:[e,r<n.length-1?", ":""]}))})});o.__docgenInfo={description:"",methods:[],displayName:"ReferrerRewardableFriends"};let d=e=>{var r;return((null===(r=e.referrerRewardable)||void 0===r?void 0:r.referrers)??[]).filter(e=>!e.isVoid).map(e=>e.referee).filter(e=>!e.isVoid)},p=e=>{let{event:r}=e,{t:n}=(0,t.$G)("customer"),{offer:u,referrerRewardable:m}=r,{isFulfilled:p}=m,g=d(r);return u?!m.isVoid&&g&&(null==g?void 0:g.length)>0?(0,a.jsxs)(a.Fragment,{children:[p?(0,a.jsxs)(t.cC,{t:n,i18nKey:"activity.rewardableEvent.isFulfilled",children:["Given reward ",(0,a.jsx)(l.Z,{reward:m.reward})," for referring to offer"," ",(0,a.jsx)(s.Z,{offer:u}),"."]}):(0,a.jsxs)(t.cC,{t:n,i18nKey:"activity.rewardableEvent.isNotFulfilled.message",children:["Awaiting reward"," ",(0,a.jsx)(i.WW,{message:n("activity.rewardableEvent.isNotFulfilled.help","The customer hasn't been given their reward yet. You may have no valid vouchers for this reward. We will try again soon.")})," ",(0,a.jsx)(l.Z,{reward:m.reward}),"for referring to offer ",(0,a.jsx)(s.Z,{offer:u}),"."]})," ",(0,a.jsxs)(t.cC,{t:n,i18nKey:"activity.rewardableEvent.theirFriends",children:["They referred: ",(0,a.jsx)(o,{referees:g}),"."]})]}):m.isVoid?(0,a.jsxs)(t.cC,{t:n,i18nKey:"activity.rewardableEvent.rewardableVoid",children:["Referral was voided for ",(0,a.jsx)(l.Z,{reward:m.reward}),"."]}):null:null},g=p;p.__docgenInfo={description:"Renders the ReferrerRewardable event.\n\nREMEMBER: Only the Fulfilled ReferrerRewardable events will be shown here! This could include ones which were\nsubsequently archived, but this will be low volume.",methods:[],displayName:"ReferrerRewardableEvent",props:{event:{required:!0,tsType:{name:"intersection",raw:"ReferrerRewardableEventFragment & ActivityFragment",elements:[{name:"signature",type:"object",raw:"{ __typename: 'ReferrerRewardableEvent', offer?: { __typename: 'Offer', id: string, shortName: string, isControlGroupOffer: boolean, experiment?: { __typename: 'Experiment', id: string, shortName: string, campaign: { __typename: 'Campaign', id: string, shortName: string } } | null } | null, merchantCustomer?: { __typename: 'MerchantCustomer', id: string, userFullName?: string | null, user: { __typename: 'User', id?: string | null, email: string } } | null, referrerRewardable: { __typename: 'ReferrerRewardable', id: string, isFulfilled: boolean, isEligibleForReward?: boolean | null, hasTriedToClaimReward?: boolean | null, isVoid: boolean, isArchived: boolean, coupon?: { __typename: 'MerchantCoupon', id: string } | null, reward?: { __typename: 'ReferrerReward', id?: string | null, shortName?: string | null } | null, referrers?: Array<{ __typename: 'Referrer', id: string, isVoid: boolean, merchantCustomer?: { __typename: 'MerchantCustomer', id: string, userFullName?: string | null, user: { __typename: 'User', id?: string | null, email: string } } | null, referee?: { __typename: 'Referee', id: string, isVoid: boolean, isPendingApproval: boolean, isSuspectedOfGaming: boolean, approvalReason?: Array<{ __typename: 'ApprovableReason', key: string, value?: string | null }> | null, merchantCustomer?: { __typename: 'MerchantCustomer', id: string, userFullName?: string | null, user: { __typename: 'User', id?: string | null, email: string } } | null } | null }> | null } }",signature:{properties:[{key:"__typename",value:{name:"literal",value:"'ReferrerRewardableEvent'",required:!0}},{key:"offer",value:{name:"union",raw:"{ __typename: 'Offer', id: string, shortName: string, isControlGroupOffer: boolean, experiment?: { __typename: 'Experiment', id: string, shortName: string, campaign: { __typename: 'Campaign', id: string, shortName: string } } | null } | null",elements:[{name:"signature",type:"object",raw:"{ __typename: 'Offer', id: string, shortName: string, isControlGroupOffer: boolean, experiment?: { __typename: 'Experiment', id: string, shortName: string, campaign: { __typename: 'Campaign', id: string, shortName: string } } | null }",signature:{properties:[{key:"__typename",value:{name:"literal",value:"'Offer'",required:!0}},{key:"id",value:{name:"string",required:!0}},{key:"shortName",value:{name:"string",required:!0}},{key:"isControlGroupOffer",value:{name:"boolean",required:!0}},{key:"experiment",value:{name:"union",raw:"{ __typename: 'Experiment', id: string, shortName: string, campaign: { __typename: 'Campaign', id: string, shortName: string } } | null",elements:[{name:"signature",type:"object",raw:"{ __typename: 'Experiment', id: string, shortName: string, campaign: { __typename: 'Campaign', id: string, shortName: string } }",signature:{properties:[{key:"__typename",value:{name:"literal",value:"'Experiment'",required:!0}},{key:"id",value:{name:"string",required:!0}},{key:"shortName",value:{name:"string",required:!0}},{key:"campaign",value:{name:"signature",type:"object",raw:"{ __typename: 'Campaign', id: string, shortName: string }",signature:{properties:[{key:"__typename",value:{name:"literal",value:"'Campaign'",required:!0}},{key:"id",value:{name:"string",required:!0}},{key:"shortName",value:{name:"string",required:!0}}]},required:!0}}]}},{name:"null"}],required:!1}}]}},{name:"null"}],required:!1}},{key:"merchantCustomer",value:{name:"union",raw:"{ __typename: 'MerchantCustomer', id: string, userFullName?: string | null, user: { __typename: 'User', id?: string | null, email: string } } | null",elements:[{name:"signature",type:"object",raw:"{ __typename: 'MerchantCustomer', id: string, userFullName?: string | null, user: { __typename: 'User', id?: string | null, email: string } }",signature:{properties:[{key:"__typename",value:{name:"literal",value:"'MerchantCustomer'",required:!0}},{key:"id",value:{name:"string",required:!0}},{key:"userFullName",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!1}},{key:"user",value:{name:"signature",type:"object",raw:"{ __typename: 'User', id?: string | null, email: string }",signature:{properties:[{key:"__typename",value:{name:"literal",value:"'User'",required:!0}},{key:"id",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!1}},{key:"email",value:{name:"string",required:!0}}]},required:!0}}]}},{name:"null"}],required:!1}},{key:"referrerRewardable",value:{name:"signature",type:"object",raw:"{ __typename: 'ReferrerRewardable', id: string, isFulfilled: boolean, isEligibleForReward?: boolean | null, hasTriedToClaimReward?: boolean | null, isVoid: boolean, isArchived: boolean, coupon?: { __typename: 'MerchantCoupon', id: string } | null, reward?: { __typename: 'ReferrerReward', id?: string | null, shortName?: string | null } | null, referrers?: Array<{ __typename: 'Referrer', id: string, isVoid: boolean, merchantCustomer?: { __typename: 'MerchantCustomer', id: string, userFullName?: string | null, user: { __typename: 'User', id?: string | null, email: string } } | null, referee?: { __typename: 'Referee', id: string, isVoid: boolean, isPendingApproval: boolean, isSuspectedOfGaming: boolean, approvalReason?: Array<{ __typename: 'ApprovableReason', key: string, value?: string | null }> | null, merchantCustomer?: { __typename: 'MerchantCustomer', id: string, userFullName?: string | null, user: { __typename: 'User', id?: string | null, email: string } } | null } | null }> | null }",signature:{properties:[{key:"__typename",value:{name:"literal",value:"'ReferrerRewardable'",required:!0}},{key:"id",value:{name:"string",required:!0}},{key:"isFulfilled",value:{name:"boolean",required:!0}},{key:"isEligibleForReward",value:{name:"union",raw:"boolean | null",elements:[{name:"boolean"},{name:"null"}],required:!1}},{key:"hasTriedToClaimReward",value:{name:"union",raw:"boolean | null",elements:[{name:"boolean"},{name:"null"}],required:!1}},{key:"isVoid",value:{name:"boolean",required:!0}},{key:"isArchived",value:{name:"boolean",required:!0}},{key:"coupon",value:{name:"union",raw:"{ __typename: 'MerchantCoupon', id: string } | null",elements:[{name:"signature",type:"object",raw:"{ __typename: 'MerchantCoupon', id: string }",signature:{properties:[{key:"__typename",value:{name:"literal",value:"'MerchantCoupon'",required:!0}},{key:"id",value:{name:"string",required:!0}}]}},{name:"null"}],required:!1}},{key:"reward",value:{name:"union",raw:"{ __typename: 'ReferrerReward', id?: string | null, shortName?: string | null } | null",elements:[{name:"signature",type:"object",raw:"{ __typename: 'ReferrerReward', id?: string | null, shortName?: string | null }",signature:{properties:[{key:"__typename",value:{name:"literal",value:"'ReferrerReward'",required:!0}},{key:"id",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!1}},{key:"shortName",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!1}}]}},{name:"null"}],required:!1}},{key:"referrers",value:{name:"union",raw:"Array<{ __typename: 'Referrer', id: string, isVoid: boolean, merchantCustomer?: { __typename: 'MerchantCustomer', id: string, userFullName?: string | null, user: { __typename: 'User', id?: string | null, email: string } } | null, referee?: { __typename: 'Referee', id: string, isVoid: boolean, isPendingApproval: boolean, isSuspectedOfGaming: boolean, approvalReason?: Array<{ __typename: 'ApprovableReason', key: string, value?: string | null }> | null, merchantCustomer?: { __typename: 'MerchantCustomer', id: string, userFullName?: string | null, user: { __typename: 'User', id?: string | null, email: string } } | null } | null }> | null",elements:[{name:"Array",elements:[{name:"signature",type:"object",raw:"{ __typename: 'Referrer', id: string, isVoid: boolean, merchantCustomer?: { __typename: 'MerchantCustomer', id: string, userFullName?: string | null, user: { __typename: 'User', id?: string | null, email: string } } | null, referee?: { __typename: 'Referee', id: string, isVoid: boolean, isPendingApproval: boolean, isSuspectedOfGaming: boolean, approvalReason?: Array<{ __typename: 'ApprovableReason', key: string, value?: string | null }> | null, merchantCustomer?: { __typename: 'MerchantCustomer', id: string, userFullName?: string | null, user: { __typename: 'User', id?: string | null, email: string } } | null } | null }",signature:{properties:[{key:"__typename",value:{name:"literal",value:"'Referrer'",required:!0}},{key:"id",value:{name:"string",required:!0}},{key:"isVoid",value:{name:"boolean",required:!0}},{key:"merchantCustomer",value:{name:"union",raw:"{ __typename: 'MerchantCustomer', id: string, userFullName?: string | null, user: { __typename: 'User', id?: string | null, email: string } } | null",elements:[{name:"signature",type:"object",raw:"{ __typename: 'MerchantCustomer', id: string, userFullName?: string | null, user: { __typename: 'User', id?: string | null, email: string } }",signature:{properties:[{key:"__typename",value:{name:"literal",value:"'MerchantCustomer'",required:!0}},{key:"id",value:{name:"string",required:!0}},{key:"userFullName",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!1}},{key:"user",value:{name:"signature",type:"object",raw:"{ __typename: 'User', id?: string | null, email: string }",signature:{properties:[{key:"__typename",value:{name:"literal",value:"'User'",required:!0}},{key:"id",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!1}},{key:"email",value:{name:"string",required:!0}}]},required:!0}}]}},{name:"null"}],required:!1}},{key:"referee",value:{name:"union",raw:"{ __typename: 'Referee', id: string, isVoid: boolean, isPendingApproval: boolean, isSuspectedOfGaming: boolean, approvalReason?: Array<{ __typename: 'ApprovableReason', key: string, value?: string | null }> | null, merchantCustomer?: { __typename: 'MerchantCustomer', id: string, userFullName?: string | null, user: { __typename: 'User', id?: string | null, email: string } } | null } | null",elements:[{name:"signature",type:"object",raw:"{ __typename: 'Referee', id: string, isVoid: boolean, isPendingApproval: boolean, isSuspectedOfGaming: boolean, approvalReason?: Array<{ __typename: 'ApprovableReason', key: string, value?: string | null }> | null, merchantCustomer?: { __typename: 'MerchantCustomer', id: string, userFullName?: string | null, user: { __typename: 'User', id?: string | null, email: string } } | null }",signature:{properties:[{key:"__typename",value:{name:"literal",value:"'Referee'",required:!0}},{key:"id",value:{name:"string",required:!0}},{key:"isVoid",value:{name:"boolean",required:!0}},{key:"isPendingApproval",value:{name:"boolean",required:!0}},{key:"isSuspectedOfGaming",value:{name:"boolean",required:!0}},{key:"approvalReason",value:{name:"union",raw:"Array<{ __typename: 'ApprovableReason', key: string, value?: string | null }> | null",elements:[{name:"Array",elements:[{name:"signature",type:"object",raw:"{ __typename: 'ApprovableReason', key: string, value?: string | null }",signature:{properties:[{key:"__typename",value:{name:"literal",value:"'ApprovableReason'",required:!0}},{key:"key",value:{name:"string",required:!0}},{key:"value",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!1}}]}}],raw:"Array<{ __typename: 'ApprovableReason', key: string, value?: string | null }>"},{name:"null"}],required:!1}},{key:"merchantCustomer",value:{name:"union",raw:"{ __typename: 'MerchantCustomer', id: string, userFullName?: string | null, user: { __typename: 'User', id?: string | null, email: string } } | null",elements:[{name:"signature",type:"object",raw:"{ __typename: 'MerchantCustomer', id: string, userFullName?: string | null, user: { __typename: 'User', id?: string | null, email: string } }",signature:{properties:[{key:"__typename",value:{name:"literal",value:"'MerchantCustomer'",required:!0}},{key:"id",value:{name:"string",required:!0}},{key:"userFullName",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!1}},{key:"user",value:{name:"signature",type:"object",raw:"{ __typename: 'User', id?: string | null, email: string }",signature:{properties:[{key:"__typename",value:{name:"literal",value:"'User'",required:!0}},{key:"id",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!1}},{key:"email",value:{name:"string",required:!0}}]},required:!0}}]}},{name:"null"}],required:!1}}]}},{name:"null"}],required:!1}}]}}],raw:"Array<{ __typename: 'Referrer', id: string, isVoid: boolean, merchantCustomer?: { __typename: 'MerchantCustomer', id: string, userFullName?: string | null, user: { __typename: 'User', id?: string | null, email: string } } | null, referee?: { __typename: 'Referee', id: string, isVoid: boolean, isPendingApproval: boolean, isSuspectedOfGaming: boolean, approvalReason?: Array<{ __typename: 'ApprovableReason', key: string, value?: string | null }> | null, merchantCustomer?: { __typename: 'MerchantCustomer', id: string, userFullName?: string | null, user: { __typename: 'User', id?: string | null, email: string } } | null } | null }>"},{name:"null"}],required:!1}}]},required:!0}}]}},{name:"union",raw:"Activity_CustomerOriginSurveyEvent_Fragment | Activity_IncentiveForActionEvent_Fragment | Activity_MerchantOrderEvent_Fragment | Activity_NpsEvent_Fragment | Activity_RefereeEvent_Fragment | Activity_ReferrerEvent_Fragment | Activity_ReferrerRewardableEvent_Fragment | Activity_UserOfferEvent_Fragment",elements:[{name:"signature",type:"object",raw:"{ __typename: 'CustomerOriginSurveyEvent', id: string, timestamp: string }",signature:{properties:[{key:"__typename",value:{name:"literal",value:"'CustomerOriginSurveyEvent'",required:!0}},{key:"id",value:{name:"string",required:!0}},{key:"timestamp",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:"{ __typename: 'IncentiveForActionEvent', id: string, timestamp: string }",signature:{properties:[{key:"__typename",value:{name:"literal",value:"'IncentiveForActionEvent'",required:!0}},{key:"id",value:{name:"string",required:!0}},{key:"timestamp",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:"{ __typename: 'MerchantOrderEvent', id: string, timestamp: string }",signature:{properties:[{key:"__typename",value:{name:"literal",value:"'MerchantOrderEvent'",required:!0}},{key:"id",value:{name:"string",required:!0}},{key:"timestamp",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:"{ __typename: 'NPSEvent', id: string, timestamp: string }",signature:{properties:[{key:"__typename",value:{name:"literal",value:"'NPSEvent'",required:!0}},{key:"id",value:{name:"string",required:!0}},{key:"timestamp",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:"{ __typename: 'RefereeEvent', id: string, timestamp: string }",signature:{properties:[{key:"__typename",value:{name:"literal",value:"'RefereeEvent'",required:!0}},{key:"id",value:{name:"string",required:!0}},{key:"timestamp",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:"{ __typename: 'ReferrerEvent', id: string, timestamp: string }",signature:{properties:[{key:"__typename",value:{name:"literal",value:"'ReferrerEvent'",required:!0}},{key:"id",value:{name:"string",required:!0}},{key:"timestamp",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:"{ __typename: 'ReferrerRewardableEvent', id: string, timestamp: string }",signature:{properties:[{key:"__typename",value:{name:"literal",value:"'ReferrerRewardableEvent'",required:!0}},{key:"id",value:{name:"string",required:!0}},{key:"timestamp",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:"{ __typename: 'UserOfferEvent', id: string, timestamp: string }",signature:{properties:[{key:"__typename",value:{name:"literal",value:"'UserOfferEvent'",required:!0}},{key:"id",value:{name:"string",required:!0}},{key:"timestamp",value:{name:"string",required:!0}}]}}]}]},description:""}}}},"./src/shared/components/RewardLink/RewardLink.tsx":function(e,r,n){n.d(r,{Z:function(){return i}});var a=n("../node_modules/react/jsx-runtime.js");let t=e=>{let{reward:r}=e;return r?(0,a.jsx)("span",{"data-reward-id":r.id,children:r.shortName}):(0,a.jsx)("span",{children:"unknown"})},i=t;t.__docgenInfo={description:"",methods:[],displayName:"RewardLink",props:{reward:{required:!1,tsType:{name:"union",raw:'Maybe<Pick<AbstractReward, "id" | "shortName">> | undefined',elements:[{name:"union",raw:"T | null",elements:[{name:"Pick",elements:[{name:"AbstractReward"},{name:"union",raw:'"id" | "shortName"',elements:[{name:"literal",value:'"id"'},{name:"literal",value:'"shortName"'}]}],raw:'Pick<AbstractReward, "id" | "shortName">'},{name:"null"}]},{name:"undefined"}]},description:""}}}}}]);