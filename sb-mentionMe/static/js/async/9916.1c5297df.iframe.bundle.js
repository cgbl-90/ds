(globalThis.webpackChunk_mention_me_frontend=globalThis.webpackChunk_mention_me_frontend||[]).push([["9916"],{"../node_modules/moment/locale sync recursive ^\\.\\/.*$":function(e,o,t){var n={"./af":"../node_modules/moment/locale/af.js","./af.js":"../node_modules/moment/locale/af.js","./ar":"../node_modules/moment/locale/ar.js","./ar-dz":"../node_modules/moment/locale/ar-dz.js","./ar-dz.js":"../node_modules/moment/locale/ar-dz.js","./ar-kw":"../node_modules/moment/locale/ar-kw.js","./ar-kw.js":"../node_modules/moment/locale/ar-kw.js","./ar-ly":"../node_modules/moment/locale/ar-ly.js","./ar-ly.js":"../node_modules/moment/locale/ar-ly.js","./ar-ma":"../node_modules/moment/locale/ar-ma.js","./ar-ma.js":"../node_modules/moment/locale/ar-ma.js","./ar-ps":"../node_modules/moment/locale/ar-ps.js","./ar-ps.js":"../node_modules/moment/locale/ar-ps.js","./ar-sa":"../node_modules/moment/locale/ar-sa.js","./ar-sa.js":"../node_modules/moment/locale/ar-sa.js","./ar-tn":"../node_modules/moment/locale/ar-tn.js","./ar-tn.js":"../node_modules/moment/locale/ar-tn.js","./ar.js":"../node_modules/moment/locale/ar.js","./az":"../node_modules/moment/locale/az.js","./az.js":"../node_modules/moment/locale/az.js","./be":"../node_modules/moment/locale/be.js","./be.js":"../node_modules/moment/locale/be.js","./bg":"../node_modules/moment/locale/bg.js","./bg.js":"../node_modules/moment/locale/bg.js","./bm":"../node_modules/moment/locale/bm.js","./bm.js":"../node_modules/moment/locale/bm.js","./bn":"../node_modules/moment/locale/bn.js","./bn-bd":"../node_modules/moment/locale/bn-bd.js","./bn-bd.js":"../node_modules/moment/locale/bn-bd.js","./bn.js":"../node_modules/moment/locale/bn.js","./bo":"../node_modules/moment/locale/bo.js","./bo.js":"../node_modules/moment/locale/bo.js","./br":"../node_modules/moment/locale/br.js","./br.js":"../node_modules/moment/locale/br.js","./bs":"../node_modules/moment/locale/bs.js","./bs.js":"../node_modules/moment/locale/bs.js","./ca":"../node_modules/moment/locale/ca.js","./ca.js":"../node_modules/moment/locale/ca.js","./cs":"../node_modules/moment/locale/cs.js","./cs.js":"../node_modules/moment/locale/cs.js","./cv":"../node_modules/moment/locale/cv.js","./cv.js":"../node_modules/moment/locale/cv.js","./cy":"../node_modules/moment/locale/cy.js","./cy.js":"../node_modules/moment/locale/cy.js","./da":"../node_modules/moment/locale/da.js","./da.js":"../node_modules/moment/locale/da.js","./de":"../node_modules/moment/locale/de.js","./de-at":"../node_modules/moment/locale/de-at.js","./de-at.js":"../node_modules/moment/locale/de-at.js","./de-ch":"../node_modules/moment/locale/de-ch.js","./de-ch.js":"../node_modules/moment/locale/de-ch.js","./de.js":"../node_modules/moment/locale/de.js","./dv":"../node_modules/moment/locale/dv.js","./dv.js":"../node_modules/moment/locale/dv.js","./el":"../node_modules/moment/locale/el.js","./el.js":"../node_modules/moment/locale/el.js","./en-au":"../node_modules/moment/locale/en-au.js","./en-au.js":"../node_modules/moment/locale/en-au.js","./en-ca":"../node_modules/moment/locale/en-ca.js","./en-ca.js":"../node_modules/moment/locale/en-ca.js","./en-gb":"../node_modules/moment/locale/en-gb.js","./en-gb.js":"../node_modules/moment/locale/en-gb.js","./en-ie":"../node_modules/moment/locale/en-ie.js","./en-ie.js":"../node_modules/moment/locale/en-ie.js","./en-il":"../node_modules/moment/locale/en-il.js","./en-il.js":"../node_modules/moment/locale/en-il.js","./en-in":"../node_modules/moment/locale/en-in.js","./en-in.js":"../node_modules/moment/locale/en-in.js","./en-nz":"../node_modules/moment/locale/en-nz.js","./en-nz.js":"../node_modules/moment/locale/en-nz.js","./en-sg":"../node_modules/moment/locale/en-sg.js","./en-sg.js":"../node_modules/moment/locale/en-sg.js","./eo":"../node_modules/moment/locale/eo.js","./eo.js":"../node_modules/moment/locale/eo.js","./es":"../node_modules/moment/locale/es.js","./es-do":"../node_modules/moment/locale/es-do.js","./es-do.js":"../node_modules/moment/locale/es-do.js","./es-mx":"../node_modules/moment/locale/es-mx.js","./es-mx.js":"../node_modules/moment/locale/es-mx.js","./es-us":"../node_modules/moment/locale/es-us.js","./es-us.js":"../node_modules/moment/locale/es-us.js","./es.js":"../node_modules/moment/locale/es.js","./et":"../node_modules/moment/locale/et.js","./et.js":"../node_modules/moment/locale/et.js","./eu":"../node_modules/moment/locale/eu.js","./eu.js":"../node_modules/moment/locale/eu.js","./fa":"../node_modules/moment/locale/fa.js","./fa.js":"../node_modules/moment/locale/fa.js","./fi":"../node_modules/moment/locale/fi.js","./fi.js":"../node_modules/moment/locale/fi.js","./fil":"../node_modules/moment/locale/fil.js","./fil.js":"../node_modules/moment/locale/fil.js","./fo":"../node_modules/moment/locale/fo.js","./fo.js":"../node_modules/moment/locale/fo.js","./fr":"../node_modules/moment/locale/fr.js","./fr-ca":"../node_modules/moment/locale/fr-ca.js","./fr-ca.js":"../node_modules/moment/locale/fr-ca.js","./fr-ch":"../node_modules/moment/locale/fr-ch.js","./fr-ch.js":"../node_modules/moment/locale/fr-ch.js","./fr.js":"../node_modules/moment/locale/fr.js","./fy":"../node_modules/moment/locale/fy.js","./fy.js":"../node_modules/moment/locale/fy.js","./ga":"../node_modules/moment/locale/ga.js","./ga.js":"../node_modules/moment/locale/ga.js","./gd":"../node_modules/moment/locale/gd.js","./gd.js":"../node_modules/moment/locale/gd.js","./gl":"../node_modules/moment/locale/gl.js","./gl.js":"../node_modules/moment/locale/gl.js","./gom-deva":"../node_modules/moment/locale/gom-deva.js","./gom-deva.js":"../node_modules/moment/locale/gom-deva.js","./gom-latn":"../node_modules/moment/locale/gom-latn.js","./gom-latn.js":"../node_modules/moment/locale/gom-latn.js","./gu":"../node_modules/moment/locale/gu.js","./gu.js":"../node_modules/moment/locale/gu.js","./he":"../node_modules/moment/locale/he.js","./he.js":"../node_modules/moment/locale/he.js","./hi":"../node_modules/moment/locale/hi.js","./hi.js":"../node_modules/moment/locale/hi.js","./hr":"../node_modules/moment/locale/hr.js","./hr.js":"../node_modules/moment/locale/hr.js","./hu":"../node_modules/moment/locale/hu.js","./hu.js":"../node_modules/moment/locale/hu.js","./hy-am":"../node_modules/moment/locale/hy-am.js","./hy-am.js":"../node_modules/moment/locale/hy-am.js","./id":"../node_modules/moment/locale/id.js","./id.js":"../node_modules/moment/locale/id.js","./is":"../node_modules/moment/locale/is.js","./is.js":"../node_modules/moment/locale/is.js","./it":"../node_modules/moment/locale/it.js","./it-ch":"../node_modules/moment/locale/it-ch.js","./it-ch.js":"../node_modules/moment/locale/it-ch.js","./it.js":"../node_modules/moment/locale/it.js","./ja":"../node_modules/moment/locale/ja.js","./ja.js":"../node_modules/moment/locale/ja.js","./jv":"../node_modules/moment/locale/jv.js","./jv.js":"../node_modules/moment/locale/jv.js","./ka":"../node_modules/moment/locale/ka.js","./ka.js":"../node_modules/moment/locale/ka.js","./kk":"../node_modules/moment/locale/kk.js","./kk.js":"../node_modules/moment/locale/kk.js","./km":"../node_modules/moment/locale/km.js","./km.js":"../node_modules/moment/locale/km.js","./kn":"../node_modules/moment/locale/kn.js","./kn.js":"../node_modules/moment/locale/kn.js","./ko":"../node_modules/moment/locale/ko.js","./ko.js":"../node_modules/moment/locale/ko.js","./ku":"../node_modules/moment/locale/ku.js","./ku-kmr":"../node_modules/moment/locale/ku-kmr.js","./ku-kmr.js":"../node_modules/moment/locale/ku-kmr.js","./ku.js":"../node_modules/moment/locale/ku.js","./ky":"../node_modules/moment/locale/ky.js","./ky.js":"../node_modules/moment/locale/ky.js","./lb":"../node_modules/moment/locale/lb.js","./lb.js":"../node_modules/moment/locale/lb.js","./lo":"../node_modules/moment/locale/lo.js","./lo.js":"../node_modules/moment/locale/lo.js","./lt":"../node_modules/moment/locale/lt.js","./lt.js":"../node_modules/moment/locale/lt.js","./lv":"../node_modules/moment/locale/lv.js","./lv.js":"../node_modules/moment/locale/lv.js","./me":"../node_modules/moment/locale/me.js","./me.js":"../node_modules/moment/locale/me.js","./mi":"../node_modules/moment/locale/mi.js","./mi.js":"../node_modules/moment/locale/mi.js","./mk":"../node_modules/moment/locale/mk.js","./mk.js":"../node_modules/moment/locale/mk.js","./ml":"../node_modules/moment/locale/ml.js","./ml.js":"../node_modules/moment/locale/ml.js","./mn":"../node_modules/moment/locale/mn.js","./mn.js":"../node_modules/moment/locale/mn.js","./mr":"../node_modules/moment/locale/mr.js","./mr.js":"../node_modules/moment/locale/mr.js","./ms":"../node_modules/moment/locale/ms.js","./ms-my":"../node_modules/moment/locale/ms-my.js","./ms-my.js":"../node_modules/moment/locale/ms-my.js","./ms.js":"../node_modules/moment/locale/ms.js","./mt":"../node_modules/moment/locale/mt.js","./mt.js":"../node_modules/moment/locale/mt.js","./my":"../node_modules/moment/locale/my.js","./my.js":"../node_modules/moment/locale/my.js","./nb":"../node_modules/moment/locale/nb.js","./nb.js":"../node_modules/moment/locale/nb.js","./ne":"../node_modules/moment/locale/ne.js","./ne.js":"../node_modules/moment/locale/ne.js","./nl":"../node_modules/moment/locale/nl.js","./nl-be":"../node_modules/moment/locale/nl-be.js","./nl-be.js":"../node_modules/moment/locale/nl-be.js","./nl.js":"../node_modules/moment/locale/nl.js","./nn":"../node_modules/moment/locale/nn.js","./nn.js":"../node_modules/moment/locale/nn.js","./oc-lnc":"../node_modules/moment/locale/oc-lnc.js","./oc-lnc.js":"../node_modules/moment/locale/oc-lnc.js","./pa-in":"../node_modules/moment/locale/pa-in.js","./pa-in.js":"../node_modules/moment/locale/pa-in.js","./pl":"../node_modules/moment/locale/pl.js","./pl.js":"../node_modules/moment/locale/pl.js","./pt":"../node_modules/moment/locale/pt.js","./pt-br":"../node_modules/moment/locale/pt-br.js","./pt-br.js":"../node_modules/moment/locale/pt-br.js","./pt.js":"../node_modules/moment/locale/pt.js","./ro":"../node_modules/moment/locale/ro.js","./ro.js":"../node_modules/moment/locale/ro.js","./ru":"../node_modules/moment/locale/ru.js","./ru.js":"../node_modules/moment/locale/ru.js","./sd":"../node_modules/moment/locale/sd.js","./sd.js":"../node_modules/moment/locale/sd.js","./se":"../node_modules/moment/locale/se.js","./se.js":"../node_modules/moment/locale/se.js","./si":"../node_modules/moment/locale/si.js","./si.js":"../node_modules/moment/locale/si.js","./sk":"../node_modules/moment/locale/sk.js","./sk.js":"../node_modules/moment/locale/sk.js","./sl":"../node_modules/moment/locale/sl.js","./sl.js":"../node_modules/moment/locale/sl.js","./sq":"../node_modules/moment/locale/sq.js","./sq.js":"../node_modules/moment/locale/sq.js","./sr":"../node_modules/moment/locale/sr.js","./sr-cyrl":"../node_modules/moment/locale/sr-cyrl.js","./sr-cyrl.js":"../node_modules/moment/locale/sr-cyrl.js","./sr.js":"../node_modules/moment/locale/sr.js","./ss":"../node_modules/moment/locale/ss.js","./ss.js":"../node_modules/moment/locale/ss.js","./sv":"../node_modules/moment/locale/sv.js","./sv.js":"../node_modules/moment/locale/sv.js","./sw":"../node_modules/moment/locale/sw.js","./sw.js":"../node_modules/moment/locale/sw.js","./ta":"../node_modules/moment/locale/ta.js","./ta.js":"../node_modules/moment/locale/ta.js","./te":"../node_modules/moment/locale/te.js","./te.js":"../node_modules/moment/locale/te.js","./tet":"../node_modules/moment/locale/tet.js","./tet.js":"../node_modules/moment/locale/tet.js","./tg":"../node_modules/moment/locale/tg.js","./tg.js":"../node_modules/moment/locale/tg.js","./th":"../node_modules/moment/locale/th.js","./th.js":"../node_modules/moment/locale/th.js","./tk":"../node_modules/moment/locale/tk.js","./tk.js":"../node_modules/moment/locale/tk.js","./tl-ph":"../node_modules/moment/locale/tl-ph.js","./tl-ph.js":"../node_modules/moment/locale/tl-ph.js","./tlh":"../node_modules/moment/locale/tlh.js","./tlh.js":"../node_modules/moment/locale/tlh.js","./tr":"../node_modules/moment/locale/tr.js","./tr.js":"../node_modules/moment/locale/tr.js","./tzl":"../node_modules/moment/locale/tzl.js","./tzl.js":"../node_modules/moment/locale/tzl.js","./tzm":"../node_modules/moment/locale/tzm.js","./tzm-latn":"../node_modules/moment/locale/tzm-latn.js","./tzm-latn.js":"../node_modules/moment/locale/tzm-latn.js","./tzm.js":"../node_modules/moment/locale/tzm.js","./ug-cn":"../node_modules/moment/locale/ug-cn.js","./ug-cn.js":"../node_modules/moment/locale/ug-cn.js","./uk":"../node_modules/moment/locale/uk.js","./uk.js":"../node_modules/moment/locale/uk.js","./ur":"../node_modules/moment/locale/ur.js","./ur.js":"../node_modules/moment/locale/ur.js","./uz":"../node_modules/moment/locale/uz.js","./uz-latn":"../node_modules/moment/locale/uz-latn.js","./uz-latn.js":"../node_modules/moment/locale/uz-latn.js","./uz.js":"../node_modules/moment/locale/uz.js","./vi":"../node_modules/moment/locale/vi.js","./vi.js":"../node_modules/moment/locale/vi.js","./x-pseudo":"../node_modules/moment/locale/x-pseudo.js","./x-pseudo.js":"../node_modules/moment/locale/x-pseudo.js","./yo":"../node_modules/moment/locale/yo.js","./yo.js":"../node_modules/moment/locale/yo.js","./zh-cn":"../node_modules/moment/locale/zh-cn.js","./zh-cn.js":"../node_modules/moment/locale/zh-cn.js","./zh-hk":"../node_modules/moment/locale/zh-hk.js","./zh-hk.js":"../node_modules/moment/locale/zh-hk.js","./zh-mo":"../node_modules/moment/locale/zh-mo.js","./zh-mo.js":"../node_modules/moment/locale/zh-mo.js","./zh-tw":"../node_modules/moment/locale/zh-tw.js","./zh-tw.js":"../node_modules/moment/locale/zh-tw.js"};function a(e){return t(l(e))}function l(e){if(!t.o(n,e)){var o=Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=l,e.exports=a,a.id="../node_modules/moment/locale sync recursive ^\\.\\/.*$"},"./src/client/reporting/ecr/hooks/useMerchantData.ts":function(e,o,t){"use strict";t.d(o,{Z:()=>s});var n=t("../node_modules/@apollo/client/react/hooks/useQuery.js"),a=t("./src/shared/hooks/useMerchantParams/useMerchantParams.ts");let l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchMerchantForECR"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"merchantId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"merchant"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"merchantId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"officialStartDate"}},{kind:"Field",name:{kind:"Name",value:"networkStats"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lastProcessedDate"}},{kind:"Field",name:{kind:"Name",value:"numberOfNetworks"}}]}},{kind:"Field",name:{kind:"Name",value:"performanceReportType"}},{kind:"Field",name:{kind:"Name",value:"ecrEligibility"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"suitableForReporting"}},{kind:"Field",name:{kind:"Name",value:"suitableForSegmentation"}}]}},{kind:"Field",name:{kind:"Name",value:"reportingCurrencyCode"}},{kind:"Field",name:{kind:"Name",value:"reportingCurrencySymbol"}}]}}]}}]},s=()=>{var e,o,t,s,r,m,i,d;let{merchantId:u}=(0,a.Z)(),{data:c,loading:_}=(0,n.aM)(l,{variables:{merchantId:u}});return{officialStartDate:null==c?void 0:null===(e=c.merchant)||void 0===e?void 0:e.officialStartDate,suitableForReporting:null==c?void 0:null===(t=c.merchant)||void 0===t?void 0:null===(o=t.ecrEligibility)||void 0===o?void 0:o.suitableForReporting,suitableForSegmentation:null==c?void 0:null===(r=c.merchant)||void 0===r?void 0:null===(s=r.ecrEligibility)||void 0===s?void 0:s.suitableForSegmentation,reportingCurrencyCode:null==c?void 0:null===(m=c.merchant)||void 0===m?void 0:m.reportingCurrencyCode,reportingCurrencySymbol:null==c?void 0:null===(i=c.merchant)||void 0===i?void 0:i.reportingCurrencySymbol,networkStats:null==c?void 0:null===(d=c.merchant)||void 0===d?void 0:d.networkStats,loading:_}}},"./src/client/reporting/hooks/ReportingContext.tsx":function(e,o,t){"use strict";t.d(o,{U:()=>v,IF:()=>g,eh:()=>j});var n=t("../node_modules/react/jsx-runtime.js"),a=t("../node_modules/react/index.js"),l=t("../node_modules/@mention-me/flamingo-ui/build/index.es.js"),s=t("../node_modules/immer/dist/immer.mjs"),r=t("./src/shared/@types/reporting.ts"),m=t("../node_modules/moment/moment.js"),i=t.n(m);let d=e=>{if(!e)return;let o=i()(e,"X",!0);return o.isValid()?o.format("DD/MM/YYYY"):void 0},u=e=>{let o=new URLSearchParams(window.location.search);if(!o.has(e))return;let t=i()(o.get(e),"DD/MM/YYYY",!0);return t.isValid()?t.unix():void 0};var c=t("./src/client/reporting/hooks/types.ts"),_=t("./src/client/reporting/hooks/useUpdateQueryString.ts");let[p,j]=(0,l.kr)({hookName:"useReportingState",providerName:"ReportingProvider"}),[y,g]=(0,l.kr)({hookName:"useReportingDispatch",providerName:"ReportingProvider"}),k=e=>{var o,t;let n=new URLSearchParams(window.location.search),a=n.get(c.Yq.CAMPAIGN_ID)||(null==e?void 0:e.campaignId)||c.TD.CampaignSelector,l=n.get(c.Yq.TIME_PERIOD)||(null==e?void 0:e.timePeriod)||c.TD.TimePeriodSelector,s=l===r.Iq.CUSTOM?u(c.Yq.START_DATE)||(null==e?void 0:e.startDate):void 0,m=l===r.Iq.CUSTOM?u(c.Yq.END_DATE)||(null==e?void 0:e.endDate):void 0,i=n.get(c.Yq.COMPARE_TO)||(null==e?void 0:e.compareTo)||c.TD.CompareToSelector,d=n.get(c.Yq.SUB_CATEGORY_ID)||(null==e?void 0:e.subCategoryId)||c.TD.SubCategorySelector,_=n.get(c.Yq.REFERRAL_WINDOW)||(null==e?void 0:e.referralWindow)||r.qL.PAST_180_DAYS,p=null===(o=n.get(c.Yq.MARKET_ID_LIST))||void 0===o?void 0:o.split(",").slice(0,12),j=null===(t=n.get(c.Yq.MARKETGROUP_ID_LIST))||void 0===t?void 0:t.split(",").slice(0,12),y=(null==p?void 0:p.length)?p:(null==e?void 0:e.marketIds)||[];return{campaignId:a,timePeriod:l,startDate:s,endDate:m,compareTo:i,subCategoryId:d,referralWindow:_,marketIds:y,marketGroupIds:(null==j?void 0:j.length)?j:(null==e?void 0:e.marketGroupIds)||[]}},h=(0,s.Uy)((e,o)=>{switch(o.type){case c.TH.SET_CAMPAIGN:e.campaignId=o.payload.campaignId;break;case c.TH.SET_TIME_PERIOD:e.timePeriod=o.payload.timePeriod;break;case c.TH.SET_START_DATE:e.startDate=o.payload.startDate;break;case c.TH.SET_END_DATE:e.endDate=o.payload.endDate;break;case c.TH.SET_COMPARE_TO:e.compareTo=o.payload.compareTo;break;case c.TH.SET_SUB_CATEGORY:e.subCategoryId=o.payload.subCategoryId;break;case c.TH.SET_ACQUISITION_WINDOW:e.referralWindow=o.payload.referralWindow;break;case c.TH.SET_MARKETS:e.marketIds=o.payload.ids;break;case c.TH.SET_MARKET_GROUPS:e.marketGroupIds=o.payload.ids}}),v=e=>{let{children:o,initialState:t,shouldUpdateQueryString:l=!0}=e,[s,m]=(0,a.useReducer)(h,k(t)),i=(0,_.Z)(),u=(0,a.useMemo)(()=>l?i:()=>{},[l,i]),j=(0,a.useCallback)(e=>{m({type:c.TH.SET_MARKETS,payload:{ids:e}}),u(c.Yq.MARKET_ID_LIST,e.join(","),"")},[m,u]),g=(0,a.useCallback)(e=>{m({type:c.TH.SET_MARKET_GROUPS,payload:{ids:e}}),u(c.Yq.MARKETGROUP_ID_LIST,e.join(","),"")},[m,u]),v=(0,a.useCallback)(e=>{g([]),j([]),m({type:c.TH.SET_CAMPAIGN,payload:{campaignId:e}}),u(c.Yq.CAMPAIGN_ID,e,c.TD.CampaignSelector)},[u,g,j]),S=(0,a.useCallback)(e=>{m({type:c.TH.SET_TIME_PERIOD,payload:{timePeriod:e}}),u(c.Yq.TIME_PERIOD,e,c.TD.TimePeriodSelector),e!==r.Iq.CUSTOM&&(m({type:c.TH.SET_START_DATE,payload:{startDate:void 0}}),u(c.Yq.START_DATE,d(void 0)),m({type:c.TH.SET_END_DATE,payload:{endDate:void 0}}),u(c.Yq.END_DATE,d(void 0)))},[u]),T=(0,a.useCallback)(e=>{m({type:c.TH.SET_START_DATE,payload:{startDate:e}}),u(c.Yq.START_DATE,d(e))},[u]),R=(0,a.useCallback)(e=>{m({type:c.TH.SET_END_DATE,payload:{endDate:e}}),u(c.Yq.END_DATE,d(e))},[u]),f=(0,a.useCallback)(e=>{let o=e===r.MW.NONE?c.TD.CompareToSelector:e;m({type:c.TH.SET_COMPARE_TO,payload:{compareTo:o}}),u(c.Yq.COMPARE_TO,o,c.TD.CompareToSelector)},[u]),x=(0,a.useCallback)(e=>{m({type:c.TH.SET_SUB_CATEGORY,payload:{subCategoryId:e}}),u(c.Yq.SUB_CATEGORY_ID,e,c.TD.SubCategorySelector)},[u]),D=(0,a.useCallback)(e=>{m({type:c.TH.SET_ACQUISITION_WINDOW,payload:{referralWindow:e}}),u(c.Yq.REFERRAL_WINDOW,e,c.TD.ReferralWindowSelector)},[u]),b=(0,a.useCallback)(e=>{let o=s.marketIds.includes(e)?s.marketIds.filter(o=>o!==e):[...s.marketIds,e];v(c.TD.CampaignSelector),m({type:c.TH.SET_MARKETS,payload:{ids:o}}),u(c.Yq.MARKET_ID_LIST,o.join(","),"")},[u,s.marketIds,v]),N=(0,a.useCallback)(e=>{let o=s.marketGroupIds.includes(e)?s.marketGroupIds.filter(o=>o!==e):[...s.marketGroupIds,e];v(c.TD.CampaignSelector),m({type:c.TH.SET_MARKET_GROUPS,payload:{ids:o}}),u(c.Yq.MARKETGROUP_ID_LIST,o.join(","),"")},[u,s.marketGroupIds,v]),w=(0,a.useCallback)(e=>{j(e),v(c.TD.CampaignSelector)},[j,v]),C=(0,a.useCallback)(e=>{g(e),v(c.TD.CampaignSelector)},[v,g]),E=(0,a.useMemo)(()=>({dispatch:m,setCampaign:v,setTimePeriod:S,setStartDate:T,setEndDate:R,setCompareTo:f,setSubCategory:x,setReferralWindow:D,toggleMarket:b,toggleMarketGroup:N,setMarkets:w,setMarketGroups:C}),[m,v,S,T,R,f,x,D,b,N,w,C]);return(0,n.jsx)(p,{value:s,children:(0,n.jsx)(y,{value:E,children:o})})};v.__docgenInfo={description:"",methods:[],displayName:"ReportingProvider",props:{shouldUpdateQueryString:{defaultValue:{value:"true",computed:!1},required:!1}}}},"./src/client/reporting/hooks/types.ts":function(e,o,t){"use strict";t.d(o,{TD:function(){return m},TH:function(){return l},Yq:function(){return s}});var n,a,l,s,r=t("./src/shared/@types/reporting.ts");let m={CampaignSelector:"all-campaigns",TimePeriodSelector:r.Iq.LAST_30_DAYS,CompareToSelector:r.MW.NONE,SubCategorySelector:null,ReferralWindowSelector:r.qL.PAST_90_DAYS};(n=l||(l={}))[n.SET_CAMPAIGN=0]="SET_CAMPAIGN",n[n.SET_MARKETS=1]="SET_MARKETS",n[n.SET_MARKET_GROUPS=2]="SET_MARKET_GROUPS",n[n.SET_TIME_PERIOD=3]="SET_TIME_PERIOD",n[n.SET_START_DATE=4]="SET_START_DATE",n[n.SET_END_DATE=5]="SET_END_DATE",n[n.SET_COMPARE_TO=6]="SET_COMPARE_TO",n[n.SET_SUB_CATEGORY=7]="SET_SUB_CATEGORY",n[n.SET_ACQUISITION_WINDOW=8]="SET_ACQUISITION_WINDOW",(a=s||(s={})).CAMPAIGN_ID="campaignid",a.TIME_PERIOD="timeperiod",a.START_DATE="startdate",a.END_DATE="enddate",a.COMPARE_TO="compareTo",a.SUB_CATEGORY_ID="merchantSubCategoryId",a.REFERRAL_WINDOW="referralWindow",a.MARKET_ID_LIST="marketIdList",a.MARKETGROUP_ID_LIST="marketGroupIdList"},"./src/client/reporting/hooks/useUpdateQueryString.ts":function(e,o,t){"use strict";t.d(o,{Z:function(){return s}});var n=t("../node_modules/react/index.js"),a=t("../node_modules/react-router/esm/react-router.js"),l=t("./src/shared/utilities/updateQueryString.ts");let s=()=>{let e=(0,a.k6)();return(0,n.useCallback)((o,t,n)=>{let a=new URLSearchParams(window.location.search),s=(0,l.Z)(a,o,t,n).toString();e.replace({search:s.length>0?`?${s}`:void 0})},[e])}},"./src/client/reporting/network-revenue/components/NetworkMap/components/NetworkTooltip/NetworkTooltip.styled.tsx":function(e,o,t){"use strict";t.d(o,{zJ:()=>r,by:()=>m,sz:()=>i,DY:()=>s});var n=t("../node_modules/@mention-me/flamingo-ui/build/index.es.js"),a=t("../node_modules/styled-components/dist/styled-components.browser.esm.js"),l=t("../node_modules/react/jsx-runtime.js");t("../node_modules/react/index.js");(0,n.W0)(1);let s=a.ZP.div.withConfig({displayName:"NetworkTooltip.styled__TooltipContainer"})(["display:grid;grid-template-rows:3;gap:",";"],(0,n.W0)(1)),r=a.ZP.span.withConfig({displayName:"NetworkTooltip.styled__TooltipHeaderContainer"})(["display:flex;flex-wrap:nowrap;border-bottom:1px solid ",";padding-bottom:",";gap:",";align-items:center;"],(0,n.Ys)("GreyBase"),(0,n.W0)(1),(0,n.W0)(1)),m=(0,a.ZP)(e=>(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:17,fill:"none",viewBox:"0 0 16 17",...e,children:(0,l.jsx)("path",{fill:"#201646",fillRule:"evenodd",d:"M8 16.5a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm0-1.454A6.545 6.545 0 1 0 8 1.955a6.545 6.545 0 0 0 0 13.09Zm-.91-6.727a.91.91 0 0 1 1.82 0v3.635a.91.91 0 0 1-1.82 0V8.319Zm-.18-3.092a1.092 1.092 0 1 1 2.182.002 1.092 1.092 0 0 1-2.183-.002Z",clipRule:"evenodd"})})).withConfig({displayName:"NetworkTooltip.styled__HelpIcon"})(["cursor:pointer;"]),i=(0,a.ZP)(e=>(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16",...e,children:(0,l.jsx)("path",{fill:"#21174B",d:"M8 16a8 8 0 1 0-8-8 8.01 8.01 0 0 0 8 8ZM8 1.562A6.436 6.436 0 1 1 1.564 8 6.443 6.443 0 0 1 8 1.564v-.002Zm.728 10.359a.827.827 0 1 1-.062-.316c.041.1.062.208.062.317v-.002ZM5.322 5.476a.819.819 0 0 1 .035-.628 2.799 2.799 0 0 1 2.51-1.595h.017a2.846 2.846 0 0 1 2.833 2.738 2.804 2.804 0 0 1-1.91 2.746s-.082.028-.082.077v.656a.823.823 0 1 1-1.646 0v-.656a1.74 1.74 0 0 1 1.199-1.636 1.172 1.172 0 0 0 .795-1.147 1.2 1.2 0 0 0-1.182-1.136 1.172 1.172 0 0 0-1.046.67.822.822 0 0 1-1.523-.09Z"})})).withConfig({displayName:"NetworkTooltip.styled__InfoIcon"})(["cursor:pointer;"])},"./src/client/reporting/network-revenue/components/NetworkOverTimeChart/NetworkOverTimeChart.styled.tsx":function(e,o,t){"use strict";t.d(o,{$h:function(){return m},BO:function(){return r},DY:function(){return d},De:function(){return i},W2:function(){return s},xu:function(){return u}});var n=t("../node_modules/@mention-me/flamingo-ui/build/index.es.js"),a=t("../node_modules/styled-components/dist/styled-components.browser.esm.js"),l=t("./src/shared/components/Charts/index.ts");let s=a.ZP.div.withConfig({displayName:"NetworkOverTimeChart.styled__Container"})(["display:grid;grid-template-columns:auto;gap:",";"],(0,n.W0)(4)),r=a.ZP.div.withConfig({displayName:"NetworkOverTimeChart.styled__ChartContainer"})(["padding:",";"],(0,n.W0)(1)),m=a.ZP.div.withConfig({displayName:"NetworkOverTimeChart.styled__OuterContainer"})(["display:grid;padding:",";gap:",";grid-template-columns:"," auto ",";"],(0,n.W0)([4,0,2,0]),(0,n.W0)(.25),(0,n.W0)(2),(0,n.W0)(2)),i=(0,a.ZP)(l.Qk).withConfig({displayName:"NetworkOverTimeChart.styled__Legend"})(["padding:0;margin:0;> p{cursor:default;justify-content:center;writing-mode:vertical-rl;transform:rotate(180deg);}"]),d=a.ZP.div.withConfig({displayName:"NetworkOverTimeChart.styled__TooltipContainer"})(["display:flex;gap:",";justify-content:center;align-items:flex-end;"],(0,n.W0)(.5)),u=a.ZP.div.withConfig({displayName:"NetworkOverTimeChart.styled__ResponsiveLineContainer"})(["position:absolute;left:0;top:0;width:100%;height:100%;"])},"./src/client/reporting/network-revenue/components/NetworkOverTimeChart/NetworkOverTimeChart.tsx":function(e,o,t){"use strict";t.d(o,{Z:()=>x});var n=t("../node_modules/react/jsx-runtime.js"),a=t("../node_modules/react/index.js"),l=t("../node_modules/@mention-me/flamingo-ui/build/index.es.js"),s=t("../node_modules/@nivo/bar/dist/nivo-bar.es.js"),r=t("../node_modules/@nivo/line/dist/nivo-line.es.js"),m=t("../node_modules/react-i18next/dist/es/index.js"),i=t("../node_modules/styled-components/dist/styled-components.browser.esm.js"),d=t("./src/client/reporting/ecr/hooks/useMerchantData.ts"),u=t("./src/shared/@types/graphql.ts"),c=t("./src/shared/components/Charts/index.ts"),_=t("../node_modules/@apollo/client/react/hooks/useQuery.js"),p=t("./src/shared/@types/reporting.ts"),j=t("./src/shared/hooks/index.ts"),y=t("./src/shared/hooks/useIsDemo.ts"),g=t("./src/client/reporting/network-revenue/components/NetworkOverTimeChart/__mocks__/fetchNetworkOverTime.mock.ts");let k={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchNetworkOverTime"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"merchantId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"networkId"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"groupBy"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"report_valuesOverTime"},arguments:[{kind:"Argument",name:{kind:"Name",value:"merchantId"},value:{kind:"Variable",name:{kind:"Name",value:"merchantId"}}},{kind:"Argument",name:{kind:"Name",value:"metrics"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"NETWORK_INSIGHTS_CUMULATIVE_REVENUE"},{kind:"EnumValue",value:"NETWORK_INSIGHTS_REFERRALS"}]}},{kind:"Argument",name:{kind:"Name",value:"reportParameters"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"timePeriod"},value:{kind:"StringValue",value:"last-all-time",block:!1}},{kind:"ObjectField",name:{kind:"Name",value:"groupBy"},value:{kind:"Variable",name:{kind:"Name",value:"groupBy"}}},{kind:"ObjectField",name:{kind:"Name",value:"networkId"},value:{kind:"Variable",name:{kind:"Name",value:"networkId"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"series"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"metadata"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"metric"}},{kind:"Field",name:{kind:"Name",value:"description"}}]}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"x"}},{kind:"Field",name:{kind:"Name",value:"y"}}]}}]}}]}}]}}]},h=function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.Cc.WEEK,{merchantId:t}=(0,j.rc)(),{isDemo:n,isLoading:l}=(0,y.Z)(),{data:s,loading:r}=(0,_.aM)(k,{variables:{merchantId:t,networkId:e,groupBy:o},fetchPolicy:"cache-first",skip:n});return{data:(0,a.useMemo)(()=>{if(!e)return;let o=(0,g.Z)();return n?o:s},[n,e,s]),loading:r||l}};var v=t("./src/client/reporting/network-revenue/components/NetworkMap/components/NetworkTooltip/NetworkTooltip.styled.tsx"),S=t("./src/client/reporting/network-revenue/components/NetworkOverTimeChart/hooks/useNetworkChartConfig.tsx"),T=t("./src/client/reporting/network-revenue/components/NetworkOverTimeChart/NetworkOverTimeChart.styled.tsx"),R=t("./src/client/reporting/network-revenue/components/NetworkOverTimeChart/NetworkOverTimeChartSkeleton.tsx");let f=e=>{let{networkId:o,groupBy:t,..._}=e,{t:p}=(0,m.$G)("reporting",{keyPrefix:"network-insights.network-over-time-chart"}),{data:j,loading:y}=h(o,t),{reportingCurrencySymbol:g="\xa3"}=(0,d.Z)(),{getTickIntervals:k,getSeriesDataByMetric:f,getLargestValue:x,getLargestCumulativeYValue:D,getFormattedLineData:b}=(0,S.N)(),N=f(j,u.i3.NetworkInsightsCumulativeRevenue),w=f(j,u.i3.NetworkInsightsReferrals),C=x("y",w,1.4),E=D(j),V=b(u.i3.NetworkInsightsCumulativeRevenue,N),{colors:I}=(0,i.Fg)(),O=(0,c.$z)((0,a.useMemo)(()=>({axis:{ticks:{text:{fontSize:12,fill:I.NavyBase}}}}),[I.NavyBase]));return y?(0,n.jsx)(R.Z,{}):(0,n.jsxs)(T.BO,{children:[(0,n.jsxs)(T.$h,{children:[(0,n.jsx)(T.De,{legends:[p("legend-title.number-of-referrals",{default:"Number of referrals",context:t.toUpperCase()})],colours:[I.MidnightBlueBase]}),(0,n.jsxs)(T.W2,{children:[(0,n.jsxs)(c.hC,{style:{height:"500px"},children:[(0,n.jsx)(s.jM,{data:w,indexBy:"x",keys:["y"],maxValue:C,valueFormat:()=>"",margin:{top:10,right:65,bottom:35,left:55},layers:["grid","axes","bars"],groupMode:"grouped",colors:I.MidnightBlueBase,axisRight:null,axisLeft:{tickSize:0},theme:O,axisBottom:{tickValues:k(w)},..._}),(0,n.jsx)(T.xu,{children:(0,n.jsx)(r.fH,{data:V,role:"graphics-document",colors:I.PinkBase,enablePoints:!1,layers:["grid","axes","lines"],axisRight:{tickSize:0},axisLeft:null,enableGridX:!1,enableGridY:!1,crosshairType:"x",isInteractive:!0,useMesh:!0,theme:O,margin:{top:5,right:65,bottom:35,left:55},axisBottom:null,yScale:{max:E,type:"linear"}})})]}),(0,n.jsxs)(T.DY,{children:[(0,n.jsx)(l.L,{children:(0,n.jsx)(m.cC,{t:p,i18nKey:"legend-title.bottom-axis",context:t.toUpperCase(),children:"Time since the first activity in the network"})}),(0,n.jsx)(l.u,{colourTheme:"light",tooltip:(0,n.jsx)(l.S,{children:p("legend.tooltip","An activity is a referral or purchase")}),children:(0,n.jsx)(v.by,{"data-auto-class":"help-icon"})})]})]}),(0,n.jsx)(T.De,{legends:[p("legend-title.total-network-revenue","Total network revenue ({{ reportingCurrencySymbol }})",{reportingCurrencySymbol:g})],colours:[I.HotPinkBase]})]}),(0,n.jsx)(c.Qk,{legends:[p("legend-title.number-of-referrals","Number of referrals",{context:t.toUpperCase()}),p("legend-title.total-network-revenue","Total network revenue ({{ reportingCurrencySymbol }})",{reportingCurrencySymbol:g})],colours:[I.MidnightBlueBase,I.HotPinkBase]})]})},x=f;f.__docgenInfo={description:"",methods:[],displayName:"NetworkOverTimeChart",props:{networkId:{required:!0,tsType:{name:"string"},description:""},groupBy:{required:!0,tsType:{name:"ReportGroupBy"},description:""}}}},"./src/client/reporting/network-revenue/components/NetworkOverTimeChart/NetworkOverTimeChartSkeleton.tsx":function(e,o,t){"use strict";t.d(o,{Z:function(){return p}});var n=t("../node_modules/react/jsx-runtime.js"),a=t("../node_modules/@mention-me/flamingo-ui/build/index.es.js"),l=t("../node_modules/@nivo/bar/dist/nivo-bar.es.js"),s=t("../node_modules/@nivo/line/dist/nivo-line.es.js"),r=t("../node_modules/styled-components/dist/styled-components.browser.esm.js"),m=t("./src/shared/@types/graphql.ts"),i=t("./src/shared/components/Charts/index.ts"),d=t("./src/client/reporting/network-revenue/components/NetworkOverTimeChart/__mocks__/fetchNetworkOverTime.mock.ts"),u=t("./src/client/reporting/network-revenue/components/NetworkOverTimeChart/hooks/useNetworkChartConfig.tsx"),c=t("./src/client/reporting/network-revenue/components/NetworkOverTimeChart/NetworkOverTimeChart.styled.tsx");let _=()=>{let e=(0,d.Z)(),{getSeriesDataByMetric:o,getLargestValue:t,getLargestCumulativeYValue:_,getFormattedLineData:p}=(0,u.N)(),j=o(e,m.i3.NetworkInsightsCumulativeRevenue),y=o(e,m.i3.NetworkInsightsReferrals),g=t("y",y,1.4),k=_(e),h=p(m.i3.NetworkInsightsCumulativeRevenue,j),{colors:v}=(0,r.Fg)();return(0,n.jsxs)(c.BO,{children:[(0,n.jsxs)(c.$h,{children:[(0,n.jsx)("span",{}),(0,n.jsxs)(c.W2,{children:[(0,n.jsxs)(i.hC,{style:{height:"500px"},children:[(0,n.jsx)(l.jM,{data:y,indexBy:"x",keys:["y"],maxValue:g,valueFormat:()=>"",margin:{top:10,right:65,bottom:35,left:55},layers:["grid","bars"],groupMode:"grouped",colors:v.Skeleton,axisRight:null,axisLeft:{tickSize:0},axisBottom:{tickValues:10}}),(0,n.jsx)(c.xu,{children:(0,n.jsx)(s.fH,{data:h,role:"graphics-document",colors:v.Skeleton,enablePoints:!1,layers:["grid","lines"],axisRight:{tickSize:0},axisLeft:null,enableGridX:!1,enableGridY:!1,crosshairType:"x",isInteractive:!0,useMesh:!0,margin:{top:5,right:65,bottom:35,left:55},axisBottom:null,yScale:{max:k,type:"linear"}})})]}),(0,n.jsx)(c.DY,{children:(0,n.jsx)(a.M,{children:(0,n.jsx)(a.Od,{width:300,height:24})})})]})]}),(0,n.jsx)("span",{})]})},p=_;_.__docgenInfo={description:"",methods:[],displayName:"NetworkOverTimeChartSkeleton"}},"./src/client/reporting/network-revenue/components/NetworkOverTimeChart/__mocks__/fetchNetworkOverTime.mock.ts":function(e,o,t){"use strict";t.d(o,{Z:function(){return a}});var n=t("./src/shared/@types/graphql.ts");let a=()=>({__typename:"Query",report_valuesOverTime:{__typename:"ReportingValueOverSeries",id:"d1f6a1a9024b6c6621adb6d177b8a5bfb216a298a108ee6d4b0a8e842626f3a6",series:[{__typename:"ReportingValueSeries",id:"d1f6a1a9024b6c6621adb6d177b8a5bfb216a298a108ee6d4b0a8e842626f3a6MetricNetworkCumulativeRevenueOverTime",type:n.mV.Currency,metadata:{__typename:"ReportingSeriesMetadata",name:"Network cumulative revenue",metric:n.i3.NetworkInsightsCumulativeRevenue,description:"Cumulative revenue for a single network over time."},data:[{__typename:"ReportingValueSeriesData",x:"0",y:1263.61},{__typename:"ReportingValueSeriesData",x:"1",y:1263.61},{__typename:"ReportingValueSeriesData",x:"2",y:7904.73},{__typename:"ReportingValueSeriesData",x:"3",y:19171.14},{__typename:"ReportingValueSeriesData",x:"4",y:32578.29},{__typename:"ReportingValueSeriesData",x:"5",y:40669.1},{__typename:"ReportingValueSeriesData",x:"6",y:44571.64},{__typename:"ReportingValueSeriesData",x:"7",y:52979.98},{__typename:"ReportingValueSeriesData",x:"8",y:67427.93},{__typename:"ReportingValueSeriesData",x:"9",y:88337.47},{__typename:"ReportingValueSeriesData",x:"10",y:112126.85},{__typename:"ReportingValueSeriesData",x:"11",y:124335.1},{__typename:"ReportingValueSeriesData",x:"12",y:128148.9},{__typename:"ReportingValueSeriesData",x:"13",y:128148.9},{__typename:"ReportingValueSeriesData",x:"14",y:128148.9},{__typename:"ReportingValueSeriesData",x:"15",y:133044.31},{__typename:"ReportingValueSeriesData",x:"16",y:134164.27},{__typename:"ReportingValueSeriesData",x:"17",y:134690.9},{__typename:"ReportingValueSeriesData",x:"18",y:135913.57},{__typename:"ReportingValueSeriesData",x:"19",y:135913.57},{__typename:"ReportingValueSeriesData",x:"20",y:135913.57},{__typename:"ReportingValueSeriesData",x:"21",y:135913.57},{__typename:"ReportingValueSeriesData",x:"22",y:153262.37},{__typename:"ReportingValueSeriesData",x:"23",y:153262.37},{__typename:"ReportingValueSeriesData",x:"24",y:155062.37},{__typename:"ReportingValueSeriesData",x:"25",y:158855.2},{__typename:"ReportingValueSeriesData",x:"26",y:158855.2},{__typename:"ReportingValueSeriesData",x:"27",y:160788.14},{__typename:"ReportingValueSeriesData",x:"28",y:170721.9},{__typename:"ReportingValueSeriesData",x:"29",y:171043.25},{__typename:"ReportingValueSeriesData",x:"30",y:171043.25},{__typename:"ReportingValueSeriesData",x:"31",y:176130.88},{__typename:"ReportingValueSeriesData",x:"32",y:177427.1},{__typename:"ReportingValueSeriesData",x:"33",y:186652.47},{__typename:"ReportingValueSeriesData",x:"34",y:216550.92},{__typename:"ReportingValueSeriesData",x:"35",y:217948.61},{__typename:"ReportingValueSeriesData",x:"36",y:222060.01},{__typename:"ReportingValueSeriesData",x:"37",y:223828.39},{__typename:"ReportingValueSeriesData",x:"38",y:226897.3},{__typename:"ReportingValueSeriesData",x:"39",y:227890.14},{__typename:"ReportingValueSeriesData",x:"40",y:228434.33},{__typename:"ReportingValueSeriesData",x:"41",y:228778.41},{__typename:"ReportingValueSeriesData",x:"42",y:232208.73},{__typename:"ReportingValueSeriesData",x:"43",y:233848.73},{__typename:"ReportingValueSeriesData",x:"44",y:234101.46},{__typename:"ReportingValueSeriesData",x:"45",y:238183.97},{__typename:"ReportingValueSeriesData",x:"46",y:239906.13},{__typename:"ReportingValueSeriesData",x:"47",y:240081.98},{__typename:"ReportingValueSeriesData",x:"48",y:240081.98},{__typename:"ReportingValueSeriesData",x:"49",y:240081.98},{__typename:"ReportingValueSeriesData",x:"50",y:240789.78},{__typename:"ReportingValueSeriesData",x:"51",y:254785.41},{__typename:"ReportingValueSeriesData",x:"52",y:302579.07},{__typename:"ReportingValueSeriesData",x:"53",y:323902.89},{__typename:"ReportingValueSeriesData",x:"54",y:345659.4},{__typename:"ReportingValueSeriesData",x:"55",y:375480.95}]},{__typename:"ReportingValueSeries",id:"d1f6a1a9024b6c6621adb6d177b8a5bfb216a298a108ee6d4b0a8e842626f3a6MetricNetworkReferralsOverTime",type:n.mV.Number,metadata:{__typename:"ReportingSeriesMetadata",name:"Network referrals over time",metric:n.i3.NetworkInsightsReferrals,description:"Number of referrals happening in a network over time."},data:[{__typename:"ReportingValueSeriesData",x:"0",y:0},{__typename:"ReportingValueSeriesData",x:"1",y:0},{__typename:"ReportingValueSeriesData",x:"2",y:3},{__typename:"ReportingValueSeriesData",x:"3",y:0},{__typename:"ReportingValueSeriesData",x:"4",y:0},{__typename:"ReportingValueSeriesData",x:"5",y:1},{__typename:"ReportingValueSeriesData",x:"6",y:0},{__typename:"ReportingValueSeriesData",x:"7",y:0},{__typename:"ReportingValueSeriesData",x:"8",y:10},{__typename:"ReportingValueSeriesData",x:"9",y:0},{__typename:"ReportingValueSeriesData",x:"10",y:0},{__typename:"ReportingValueSeriesData",x:"11",y:30},{__typename:"ReportingValueSeriesData",x:"12",y:0},{__typename:"ReportingValueSeriesData",x:"13",y:0},{__typename:"ReportingValueSeriesData",x:"14",y:0},{__typename:"ReportingValueSeriesData",x:"15",y:0},{__typename:"ReportingValueSeriesData",x:"16",y:0},{__typename:"ReportingValueSeriesData",x:"17",y:0},{__typename:"ReportingValueSeriesData",x:"18",y:0},{__typename:"ReportingValueSeriesData",x:"19",y:0},{__typename:"ReportingValueSeriesData",x:"20",y:0},{__typename:"ReportingValueSeriesData",x:"21",y:0},{__typename:"ReportingValueSeriesData",x:"22",y:0},{__typename:"ReportingValueSeriesData",x:"23",y:0},{__typename:"ReportingValueSeriesData",x:"24",y:80},{__typename:"ReportingValueSeriesData",x:"25",y:0},{__typename:"ReportingValueSeriesData",x:"26",y:0},{__typename:"ReportingValueSeriesData",x:"27",y:0},{__typename:"ReportingValueSeriesData",x:"28",y:0},{__typename:"ReportingValueSeriesData",x:"29",y:0},{__typename:"ReportingValueSeriesData",x:"30",y:0},{__typename:"ReportingValueSeriesData",x:"31",y:0},{__typename:"ReportingValueSeriesData",x:"32",y:0},{__typename:"ReportingValueSeriesData",x:"33",y:0},{__typename:"ReportingValueSeriesData",x:"34",y:1},{__typename:"ReportingValueSeriesData",x:"35",y:0},{__typename:"ReportingValueSeriesData",x:"36",y:0},{__typename:"ReportingValueSeriesData",x:"37",y:30},{__typename:"ReportingValueSeriesData",x:"38",y:0},{__typename:"ReportingValueSeriesData",x:"39",y:0},{__typename:"ReportingValueSeriesData",x:"40",y:0},{__typename:"ReportingValueSeriesData",x:"41",y:0},{__typename:"ReportingValueSeriesData",x:"42",y:0},{__typename:"ReportingValueSeriesData",x:"43",y:30},{__typename:"ReportingValueSeriesData",x:"44",y:0},{__typename:"ReportingValueSeriesData",x:"45",y:0},{__typename:"ReportingValueSeriesData",x:"46",y:0},{__typename:"ReportingValueSeriesData",x:"47",y:0},{__typename:"ReportingValueSeriesData",x:"48",y:20},{__typename:"ReportingValueSeriesData",x:"49",y:0},{__typename:"ReportingValueSeriesData",x:"50",y:6},{__typename:"ReportingValueSeriesData",x:"51",y:0},{__typename:"ReportingValueSeriesData",x:"52",y:0},{__typename:"ReportingValueSeriesData",x:"53",y:8},{__typename:"ReportingValueSeriesData",x:"54",y:0},{__typename:"ReportingValueSeriesData",x:"55",y:0}]}]}})},"./src/client/reporting/network-revenue/components/NetworkOverTimeChart/hooks/useNetworkChartConfig.tsx":function(e,o,t){"use strict";t.d(o,{N:function(){return l}});var n=t("../node_modules/react/index.js"),a=t("./src/shared/@types/graphql.ts");let l=()=>{let e=(0,n.useCallback)((e,o)=>{var t,n;return(null==e?void 0:null===(n=e.report_valuesOverTime.series)||void 0===n?void 0:null===(t=n.find(e=>{let{metadata:t}=e;return t.metric===o}))||void 0===t?void 0:t.data)||[]},[]),o=(0,n.useCallback)((e,o)=>e===a.i3.NetworkInsightsCumulativeRevenue?[{id:e,data:[...o]}]:o.map(o=>({id:e,data:[{...o}]})),[]),t=(0,n.useCallback)((e,o,t)=>Math.ceil(Math.max(...o.map(o=>o[e]))*t),[]),l=(0,n.useCallback)(o=>{let n=e(o,a.i3.NetworkInsightsCumulativeRevenue);return 0===n.length?0:t("y",n,1.1)},[e,t]);return{getSeriesDataByMetric:e,getFormattedLineData:o,getLargestValue:t,getLargestCumulativeYValue:l,getTickIntervals:(0,n.useCallback)(function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return e.filter(e=>parseInt(e.x,10)%o==0).map(e=>e.x)},[])}}},"./src/shared/hooks/useIsDemo.ts":function(e,o,t){"use strict";t.d(o,{Z:function(){return l}});var n=t("./src/shared/hooks/useConfig/useConfig.ts"),a=t("./src/shared/hooks/useIsEnvironmentStrict/index.ts");let l=()=>{var e;let{data:o,loading:t}=(0,n.Z)(),l=!(0,a.Z)(),s=!!(null==o?void 0:null===(e=o.config)||void 0===e?void 0:e.shouldUseDummyData);return{isDemo:l||s,isLoading:t}}},"../node_modules/msw/lib/core/graphql.mjs":function(e,o,t){"use strict";t.d(o,{B:()=>T});var n=t("../node_modules/msw/lib/core/handlers/RequestHandler.mjs"),a=t("../node_modules/msw/lib/core/utils/logging/getTimestamp.mjs"),l=t("../node_modules/msw/lib/core/utils/logging/getStatusCodeColor.mjs"),s=t("../node_modules/msw/lib/core/utils/logging/serializeRequest.mjs"),r=t("../node_modules/msw/lib/core/utils/logging/serializeResponse.mjs"),m=t("../node_modules/msw/lib/core/utils/matching/matchRequestUrl.mjs"),i=t("../node_modules/msw/lib/core/utils/request/toPublicUrl.mjs"),d=t("../node_modules/msw/lib/core/utils/internal/devUtils.mjs");function u(e){try{return JSON.parse(e)}catch{return}}var c=t("../node_modules/headers-polyfill/lib/index.mjs");function _(e){let o=e.definitions.find(e=>"OperationDefinition"===e.kind);return{operationType:o?.operation,operationName:o?.name?.value}}async function p(e){let{parse:o}=await t.e("8055").then(t.bind(t,"../node_modules/msw/node_modules/graphql/index.mjs")).catch(e=>{throw console.error('[MSW] Failed to parse a GraphQL query: cannot import the "graphql" module. Please make sure you install it if you wish to intercept GraphQL requests. See the original import error below.'),e});try{let t=o(e);return _(t)}catch(e){return e}}async function j(e){switch(e.method){case"GET":{let o=new URL(e.url),t=o.searchParams.get("query");return{query:t,variables:u(o.searchParams.get("variables")||"")}}case"POST":{let o=e.clone();if(e.headers.get("content-type")?.includes("multipart/form-data")){let t=function(e,o){let t=o?.get("content-type");if(!t)return;let[,...n]=t.split(/; */),a=n.filter(e=>e.startsWith("boundary=")).map(e=>e.replace(/^boundary=/,""))[0];if(!a)return;let l=RegExp(`--+${a}`),s=e.split(l).filter(e=>e.startsWith("\r\n")&&e.endsWith("\r\n")).map(e=>e.trimStart().replace(/\r\n$/,""));if(!s.length)return;let r={};try{for(let e of s){let[o,...t]=e.split("\r\n\r\n"),n=t.join("\r\n\r\n"),{contentType:a,filename:l,name:s}=function(e){let o=(0,c.$M)(e),t=o.get("content-type")||"text/plain",n=o.get("content-disposition");if(!n)throw Error('"Content-Disposition" header is required.');let a=n.split(";").reduce((e,o)=>{let[t,...n]=o.trim().split("=");return e[t]=n.join("="),e},{}),l=a.name?.slice(1,-1);return{name:l,filename:a.filename?.slice(1,-1),contentType:t}}(o),m=void 0===l?n:new File([n],l,{type:a}),i=r[s];void 0===i?r[s]=m:Array.isArray(i)?r[s]=[...i,m]:r[s]=[i,m]}return r}catch{return}}(await o.text(),e.headers);if(!t)return null;let{operations:n,map:a,...l}=t,s=u(n)||{};if(!s.query)return null;let r=u(a||"")||{},m=s.variables?function(e,o,t){let n={variables:e};for(let[e,a]of Object.entries(o)){if(!(e in t))throw Error(`Given files do not have a key '${e}' .`);for(let o of a){let[a,...l]=o.split(".").reverse(),s=l.reverse(),r=n;for(let e of s){if(!(e in r))throw Error(`Property '${s}' is not in operations.`);r=r[e]}r[a]=t[e]}}return n.variables}(s.variables,r,l):{};return{query:s.query,variables:m}}let t=await o.json().catch(()=>null);if(t?.query){let{query:e,variables:o}=t;return{query:e,variables:o}}}default:return null}}async function y(e){let o=await j(e);if(!o||!o.query)return;let{query:t,variables:n}=o,a=await p(t);if(a instanceof Error){let o=(0,i.F)(e.url);throw Error(d.e.formatMessage('Failed to intercept a GraphQL request to "%s %s": cannot parse query. See the error message from the parser below.\n\n%s',e.method,o,a.message))}return{query:o.query,operationType:a.operationType,operationName:a.operationName,variables:n}}var g=t("../node_modules/msw/lib/core/utils/request/getRequestCookies.mjs");class k extends n.Z{endpoint;static parsedRequestCache=new WeakMap;constructor(e,o,t,n,a){var l;let s=o;if(null!=(l=o)&&"object"==typeof l&&"kind"in l&&"definitions"in l){let t=_(o);if(t.operationType!==e)throw Error(`Failed to create a GraphQL handler: provided a DocumentNode with a mismatched operation type (expected "${e}", but got "${t.operationType}").`);if(!t.operationName)throw Error("Failed to create a GraphQL handler: provided a DocumentNode with no operation name.");s=t.operationName}super({info:{header:"all"===e?`${e} (origin: ${t.toString()})`:`${e} ${s} (origin: ${t.toString()})`,operationType:e,operationName:s},resolver:n,options:a}),this.endpoint=t}async parseGraphQLRequestOrGetFromCache(e){return!k.parsedRequestCache.has(e)&&k.parsedRequestCache.set(e,await y(e).catch(e=>{console.error(e)})),k.parsedRequestCache.get(e)}async parse(e){let o=(0,m.R)(new URL(e.request.url),this.endpoint),t=(0,g.B)(e.request);if(!o.matches)return{match:o,cookies:t};let n=await this.parseGraphQLRequestOrGetFromCache(e.request);return void 0===n?{match:o,cookies:t}:{match:o,cookies:t,query:n.query,operationType:n.operationType,operationName:n.operationName,variables:n.variables}}predicate(e){if(void 0===e.parsedResult.operationType)return!1;if(!e.parsedResult.operationName&&"all"!==this.info.operationType){let o=(0,i.F)(e.request.url);return d.e.warn(`Failed to intercept a GraphQL request at "${e.request.method} ${o}": anonymous GraphQL operations are not supported.

Consider naming this operation or using "graphql.operation()" request handler to intercept GraphQL requests regardless of their operation name/type. Read more: https://mswjs.io/docs/api/graphql/#graphqloperationresolver`),!1}let o="all"===this.info.operationType||e.parsedResult.operationType===this.info.operationType,t=this.info.operationName instanceof RegExp?this.info.operationName.test(e.parsedResult.operationName||""):e.parsedResult.operationName===this.info.operationName;return e.parsedResult.match.matches&&o&&t}extendResolverArgs(e){return{query:e.parsedResult.query||"",operationName:e.parsedResult.operationName||"",variables:e.parsedResult.variables||{},cookies:e.parsedResult.cookies}}async log(e){let o=await (0,s.Y)(e.request),t=await (0,r.X)(e.response),n=(0,l.m)(t.status),m=e.parsedResult.operationName?`${e.parsedResult.operationType} ${e.parsedResult.operationName}`:`anonymous ${e.parsedResult.operationType}`;console.groupCollapsed(d.e.formatMessage(`${(0,a.u)()} ${m} (%c${t.status} ${t.statusText}%c)`),`color:${n}`,"color:inherit"),console.log("Request:",o),console.log("Handler:",this),console.log("Response:",t),console.groupEnd()}}function h(e,o){return(t,n,a={})=>new k(e,t,o,n,a)}function v(e){return o=>new k("all",RegExp(".*"),e,o)}let S={query:h("query","*"),mutation:h("mutation","*"),operation:v("*")},T={...S,link:function(e){return{operation:v(e),query:h("query",e),mutation:h("mutation",e)}}}}}]);
//# sourceMappingURL=9916.1c5297df.iframe.bundle.js.map