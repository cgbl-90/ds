/*! For license information please see shared-components-IntegrationDataTermsPanel-IntegrationDataTermsPanel-stories.e205397d.iframe.bundle.js.LICENSE.txt */
(globalThis.webpackChunk_mention_me_frontend=globalThis.webpackChunk_mention_me_frontend||[]).push([["4890"],{"./src/shared/components/Chart/ChartInternal.module.less?712b":function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n={loading:"loading-i429gv",header:"header-INChVS",titles:"titles-herhqc",chartWrapper:"chartWrapper-v_5RGH",chartWrapperLegendLeft:"chartWrapperLegendLeft-gyUVNB",chartWrapperLegendRight:"chartWrapperLegendRight-N6VGBw",chartWrapperLegendTop:"chartWrapperLegendTop-JPzW2f",chartWrapperLegendBottom:"chartWrapperLegendBottom-ZyJR9E",chart:"chart-_XQz0c",customChartLegendHidden:"customChartLegendHidden-QDlMox"}},"./src/shared/components/IntegrationDataTermsPanel/IntegrationDataTermsPanel.stories.tsx":function(e,t,a){"use strict";a.r(t),a.d(t,{AcceptedTerms:()=>v,default:()=>w,Default:()=>C});var n=a("../node_modules/react/jsx-runtime.js"),r=a("../node_modules/@apollo/client/react/context/ApolloProvider.js"),s=a("./src/shared/context/NotificationContext.tsx"),i=a("./src/shared/apollo/client.ts"),o=a("../node_modules/@apollo/client/react/hooks/useMutation.js"),d=a("../node_modules/@mention-me/flamingo-ui/build/index.es.js"),l=a("../node_modules/react-i18next/dist/es/index.js"),c=a("./src/shared/hooks/index.ts"),h=a("./src/user/hooks/useActiveUserState.ts");let m={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"acceptDataTerms"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"merchantId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"acceptDataTerms"},arguments:[{kind:"Argument",name:{kind:"Name",value:"merchantId"},value:{kind:"Variable",name:{kind:"Name",value:"merchantId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"dataTermsAcceptance"}}]}}]}}]};var u=a("../node_modules/styled-components/dist/styled-components.browser.esm.js");let p=(0,u.ZP)(d.zx).withConfig({displayName:"IntegrationDataTermsPanel.styled__ConfirmationButton"})(["margin-top:",";"],(0,d.W0)(2)),f=u.ZP.ol.withConfig({displayName:"IntegrationDataTermsPanel.styled__List"})(["list-style:none;counter-reset:item;"]),g=(0,u.ZP)(f).withConfig({displayName:"IntegrationDataTermsPanel.styled__RootList"})(["margin:"," 0;padding-left:0;"],(0,d.W0)(3)),y=(0,u.ZP)(d.S).withConfig({displayName:"IntegrationDataTermsPanel.styled__AcknowledgementParagraph"})(["font-weight:",";font-size:",";color:",";"],(0,d.Ue)("m"),(0,d.JB)("m"),(0,d.Ys)("NavyBase")),T=u.ZP.li.withConfig({displayName:"IntegrationDataTermsPanel.styled__ListItem"})(["margin-top:",';&::before{position:relative;content:counters(item,".") ". ";counter-increment:item;}'],(0,d.W0)(2)),b=u.ZP.li.withConfig({displayName:"IntegrationDataTermsPanel.styled__UncountedListItem"})(["margin-top:",';&::before{position:relative;content:"";}'],(0,d.W0)(2)),x=e=>{let{hasAcceptedDataTerms:t,onSuccessfulDataTermsAcceptance:a}=e,{merchantId:r}=(0,c.rc)(),{t:i}=(0,l.$G)("shared"),{addErrorNotification:u}=(0,s.kE)(),{data:x,isLoading:w}=(0,h.Z)(),j=!w&&x,C=()=>{u(i("data-terms.failure-notification.heading","Oops!"),i("data-terms.failure-notification.description","We were unable to successfully accept the data terms agreement."))},[v,{loading:D}]=(0,o.D)(m,{variables:{merchantId:r},onCompleted:e=>{var t;if(null===(t=e.acceptDataTerms)||void 0===t?void 0:t.dataTermsAcceptance){a();return}C()},onError:C});return(0,n.jsxs)("div",{"data-auto-class":"integration-data-terms-panel",children:[(0,n.jsx)(d.H3,{children:i("data-terms.content.heading","Data Transfer Terms")}),(0,n.jsxs)(d.M,{as:g,children:[(0,n.jsx)(T,{children:(0,n.jsxs)(l.cC,{t:i,i18nKey:"data-terms.content.list.item-1",children:["You (on behalf of the ",(0,n.jsx)("strong",{children:"Client"}),") are seeing these"," ",(0,n.jsx)("strong",{children:"Data Transfer Terms"})," because you have either:",(0,n.jsxs)(f,{children:[(0,n.jsx)(T,{children:"asked Mention Me to transfer Protected Data that we process on the Client’s behalf to a third-party supplier of the Client; and/or"}),(0,n.jsx)(T,{children:"asked a third-party supplier of the Client to transfer data to Mention Me,"}),(0,n.jsxs)(b,{children:["(each of 1.1 and 1.2 shall be a ",(0,n.jsx)("strong",{children:"Data Transfer"})," and the third-party supplier shall be a ",(0,n.jsx)("strong",{children:"Third Party Processor"}),")."]})]})]})}),(0,n.jsxs)(b,{children:["These Data Sharing Terms form an addendum to Mention Me’s contract with the Client (the"," ",(0,n.jsx)("strong",{children:"Client Agreement"}),") and apply only to Data Transfers."]}),(0,n.jsx)(T,{children:i("data-terms.content.list.item-2","Defined terms used but not defined in these Data Transfer Terms shall have the meaning given to them in the Client Agreement. All other terms of the Client Agreement continue to apply to Data Transfers, however in the event of conflict between the Client Agreement and these Data Transfer Terms, these Data Transfer Terms will prevail.")}),(0,n.jsx)(T,{children:(0,n.jsxs)(l.cC,{t:i,i18nKey:"data-terms.content.list.item-3",children:["In relation to each Data Transfer under clause 1.1, you confirm on behalf of the Client that:",(0,n.jsxs)(f,{children:[(0,n.jsx)(T,{children:"The relevant Third Party Processor is a Data Processor directly for the Client and shall not be Mention Me’s Sub-processor."}),(0,n.jsx)(T,{children:"Mention Me shall not be liable to the Client for any breaches of Data Protection Laws by a Third Party Processor."}),(0,n.jsx)(T,{children:"The Client warrants that any instructions provided to Mention Me to carry out a Data Transfer to a Third Party Processor shall comply with Data Protection Laws."}),(0,n.jsx)(T,{children:"Mention Me will use reasonable endeavours to carry out the Data Transfer in a reasonably secure manner, however the Client acknowledges and accepts that Mention Me provides no warranties or guarantees that the Data Transfer will be carried out successfully, or that the personal data subject to the Data Transfer will be accurate, reliable or error free. Mention Me excludes, to the fullest extent permitted by law, all liability in the relation to the Data Transfer and the personal data which is subject to the Data Transfer."})]})]})}),(0,n.jsx)(T,{children:(0,n.jsxs)(l.cC,{t:i,i18nKey:"data-terms.content.list.item-4",children:["In relation to each Data Transfer under clause 1.2, you confirm on behalf of the Client that:",(0,n.jsxs)(f,{children:[(0,n.jsx)(T,{children:"We will process this data to fulfill purposes agreed with you in the Client Agreement or otherwise such as providing you with additional actionable insights to improve our marketing services to you, our Client."}),(0,n.jsx)(T,{children:"The relevant Third Party Processor is a Data Processor directly for the Client and is sending the Data Transfer on the Client’s instructions to us as a processor of yours. No contractual relationship shall be created between the Third Party Processor, acting under your instructions, and Mention Me."}),(0,n.jsx)(T,{children:"Mention Me shall not be liable to the Client for any breaches of Data Protection Laws by a Third Party Processor or any loss or damage incurred by the Third Party’s Data Transfer to Mention Me. Notwithstanding this once Mention Me is in receipt of the data transferred then the provisions pertaining to the handling of such data shall be in line with the Client Agreement unless otherwise agreed."}),(0,n.jsx)(T,{children:"The Client warrants that the Data Transfer, any instructions provided to Mention Me to carry out a Data Transfer from a Third Party Processor and the right to use such data from the Third Party Processor shall comply with Data Protection Laws."}),(0,n.jsx)(T,{children:"Mention Me excludes, to the fullest extent permitted by law, all liability in the relation to the Data Transfer and the personal data which is subject to the Data Transfer."})]})]})})]}),(0,n.jsx)(y,{children:"By accepting the data terms presented above, you confirm that you have authority to bind the Client and agree to these Data Transfer Terms on behalf of the Client."}),(0,n.jsx)(p,{variant:"primary",disabled:t||!j||D,onClick:()=>v(),"data-auto-class":"accept-terms-button",children:j?i("data-terms.content.acceptance-cta",{defaultValue:"I, {{email}}, accept the data terms presented above",email:null==x?void 0:x.email,context:t?"ACCEPTED":""}):(0,n.jsxs)(l.cC,{i18nKey:"data-terms.content.acceptance-cta-loading",children:["I, ",(0,n.jsx)(d.Od,{width:100}),", accept the data terms presented above"]})})]})};x.__docgenInfo={description:"",methods:[],displayName:"IntegrationDataTermsPanel",props:{onSuccessfulDataTermsAcceptance:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},hasAcceptedDataTerms:{required:!1,tsType:{name:"boolean"},description:""}}};let w={component:x,title:"Shared / Integration Data Terms Panel",args:{},decorators:[e=>(0,n.jsx)(r.e,{client:i.ZP,children:(0,n.jsx)(s.JB,{children:e()})})]},j=e=>(0,n.jsx)(x,{...e}),C=j.bind({});C.args={onSuccessfulDataTermsAcceptance:()=>{}};let v=j.bind({});v.args={onSuccessfulDataTermsAcceptance:()=>{},hasAcceptedDataTerms:!0},C.parameters={...C.parameters,docs:{...C.parameters?.docs,source:{originalSource:"args => {\n  return <IntegrationDataTermsPanel {...args} />;\n}",...C.parameters?.docs?.source}}},v.parameters={...v.parameters,docs:{...v.parameters?.docs,source:{originalSource:"args => {\n  return <IntegrationDataTermsPanel {...args} />;\n}",...v.parameters?.docs?.source}}}},"./src/shared/components/Chart/Chart.tsx":function(e,t,a){"use strict";a.d(t,{Z:()=>f});var n=a("../node_modules/react/jsx-runtime.js"),r=a("../node_modules/react/index.js"),s=a("../node_modules/@mention-me/flamingo-ui/build/index.es.js"),i=a("../node_modules/styled-components/dist/styled-components.browser.esm.js"),o=a("./src/shared/components/Chart/ChartInternal.module.less?712b");let d=(0,r.lazy)(()=>Promise.all([a.e("2084"),a.e("7773"),a.e("6168"),a.e("3268"),a.e("7186"),a.e("2392"),a.e("6064"),a.e("1586"),a.e("6292"),a.e("4878"),a.e("1379"),a.e("3363"),a.e("4699"),a.e("247"),a.e("7847"),a.e("897"),a.e("4175"),a.e("7256"),a.e("1141"),a.e("4684"),a.e("4712"),a.e("9432"),a.e("4537")]).then(a.bind(a,"./src/shared/components/Chart/ChartInternal.tsx"))),l=(0,r.forwardRef)((e,t)=>{let{chartHeight:a,fallback:s,isLoading:i,...l}=e,c=s?(0,n.jsx)("div",{style:{height:a},children:s}):(0,n.jsx)("div",{className:o.Z.loading,style:{height:a}});return(0,n.jsx)(r.Suspense,{fallback:c,children:i?c:(0,n.jsx)(d,{ref:t,chartHeight:a,...l})})});l.__docgenInfo={description:"",methods:[],displayName:"LazyChart"};let c=i.ZP.div.withConfig({displayName:"ChartModal.styled__FallbackContainer"})(["height:80vh;.fallback{height:70vh;}"]),h=i.ZP.div.withConfig({displayName:"ChartModal.styled__Fallback"})(["height:70vh;"]),m=(0,i.ZP)(l).withConfig({displayName:"ChartModal.styled__Chart"})(["h3{font-weight:300;opacity:1;font-size:24px;padding-bottom:11px;}"]),u=e=>{let{config:t,data:a,annotations:r,amChartType:i,className:o,title:d,isOpen:l,isLoading:u,fallback:p,closeModal:f,openModal:g,shouldShowDownloadImage:y,...T}=e;return(0,n.jsx)(s.u_,{isOpen:l,onClose:f,modalVariant:"expanded",children:(0,n.jsxs)(s.u_.Content,{children:[(0,n.jsxs)(s.u_.Header,{children:[(0,n.jsx)(s.H5,{children:d}),(0,n.jsx)(s.u_.CloseButton,{})]}),(0,n.jsx)(s.u_.Body,{children:(0,n.jsx)(m,{isExpandMode:!0,className:o,config:t,data:a,annotations:r,amChartType:i,chartHeight:"75vh",openModal:g,isLoading:u,shouldShowDownloadImage:y,fallback:(0,n.jsx)(c,{children:(0,n.jsx)(h,{children:p})}),...T})})]})})};u.__docgenInfo={description:"",methods:[],displayName:"ChartModal",props:{config:{required:!1,tsType:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>"},description:""},data:{required:!1,tsType:{name:"Array",elements:[{name:"any"}],raw:"any[]"},description:""},annotations:{required:!1,tsType:{name:"Array",elements:[{name:"any"}],raw:"any[]"},description:""},amChartType:{required:!1,tsType:{name:"string"},description:""},chartHeight:{required:!1,tsType:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}]},description:""},title:{required:!1,tsType:{name:"ReactReactElement",raw:"React.ReactElement"},description:""},subTitle:{required:!1,tsType:{name:"ReactReactElement",raw:"React.ReactElement"},description:""},isExpandMode:{required:!1,tsType:{name:"boolean"},description:""},openModal:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},shouldShowDownloadImage:{required:!1,tsType:{name:"boolean"},description:""},hasTogglableLegend:{required:!1,tsType:{name:"boolean"},description:""},isAnimated:{required:!1,tsType:{name:"boolean"},description:""},shouldShowHeader:{required:!1,tsType:{name:"boolean"},description:""},isOpen:{required:!0,tsType:{name:"boolean"},description:""},isLoading:{required:!1,tsType:{name:"boolean"},description:""},fallback:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},closeModal:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}},composes:["Omit"]};let p=(0,r.forwardRef)((e,t)=>{let{config:a,data:s,annotations:i,amChartType:o,className:d,chartHeight:c,title:h,subTitle:m,fallback:p,isLoading:f,shouldShowDownloadImage:g=!0,...y}=e,[T,b]=(0,r.useState)(!1),x=()=>b(!0);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l,{className:d,config:a,data:s,annotations:i,amChartType:o,chartHeight:c,title:h,subTitle:m,openModal:x,fallback:p,isLoading:f,ref:t,shouldShowDownloadImage:g,...y}),(0,n.jsx)(u,{className:d,config:a,data:s,annotations:i,amChartType:o,title:h,isOpen:T,fallback:p,closeModal:()=>b(!1),openModal:x,isLoading:f,shouldShowDownloadImage:g,...y})]})}),f=p;p.__docgenInfo={description:"",methods:[],displayName:"Chart",props:{shouldShowDownloadImage:{defaultValue:{value:"true",computed:!1},required:!1}}}},"../node_modules/classnames/index.js":function(e){!function(){"use strict";var t={}.hasOwnProperty;function a(){for(var e="",r=0;r<arguments.length;r++){var s=arguments[r];s&&(e=n(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var r="";for(var s in e)t.call(e,s)&&e[s]&&(r=n(r,s));return r}(s)))}return e}function n(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return a}):window.classNames=a}()}}]);