"use strict";(globalThis.webpackChunk_mention_me_frontend=globalThis.webpackChunk_mention_me_frontend||[]).push([["6734"],{"./src/client/advocacy/components/AdvocacyTemplate.tsx":function(e,a,t){t.d(a,{Z:()=>ek});var n=t("../node_modules/react/jsx-runtime.js"),r=t("../node_modules/@mention-me/flamingo-ui/build/index.es.js"),s=t("../node_modules/react-i18next/dist/es/index.js"),i=t("./src/shared/hooks/index.ts"),o=t("./src/shared/components/index.ts"),l=t("../node_modules/react/index.js"),d=t("../node_modules/react-router/esm/react-router.js"),c=t("../node_modules/styled-components/dist/styled-components.browser.esm.js"),m=t("./src/shared/components/ScrollToTop/index.ts"),u=t("../node_modules/@apollo/client/react/hooks/useQuery.js"),p=t("../node_modules/dompurify/dist/purify.js"),h=t.n(p),g=t("./src/shared/constants/sanitize.ts"),b=t("./src/shared/context/NotificationContext.tsx"),v=t("./src/shared/hooks/useEntityIds/index.ts");let x={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchNotifications"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"merchant"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"platformAlert"}}]}}]}}]},f=()=>{let{addBannerNotification:e}=(0,b.kE)(),{merchantId:a}=(0,v.Z)();(0,u.aM)(x,{variables:{id:String(a)},skip:!a,onCompleted:a=>{let{merchant:t}=a,r=null==t?void 0:t.platformAlert;if(r&&!r.startsWith("{{UNDEFINED")){let a=h().sanitize(r,{ALLOWED_TAGS:g.r,ADD_ATTR:g.o}),t=/<h1>(.*)<\/h1>(.*)/.exec(a.replace(/\n|\s+/g," ")),s=t?t[1]:"",i=t?t[2]:a;e("error",s,(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:i}}),"merchant-alert")}}})};var k=t("../node_modules/classnames/index.js"),y=t.n(k),j=t("../node_modules/react-router-dom/esm/react-router-dom.js"),N=t("./src/shared/hooks/useGlobalStore/index.ts");let T=(e,a)=>(null==e?void 0:e.length)<=a?e:`${e.slice(0,a-1).trim()}â€¦`,w={breadcrumb:"breadcrumb-WIlSTI",breadcrumbSpan:"breadcrumbSpan-wfei3_",breadcrumbLink:"breadcrumbLink-A65C9B",truncateLink:"truncateLink-YX5ETs",divider:"divider-_5e3j9",dividerIcon:"dividerIcon-Nsv3aV"},S=e=>{let{isDropdown:a,...t}=e;return a?(0,n.jsx)(r.Lt.Link,{...t}):(0,n.jsx)(r.BY,{...t})},_=(0,l.forwardRef)((e,a)=>{let{breadcrumbItem:t,className:r,isDropdown:s}=e,{link:i,title:o,preload:d=!1}=t,c=(0,N.Vp)(),m=(0,l.useMemo)(()=>T(o,30),[o]);return i?c&&d?(0,n.jsx)(S,{as:j.OL,"aria-label":o,title:o,className:y()(w.breadcrumbLink,r),to:i,ref:a,isDropdown:s,children:m}):(0,n.jsx)(S,{as:"a",href:i,"aria-label":o,title:o,ref:a,className:y()(w.breadcrumbLink,r),isDropdown:s,children:m}):(0,n.jsx)(S,{as:"span",ref:a,className:y()(w.breadcrumbSpan,r),title:o,isDropdown:s,disabled:!0,children:m})});_.__docgenInfo={description:"",methods:[],displayName:"BreadcrumbLink"};var C=t("./src/shared/components/Breadcrumbs/assets/arrow.svg");let R=e=>{let{lastItem:a=!1,truncateTitle:t=!0,breadcrumbItem:s}=e,i=s.title.length>30,o=(0,l.useMemo)(()=>T(s.title,30),[s.title]);return a?(0,n.jsx)("li",{className:w.breadcrumb,"aria-current":"page",title:s.title,children:(0,n.jsx)("span",{className:w.breadcrumbSpan,children:o})}):(0,n.jsxs)("li",{className:w.breadcrumb,children:[i&&t?(0,n.jsx)(r.u,{tooltip:s.title,children:(0,n.jsx)(_,{breadcrumbItem:s,className:w.truncateLink})}):(0,n.jsx)(_,{breadcrumbItem:s}),(0,n.jsx)("span",{className:w.divider,children:(0,n.jsx)(C.Z,{className:w.dividerIcon})})]})};R.Skeleton=()=>(0,n.jsx)("li",{className:w.breadcrumb,children:(0,n.jsx)("span",{className:w.breadcrumbLink,children:(0,n.jsx)(r.Od,{width:150})})});R.__docgenInfo={description:"",methods:[{name:"Skeleton",docblock:null,modifiers:["static"],params:[],returns:null}],displayName:"Breadcrumb",props:{lastItem:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},truncateTitle:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},breadcrumbItem:{required:!0,tsType:{name:"BreadcrumbItem"},description:""}}};let I={breadcrumbs:"breadcrumbs-iFu13Z",breadcrumbExtra:"breadcrumbExtra-rWZadI",divider:"divider-O5NOEc",dividerIcon:"dividerIcon-jF9z7a",breadcrumbDropdown:"breadcrumbDropdown-ucLGrs"},P=e=>{let{breadcrumbItems:a}=e,{t}=(0,s.$G)("breadcrumbs");return(0,n.jsx)("nav",{"aria-label":t("breadcrumb.label","Breadcrumb"),children:(0,n.jsx)("ol",{className:I.breadcrumbs,children:a.map((e,t)=>a.length<=4||[0,a.length-1,a.length-2].includes(t)?(0,n.jsx)(R,{lastItem:t===a.length-1,breadcrumbItem:e},e.title):1===t&&(0,n.jsxs)("li",{className:I.breadcrumbExtra,children:[(0,n.jsx)(r.Lt,{className:I.breadcrumbDropdown,isIconOnly:!0,variant:"outline",children:a.slice(1,-2).map(e=>(0,n.jsx)(_,{breadcrumbItem:e,isDropdown:!0},e.title))}),(0,n.jsx)("span",{className:I.divider,children:(0,n.jsx)(C.Z,{className:I.dividerIcon})})]},"extra"))})})};P.Skeleton=()=>(0,n.jsx)("ol",{className:I.breadcrumbs,children:(0,n.jsx)(R.Skeleton,{})});P.__docgenInfo={description:"",methods:[{name:"Skeleton",docblock:null,modifiers:["static"],params:[],returns:null}],displayName:"Breadcrumbs",props:{breadcrumbItems:{required:!0,tsType:{name:"Array",elements:[{name:"BreadcrumbItem"}],raw:"BreadcrumbItem[]"},description:""}}};let F={container:"container-T06H95"},q=e=>{let{items:a,loading:t}=e;return t?(0,n.jsx)("div",{className:F.container,children:(0,n.jsx)(P.Skeleton,{})}):0!==a.length?(0,n.jsx)("div",{className:F.container,children:(0,n.jsx)(P,{breadcrumbItems:a})}):null};q.__docgenInfo={description:"",methods:[],displayName:"BreadcrumbsHeader",props:{items:{required:!0,tsType:{name:"Array",elements:[{name:"BreadcrumbItem"}],raw:"BreadcrumbItem[]"},description:""},loading:{required:!1,tsType:{name:"boolean"},description:""}}};var B=t("./src/shared/templates/ErrorBoundary/index.ts"),A=t("./src/shared/templates/Footer/index.ts"),Z=t("./src/shared/graphql/fetchNavigation.generated.ts"),L=t("./src/shared/hooks/usePostHog/index.ts"),E=t("./src/shared/hooks/useTitle/index.ts"),D=t("./src/shared/hooks/useZendeskWidget/index.ts"),H=t("./src/shared/utilities/index.ts");let W=()=>{let{isPostHogLoading:e,postHog:a}=(0,L.U)(),t=(0,d.TH)(),{merchantId:n,campaignId:r,experimentId:s,offerId:i,offerLayoutId:o,integrationId:l,userId:c,emailId:m,rewardId:p}=(0,v.Z)(),{loading:h,data:g}=(0,u.aM)(Z.a,{variables:{merchantId:n,campaignId:r,experimentId:s,offerId:i,offerLayoutId:o,integrationId:l,userId:c,emailId:m,rewardId:p}}),b=(null==g?void 0:g.navigation)??[],x=b.find(e=>{var a;let{metadata:n}=e;return null===(a=n.activePaths)||void 0===a?void 0:a.some(e=>(0,d.LX)(t.pathname,{path:e,exact:!0}))}),f=b.find(e=>{let{id:a}=e;return"merchant"===a});if((0,E.Z)((null==x?void 0:x.metadata.name)||"",null==f?void 0:f.metadata.name),(0,D.nO)((null==x?void 0:x.metadata.zendeskWidgetLabels)??[]),(0,D.oR)((null==x?void 0:x.metadata.zendeskWidgetSearch)??""),!x)return{data:[],loading:h};let k=[];k.push({title:x.metadata.name,link:x.metadata.href,preload:!!x.metadata.preload});let y=b.find(e=>{let{id:a}=e;return a===x.metadata.parent});for(;y;){var j,N;(!(null===(j=y.metadata)||void 0===j?void 0:j.featureFlag)||!e&&(null==a?void 0:a.isFeatureEnabled(null===(N=y.metadata)||void 0===N?void 0:N.featureFlag)))&&k.unshift({title:y.metadata.name,link:y.metadata.href,preload:!!y.metadata.preload}),y=b.find(e=>{let{id:a}=e;return a===(null==y?void 0:y.metadata.parent)})}return f&&k.unshift({title:f.metadata.name,link:(0,H.nu)("merchant_home_default",{merchantId:n}),preload:!1}),{data:k,loading:h}};var V=t("../node_modules/posthog-js/react/dist/esm/index.js"),O=t("./src/shared/context/posthog/PostHogProvider.tsx"),M=t("./src/shared/context/posthog/PostHogProvider.types.ts");let $=e=>{let{mode:a,postHog:t}=(0,O.U)();return a===M.H.DEV?(null==t?void 0:t.isFeatureEnabled(e))||!1:(0,V.dl)(e)||!1},G=(0,c.ZP)(r.zx).withConfig({displayName:"PosthogFeatureBanner.styled__OptInOutLink"})(["margin-top:12px;margin-right:10px;"]),z=e=>{let{feature:a,className:t}=e,{t:i}=(0,s.$G)("shared"),{isPostHogLoading:o,updateEarlyAccessFeatureEnrollment:l}=(0,L.U)(),d=$(`${a}-banner`),c=$(a);return o||!d?null:(0,n.jsx)(r.S,{className:t,children:(0,n.jsx)(G,{variant:"link",onClick:()=>{l(a,!c),window.location.reload()},children:i(`feature.${c?"opt-out":"opt-in"}.${a}`)})})};z.__docgenInfo={description:'This is the React equivalent of the posthog_feature_banner.html.twig.\n\nIt provides a way to render an Opt In/Out banner for someone to opt in/out of a React feature, ideally at a page\nlevel (e.g. switching between an old and a new version of an existing page).\n\nTo use this, it is assumed that you:\n\n    a) Have a feature you want to allow users to opt in/out of, and that you\'ve added it to the Posthog Early Access\n       Feature Enrollment in the Posthog admin panel.\n    b) Have another feature which has the same name but with "-banner" appended to it. This is the feature which\n       will be used to determine whether the banner should be shown or not. This feature should be gated to people\n       who are allowed to opt in or out. Everyone else will see nothing.',methods:[],displayName:"PosthogFeatureBanner",props:{feature:{required:!0,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};let U=(0,c.ZP)(z).withConfig({displayName:"BaseTemplate.styled__BreadcrumbOptInOut"})(["","{","{padding:0;}padding:",";}"],(0,r.mq)("lgMin","max"),G,(0,r.W0)([0,0,0,2])),Q=c.ZP.div.withConfig({displayName:"BaseTemplate.styled__BreadcrumbsWrapper"})(["display:flex;flex-direction:column;justify-content:space-between;","{flex-direction:row;align-items:center;}"],(0,r.mq)("lgMin","min")),X={wrapper:"wrapper-llNJj3",mainContent:"mainContent-mDm7UR",breadcrumbs:"breadcrumbs-QaGuYb",container:"container-Z9o9nW"},Y=e=>{let{header:a,hasBreadcrumbs:t=!0,pageFeatureFlag:s,children:i,maxWidth:u=1200,backgroundColour:p,shouldShowFooter:h=!0}=e,g=(0,d.k6)(),b=(0,d.TH)(),{data:v,loading:x}=W(),k=(0,c.Fg)(),y=p?(0,r.Ys)(p)({theme:k}):void 0;return f(),(0,l.useEffect)(()=>{var e;"PUSH"===g.action&&!(null===(e=b.state)||void 0===e?void 0:e.noScroll)&&window.scrollTo(0,0)},[b.pathname,b.state,g.action]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:X.wrapper,style:{backgroundColor:y,width:"100%"},children:(0,n.jsxs)("div",{className:X.mainContent,style:{maxWidth:null===u?"unset":u},children:[(0,n.jsx)(o.Tx,{}),(0,n.jsxs)(B.Z,{shouldShowHeader:!1,shouldShowFooter:!1,children:[(0,n.jsxs)(Q,{children:[t&&(0,n.jsx)("div",{className:X.breadcrumbs,children:(0,n.jsx)(q,{items:v,loading:x})}),s&&(0,n.jsx)(U,{feature:s})," "]}),a&&(0,n.jsx)("div",{className:X.container,children:a}),i]}),h&&(0,n.jsx)("div",{className:X.container,children:(0,n.jsx)(A.Z,{})})]})}),(0,n.jsx)(m.Z,{})]})};Y.__docgenInfo={description:"",methods:[],displayName:"BaseTemplate",props:{hasBreadcrumbs:{defaultValue:{value:"true",computed:!1},required:!1},maxWidth:{defaultValue:{value:"1200",computed:!1},required:!1},shouldShowFooter:{defaultValue:{value:"true",computed:!1},required:!1}}};var J=t("./src/shared/constants/elementIds.ts"),K=t("./src/shared/hooks/useBodyClass/useBodyClass.ts");let ee=e=>{(0,K.Z)(`page-template--${e}`)};var ea=t("./src/shared/templates/DefaultTemplate/DefaultTemplate.module.less?b56e");let et=e=>{let{header:a,className:t,pageHeader:r,hasBreadcrumbs:s,pageFeatureFlag:i,children:o,maxWidth:l,backgroundColour:d,shouldShowFooter:c=!0}=e;return ee("main"),(0,n.jsx)(Y,{header:a,hasBreadcrumbs:s,pageFeatureFlag:i,maxWidth:l,backgroundColour:d,shouldShowFooter:c,children:(0,n.jsx)("main",{id:J.O,children:(0,n.jsxs)("div",{className:y()(ea.Z.container,t),children:[r&&(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:ea.Z.pageHeader,children:r})}),(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:ea.Z.pageBody,children:o})})]})})})};et.__docgenInfo={description:"",methods:[],displayName:"DefaultTemplate",props:{shouldShowFooter:{defaultValue:{value:"true",computed:!1},required:!1}}};let en={container:"container-kwCGqc",pageBody:"pageBody-yczSTz",sidebar:"sidebar-nbdmlx",topSection:"topSection-L7N1SI"},er=e=>{let{header:a,className:t,sidebar:r,top:s,children:i,...o}=e;return ee("left-sidebar"),(0,n.jsx)(Y,{header:a,...o,children:(0,n.jsx)("div",{className:y()(en.container,t),children:(0,n.jsxs)("div",{className:"row",children:[s&&(0,n.jsx)("div",{className:en.topSection,children:s}),(0,n.jsx)("aside",{className:en.sidebar,children:r}),(0,n.jsx)("main",{id:J.O,className:en.pageBody,children:i})]})})})};er.__docgenInfo={description:"",methods:[],displayName:"LeftSidebarTemplate"};let es="container-qte82W",ei="pageBody-Glku38",eo="sidebar-Epx300";var el=t("./src/shared/components/PageHeading/index.tsx");let ed=(0,c.ZP)(el.Z).withConfig({displayName:"TabbedTemplate.styled__PageHeading"})(["margin-bottom:",";"],(0,r.W0)(3)),ec=(0,c.ZP)(el.Z.Subtitle).withConfig({displayName:"TabbedTemplate.styled__Subtitle"})(["margin-bottom:",";"],(0,r.W0)(4)),em=c.ZP.div.withConfig({displayName:"TabbedTemplate.styled__Banner"})(["margin-bottom:",";"],(0,r.W0)(3)),eu=c.ZP.div.withConfig({displayName:"TabbedTemplate.styled__Actions"})(["button{height:100%;}"]);var ep=t("./src/shared/components/NavigationTabs/NavigationTabs.tsx");let eh=(0,l.memo)(e=>{let{filterToParent:a,...t}=e,{data:r,loading:s}=(0,i.HJ)(a);return s?(0,n.jsx)(ep.Z.Skeleton,{...t}):(0,n.jsx)(ep.Z,{items:r,...t})});eh.__docgenInfo={description:"",methods:[],displayName:"TabbedTemplateNavigation"};let eg=e=>{let{title:a,subtitle:t,children:s,backgroundColour:o="Background",sidebar:l,...d}=e,[c,m,u,p,h]=(0,i.Wy)(s,eg.Title,eg.Actions,eg.Navigation,eg.Banner),g=l?er:et;return(0,n.jsx)(g,{...d,sidebar:l,backgroundColour:o,header:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(ed,{children:[m,(0,n.jsx)(eu,{children:u})]}),h,p,a&&(0,n.jsx)(r.H2,{children:a}),t&&(0,n.jsx)(ec,{children:t})]}),children:c})};eg.Title=o.CD.Title,eg.Actions=o.CD.Actions,eg.Navigation=eh,eg.Banner=e=>{let{children:a}=e;return(0,n.jsx)(em,{children:a})};eg.__docgenInfo={description:"",methods:[{name:"Title",docblock:null,modifiers:["static"],params:[{name:"{ dataGainsight, children, className, ...rest }: Props",optional:!1,type:{name:"Props",alias:"Props"}}],returns:null},{name:"Actions",docblock:null,modifiers:["static"],params:[{name:"{ children, className, ...rest }: Props",optional:!1,type:{name:"Props",alias:"Props"}}],returns:null},{name:"Banner",docblock:null,modifiers:["static"],params:[{name:"{ children }: React.PropsWithChildren",optional:!1,type:{name:"ReactPropsWithChildren",raw:"React.PropsWithChildren",alias:"React.PropsWithChildren"}}],returns:null}],displayName:"TabbedTemplate",props:{pageHeader:{required:!1,tsType:{name:"ReactReactElement",raw:"React.ReactElement"},description:""},className:{required:!1,tsType:{name:"string"},description:""},title:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},subtitle:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},sidebar:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},backgroundColour:{defaultValue:{value:'"Background"',computed:!1},required:!1}}};var eb=t("./src/client/reporting/components/ReportingCampaignSelector.tsx");let ev=e=>{let{shouldShowCampaignFilter:a=!0,campaignTypes:t,campaignCustomFilter:r=()=>!0,children:s}=e;return(0,n.jsxs)(n.Fragment,{children:[a&&(0,n.jsx)(eb.Z,{campaignTypes:t,campaignCustomFilter:r}),s]})};ev.__docgenInfo={description:"",methods:[],displayName:"ReportingTemplateActions",props:{shouldShowCampaignFilter:{defaultValue:{value:"true",computed:!1},required:!1},campaignCustomFilter:{defaultValue:{value:"() => true",computed:!1},required:!1}}};var ex=t("./src/client/reporting/hooks/ReportingContext.tsx");let ef=e=>{let{initialState:a,loading:t,skeletons:o,children:l,backgroundColour:d="Background",...c}=e,{t:m}=(0,s.$G)("advocacy"),[u,p]=(0,i.Wy)(l,ef.Actions);return(0,n.jsx)(r.M2,{shouldWrap:!t,wrapper:e=>(0,n.jsx)(ex.U,{initialState:a,children:e}),children:(0,n.jsxs)(eg,{...c,backgroundColour:d,children:[(0,n.jsx)(eg.Title,{children:m("template.title","Advocacy Intelligence")}),(0,n.jsx)(eg.Actions,{children:p}),(0,n.jsx)(eg.Navigation,{filterToParent:"advocacy-intelligence",moreText:m("more-reports","More reports"),ariaLabel:m("reporting-nav-label","Advocacy navigation"),backgroundColour:d}),t?o:u]})})};ef.Actions=ev;let ek=ef;ef.__docgenInfo={description:"",methods:[{name:"Actions",docblock:null,modifiers:["static"],params:[{name:"{\n    shouldShowCampaignFilter = true,\n    campaignTypes,\n    campaignCustomFilter = () => true,\n    children,\n}: Props",optional:!1,type:{name:"intersection",raw:"React.PropsWithChildren<{\n    shouldShowCampaignFilter?: boolean;\n}> &\n    React.ComponentProps<typeof ReportingCampaignSelector>",elements:[{name:"ReactPropsWithChildren",raw:"React.PropsWithChildren<{\n    shouldShowCampaignFilter?: boolean;\n}>",elements:[{name:"signature",type:"object",raw:"{\n    shouldShowCampaignFilter?: boolean;\n}",signature:{properties:[{key:"shouldShowCampaignFilter",value:{name:"boolean",required:!1}}]}}]},{name:"ReactComponentProps",raw:"React.ComponentProps<typeof ReportingCampaignSelector>",elements:[{name:"ReportingCampaignSelector"}]}],alias:"Props"}}],returns:null}],displayName:"AdvocacyTemplate",props:{pageHeader:{required:!1,tsType:{name:"ReactReactElement",raw:"React.ReactElement"},description:""},className:{required:!1,tsType:{name:"string"},description:""},title:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},subtitle:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},sidebar:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},backgroundColour:{defaultValue:{value:'"Background"',computed:!1},required:!1}}}},"./src/client/reporting/components/ReportingCampaignSelector.tsx":function(e,a,t){t.d(a,{Z:function(){return c}});var n=t("../node_modules/react/jsx-runtime.js"),r=t("../node_modules/@mention-me/flamingo-ui/build/index.es.js"),s=t("./src/shared/components/index.ts"),i=t("./src/shared/hooks/usePostHog/index.ts"),o=t("./src/client/reporting/hooks/types.ts"),l=t("./src/client/reporting/hooks/useFilterableCampaigns.ts");let d=e=>{let{campaignTypes:a,campaignCustomFilter:t=()=>!0}=e,{postHog:d}=(0,i.U)(),{loading:c,campaigns:m,selectCampaign:u,selectedCampaign:p}=(0,l.Z)({campaignTypes:a,customFilter:t});return c?(0,n.jsx)(r.Od,{width:129,height:38}):(0,n.jsx)(s.lq,{options:m,value:(null==p?void 0:p.value)??o.TD.CampaignSelector,onChange:u,onOpen:()=>null==d?void 0:d.capture("reporting-campaign-selector-open")})},c=d;d.__docgenInfo={description:"",methods:[],displayName:"ReportingCampaignSelector",props:{campaignTypes:{required:!1,tsType:{name:"Array",elements:[{name:"union",raw:'"REFERRAL" | "IFA" | "NPS"',elements:[{name:"literal",value:'"REFERRAL"'},{name:"literal",value:'"IFA"'},{name:"literal",value:'"NPS"'}]}],raw:"CampaignType[]"},description:""},campaignCustomFilter:{required:!1,tsType:{name:"signature",type:"function",raw:"(campaignEdge: Campaign) => boolean",signature:{arguments:[{type:{name:"Campaign"},name:"campaignEdge"}],return:{name:"boolean"}}},description:"",defaultValue:{value:"() => true",computed:!1}}}}},"./src/client/reporting/hooks/useFilterableCampaigns.ts":function(e,a,t){t.d(a,{Z:function(){return d}});var n=t("../node_modules/react/index.js"),r=t("../node_modules/react-i18next/dist/es/index.js"),s=t("./src/shared/hooks/usePostHog/index.ts"),i=t("./src/client/reporting/hooks/ReportingContext.tsx"),o=t("./src/client/reporting/hooks/types.ts"),l=t("./src/client/reporting/hooks/useCampaigns.ts");let d=function(){let{hasAllOption:e=!0,campaignTypes:a,customFilter:t=()=>!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{postHog:d}=(0,s.U)(),{t:c}=(0,r.$G)("reporting"),{campaignId:m}=(0,i.eh)(),{setCampaign:u}=(0,i.IF)(),{loading:p,campaigns:h}=(0,l.Z)({campaignTypes:a}),g=c("campaign-selector.placeholder","All campaigns"),b=(0,n.useMemo)(()=>{let a=h.filter(t).map(e=>{let{id:a,shortName:t}=e;return{key:t,value:a}});return e?[{key:g,value:o.TD.CampaignSelector},...a]:a},[h,t,g,e]),v=(0,n.useMemo)(()=>b.find(e=>{let{value:a}=e;return m===a}),[b,m]);return{loading:p,allCampaignsLabel:g,selectedCampaign:v,campaigns:b,selectCampaign:(0,n.useCallback)(e=>{u(e),null==d||d.capture("reporting-campaign-selector",{campaignId:e})},[u,d])}}},"./src/shared/components/NavigationTabs/NavigationTabs.tsx":function(e,a,t){t.d(a,{Z:()=>_});var n=t("../node_modules/react/jsx-runtime.js"),r=t("../node_modules/react/index.js"),s=t("../node_modules/@mention-me/flamingo-ui/build/index.es.js"),i=t("../node_modules/classnames/index.js"),o=t.n(i),l=t("../node_modules/react-i18next/dist/es/index.js"),d=t("../node_modules/react-router/esm/react-router.js"),c=t("../node_modules/styled-components/dist/styled-components.browser.esm.js"),m=t("./src/shared/assets/icon-lock-fill.svg"),u=t("./src/shared/components/index.ts");let p=e=>{let{ref:a,initialWidth:t=360}=e,[n,s]=(0,r.useState)(t);return(0,r.useEffect)(()=>{let e=()=>{a.current&&s(a.current.offsetWidth)};return setTimeout(()=>e(),0),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[a]),{containerWidth:n,ref:a}};var h=t("./src/shared/hooks/useHeaderHeight/useHeaderHeight.ts");let g=e=>{let{ref:a,offset:t,isEnabled:n=!0}=e,[s,i]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{if(!n||!a.current)return;let e=a.current,r=new IntersectionObserver(e=>{let[a]=e;return i(a.intersectionRatio<1)},{rootMargin:`-${t}px 0px 0px 0px`,threshold:[1]});return r.observe(e),()=>r.unobserve(e)},[a,t,n]),{isStuck:s}};var b=t("./src/shared/components/NavigationLink/index.ts");let v="tab-zkICiH",x="link-RgQ0sG",f="linkActive-MaGHzb",k=e=>{let{link:a,canPreload:t,isReportingRoute:r,isActive:s,children:i,...l}=e;return(0,n.jsx)("li",{className:v,children:(0,n.jsx)(b.Z,{href:a,canPreload:t,isReportingRoute:r,className:o()(x,{[f]:s}),"aria-current":s?"page":"false",...l,children:i})})};k.__docgenInfo={description:"",methods:[],displayName:"NavigationTab"};var y=t("./src/shared/components/NavigationTabs/NavigationTabs.styled.tsx");let j=(e,a,t)=>{let n=50+8*a.length,r=1;for(let a=0;a<e.length&&a<=8&&n<t;a++)if(n+=8*e[a].metadata.name.length+30,(e[a].metadata.displayAsNew||e[a].metadata.beta)&&(n+=37),n<t)r=a+1;else break;return e.length===r+1?r+1:r},N={navigationTabs:"navigationTabs-CeJjf8",navigationTabsList:"navigationTabsList-k1XV8W",navigationTabsSkeleton:"navigationTabsSkeleton-FCBMxP",navigationTabsSticky:"navigationTabsSticky-ltv9ZQ",navigationTabsStuck:"navigationTabsStuck-gRQf9m",tabDropdown:"tabDropdown-BKURXw",lockIcon:"lockIcon-u3qnbz"},T=e=>{let{item:a}=e,{metadata:t}=a,{t:r}=(0,l.$G)("shared");return(0,n.jsxs)(n.Fragment,{children:[t.name,t.shouldShowLock&&(0,n.jsx)(m.Z,{className:N.lockIcon}),t.displayAsNew&&(0,n.jsxs)(y.a,{variant:"flair",backgroundColour:"RoyalBlue60Dark",children:[(0,n.jsx)(y.$,{}),r("navigation-tabs.new","New")]}),t.beta&&(0,n.jsx)(y.a,{variant:"flair",backgroundColour:"UltraVioletBase",children:r("navigation-tabs.beta","Beta")})]})},w=e=>{let{isSticky:a}=e,t=(0,r.useRef)(null),n=(0,h.Z)(),{containerWidth:s}=p({ref:t}),i=n+20,{isStuck:o}=g({ref:t,offset:i,isEnabled:a});return{ref:t,containerWidth:s,isStuck:o,offset:i}},S=e=>{let{items:a,moreText:t,className:i,isSticky:m=!0,ariaLabel:p,backgroundColour:h="#ffffff"}=e,{colors:g}=(0,c.Fg)(),b=/^#[0-9A-F]{6}$/i.test(h)?h:g[h],v=(0,d.TH)(),{t:x}=(0,l.$G)("shared"),{containerWidth:f,isStuck:y,ref:S,offset:_}=w({isSticky:m}),C=j(a,t??x("navigation-tabs.more","More"),f),R=(0,r.useMemo)(()=>a.slice(0,C),[a,C]),I=(0,r.useMemo)(()=>a.slice(C),[a,C]),P=R.length<a.length;return a.length?(0,n.jsxs)("nav",{ref:S,"aria-label":p,"data-auto-class":"navigation-tabs-wrapper",style:{top:m?`${_-1}px`:0,"--background-color":b},className:o()(i,N.navigationTabs,{[N.navigationTabsStuck]:m&&y,[N.navigationTabsSticky]:m}),children:[(0,n.jsx)("ol",{className:N.navigationTabsList,children:R.map(e=>e.metadata.href?(0,n.jsx)(k,{link:e.metadata.href,"data-auto-class":`navigation-tab-${e.id}`,canPreload:e.metadata.preload||!1,isReportingRoute:e.metadata.reportingRoute||!1,isActive:!!(0,d.LX)(v.pathname,{path:e.metadata.activePaths??[],exact:!0}),children:(0,n.jsx)(T,{item:e})},e.id):null)}),P?(0,n.jsx)(s.Lt,{className:N.tabDropdown,variant:"link","data-auto-class":"navigation-dropdown-button",label:t??x("navigation-tabs.more","More"),children:I.map(e=>e.metadata.href?(0,n.jsx)(s.Lt.Link,{as:u.F6,href:e.metadata.href,canPreload:e.metadata.preload||!1,isReportingRoute:e.metadata.reportingRoute||!1,"data-auto-class":`navigation-dropdown-link-${e.id}`,children:(0,n.jsx)(T,{item:e})},e.id):null)}):null]}):null};S.Skeleton=e=>{let{isSticky:a=!1,backgroundColour:t="#ffffff",skeletonItems:r=[118,43,117,125,89]}=e,{isStuck:i,ref:l}=w({isSticky:a});return(0,n.jsx)("div",{ref:l,style:{"--background-color":t},className:o()(N.navigationTabs,N.navigationTabsSkeleton,{[N.navigationTabsStuck]:a&&i,[N.navigationTabsSticky]:a}),children:r.map((e,a)=>(0,n.jsx)(s.Od,{width:e},a))})};let _=S;S.__docgenInfo={description:"",methods:[{name:"Skeleton",docblock:null,modifiers:["static"],params:[{name:'{\n    isSticky = false,\n    backgroundColour = "#ffffff",\n    skeletonItems = [118, 43, 117, 125, 89],\n}: SkeletonProps',optional:!1,type:{name:"intersection",raw:'Pick<Props, "isSticky" | "backgroundColour"> & { skeletonItems?: number[] }',elements:[{name:"Pick",elements:[{name:"Props"},{name:"union",raw:'"isSticky" | "backgroundColour"',elements:[{name:"literal",value:'"isSticky"'},{name:"literal",value:'"backgroundColour"'}]}],raw:'Pick<Props, "isSticky" | "backgroundColour">'},{name:"signature",type:"object",raw:"{ skeletonItems?: number[] }",signature:{properties:[{key:"skeletonItems",value:{name:"Array",elements:[{name:"number"}],raw:"number[]",required:!1}}]}}],alias:"SkeletonProps"}}],returns:null}],displayName:"NavigationTabs",props:{items:{required:!0,tsType:{name:"Array",elements:[{name:"Types.NavigationItem"}],raw:"Types.NavigationItem[]"},description:""},ariaLabel:{required:!0,tsType:{name:"string"},description:"Add a label that will allow users using assistive technologies to\nbe able to differentiate between other navs on the platform"},moreText:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},isSticky:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},backgroundColour:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"#ffffff"',computed:!1}}}}}}]);