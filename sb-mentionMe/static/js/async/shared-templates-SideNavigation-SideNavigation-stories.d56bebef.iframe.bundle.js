"use strict";(globalThis.webpackChunk_mention_me_frontend=globalThis.webpackChunk_mention_me_frontend||[]).push([["4479"],{"./src/shared/templates/SideNavigation/SideNavigation.stories.tsx":function(e,a,n){n.r(a),n.d(a,{Collapsed:()=>az,default:()=>aD,Base:()=>aW,ExpandedSubMenu:()=>aH});var t=n("../node_modules/react/jsx-runtime.js"),l=n("../node_modules/react/index.js"),i=n("../node_modules/@apollo/client/testing/react/MockedProvider.js"),r=n("../node_modules/react-router/esm/react-router.js"),s=n("./src/shared/graphql/fetchNavigation.generated.ts"),o=n("./src/shared/hooks/index.ts"),d=n("./src/shared/hooks/useUserCustomPreference/index.ts"),m=n("../node_modules/classnames/index.js"),u=n.n(m),c=n("../node_modules/react-i18next/dist/es/index.js"),p=n("../node_modules/react-hotkeys-hook/dist/react-hotkeys-hook.esm.js"),h=n("./src/shared/components/index.ts"),g=n("./src/shared/components/SearchInput/index.ts"),v=n("./src/shared/constants/keyboardKeys.ts"),k=n("./src/shared/hooks/useGlobalStore/index.ts"),y=n("./src/shared/utilities/index.ts");let N=e=>e.metaKey,f=e=>e.ctrlKey;var b=n("./src/shared/hooks/usePostHog/index.ts");let x="types-M94YKK",w="heading-c9S5DZ",S=e=>{let{filters:a,selectedFilters:n=[],onSetFilter:l,onRemoveFilter:i}=e,{t:r}=(0,c.$G)("shared");return(0,t.jsxs)("div",{className:x,children:[(0,t.jsx)("h4",{className:w,children:r("command-palette.type-filter-heading","I’m looking for")}),a.map(e=>(0,t.jsx)(h.Af,{id:e,onSelect:l,onDismiss:i,isSelected:n.includes(e),size:"small",children:r(`command-palette.filters.${e}`,{defaultValue:e})},e))]})};S.Skeleton=()=>{let{t:e}=(0,c.$G)("shared");return(0,t.jsxs)("div",{className:x,children:[(0,t.jsx)("h4",{className:w,children:e("command-palette.type-filter-heading","I’m looking for")}),(0,t.jsx)(h.Af.Skeleton,{size:"small"}),(0,t.jsx)(h.Af.Skeleton,{size:"small"}),(0,t.jsx)(h.Af.Skeleton,{size:"small"})]})};S.__docgenInfo={description:"",methods:[{name:"Skeleton",docblock:null,modifiers:["static"],params:[],returns:null}],displayName:"CommandPaletteFilters",props:{filters:{required:!0,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},selectedFilters:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"",defaultValue:{value:"[]",computed:!1}},onSetFilter:{required:!0,tsType:{name:"signature",type:"function",raw:"(id: string) => void",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"void"}}},description:""},onRemoveFilter:{required:!0,tsType:{name:"signature",type:"function",raw:"(id: string) => void",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"void"}}},description:""}}};var _=n("../node_modules/@mention-me/flamingo-ui/build/index.es.js");let F="wrapper-EzYy2K",I="desktopInfo-qw5glZ",T=e=>{let{onClose:a}=e,{t:n}=(0,c.$G)("shared");return(0,t.jsxs)("div",{className:F,children:[(0,t.jsxs)("div",{className:I,children:[(0,t.jsx)(h.u8,{keyName:"Tab",label:n("command-palette.keyboardActions.filter","to filter")}),(0,t.jsx)(h.u8,{keyName:["ArrowUp","ArrowDown"],label:n("command-palette.keyboardActions.choose","to choose")}),(0,t.jsx)(h.u8,{keyName:"Enter",label:n("command-palette.keyboardActions.select","to select")}),(0,t.jsx)(h.u8,{keyName:"Escape",label:n("command-palette.keyboardActions.close","to close, or")})]}),(0,t.jsx)("div",{children:(0,t.jsx)(_.zx,{size:"small",variant:"link",onClick:()=>setTimeout(()=>a(),0),children:"Close search"})})]})};T.__docgenInfo={description:"",methods:[],displayName:"CommandPaletteLegend",props:{onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};var E=n("../node_modules/react-window/dist/index.esm.js"),P=n("../node_modules/react-router-dom/esm/react-router-dom.js"),j=n("./src/shared/assets/icon-lock-fill.svg"),C=n("./src/shared/components/Breadcrumbs/assets/arrow.svg"),M=n("./src/shared/components/StatusLabel/index.ts"),L=n("./src/client/campaign/utilities/filterStatuses.ts");let R="PostHogFeatureSwitch",O="FlagceptionFeatureSwitch",A=e=>"Experiment"===e.type,Z=e=>"Campaign"===e.type,q=e=>"Page"===e.type,W=e=>e.type===R,z=e=>e.type===O,H=["Campaign","Experiment"],D=e=>!!H.includes(e.type)||q(e)&&e.preload,U=()=>{let e=(0,r.k6)(),{merchantId:a}=(0,o.rc)(),n=(0,k.Vp)(),{postHog:t,updatePostHogFeatureSwitch:i,updateFeatureSwitch:s}=(0,b.U)(),d=(0,l.useCallback)(e=>{null==t||t.capture("command-palette-item-click",{itemType:e})},[t]),m=(0,l.useCallback)(e=>{switch(e.type){case"Campaign":return(0,y.nu)("fe_campaign_show",{merchantId:a,campaignId:e.id});case"Experiment":return(0,y.nu)("fe_campaign_show",{merchantId:a,campaignId:e.campaign.id,experimentStatus:(0,L.wD)(e.status)});case"Merchant":return(0,y.nu)("merchant_home_default",{merchantId:e.id});case"Offer":return(0,y.nu)("fe_offer_preview",{merchantId:a,offerId:e.id});case"Page":return e.href;default:console.warn("Unknown link type",e.type)}},[a]),u=(0,l.useCallback)(a=>{if(d(a.type),W(a))i(a.id,!a.status);else if(z(a))!a.disabled&&s(a.id,!a.status);else{let t=m(a);n&&D(a)?e.push(t):window.location.assign(t)}},[d,i,s,m,n,e]),c=(0,l.useCallback)(e=>{d(e.type);let a=m(e);window.open(null==a?void 0:a.toString(),"_blank")},[d,m]);return{generateLink:m,triggerAction:u,captureAction:d,triggerActionNewTab:c}},V={item:"item-xYS1oc",active:"active-GOpl1C",name:"name-DsBgB4",lock:"lock-JjvAo0",labels:"labels-cw2fbm",dividerIcon:"dividerIcon-gAnuvj"},G=e=>{let{item:a,style:n,isActive:l=!1}=e,{generateLink:i,captureAction:r,triggerAction:s}=U(),o=A(a)?M.i.EXPERIMENT:M.i.CAMPAIGN,d=(0,k.Vp)(),[m]=(0,k.s6)(e=>{let{closeCommandPalette:a}=e;return[a]}),c=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{className:V.name,children:[q(a)&&a.parent&&(0,t.jsxs)(t.Fragment,{children:[a.parent," ",(0,t.jsx)(C.Z,{className:V.dividerIcon})," "]}),(0,t.jsx)("span",{title:a.shortName||void 0,children:a.shortName}),q(a)&&a.shouldShowLock&&(0,t.jsx)(j.Z,{"data-auto-class":"command-palette-padlock",className:V.lock})]}),(0,t.jsxs)("span",{className:V.labels,children:[(A(a)||Z(a))&&(0,t.jsx)(M.Z,{status:a.status,type:o,children:a.status}),(0,t.jsx)(h.__,{variant:"black",children:a.type})]})]}),p={className:u()(V.item,{[V.active]:l}),style:n,role:"option","aria-selected":l,tabIndex:-1,onClick:()=>r(a.type)},g=z(a);return W(a)||g?(0,t.jsxs)("label",{...p,children:[a.shortName,(0,t.jsx)(h.Zh,{isChecked:a.status,onChange:()=>s(a),id:a.id,disabled:g&&a.disabled})]}):(0,t.jsx)(t.Fragment,{children:d&&D(a)?(0,t.jsx)(P.OL,{to:i(a)||"",target:q(a)&&a.hrefTarget||void 0,...p,onClick:(0,_.sz)(()=>m(),null==p?void 0:p.onClick),children:c}):(0,t.jsx)("a",{href:i(a)||"",target:q(a)&&a.hrefTarget||void 0,...p,children:c})})};G.__docgenInfo={description:"",methods:[],displayName:"CommandPaletteItem",props:{item:{required:!0,tsType:{name:"union",raw:"| MerchantItem\n| CampaignItem\n| ExperimentItem\n| OfferItem\n| PageItem\n| PosthogFeatureSwitchItem\n| FlagceptionFeatureSwitchItem",elements:[{name:"intersection",raw:'Pick<Types.Merchant, "id"> & { type: "Merchant"; shortName: string }',elements:[{name:"Pick",elements:[{name:"Types.Merchant"},{name:"literal",value:'"id"'}],raw:'Pick<Types.Merchant, "id">'},{name:"signature",type:"object",raw:'{ type: "Merchant"; shortName: string }',signature:{properties:[{key:"type",value:{name:"literal",value:'"Merchant"',required:!0}},{key:"shortName",value:{name:"string",required:!0}}]}}]},{name:"intersection",raw:'Pick<Types.Campaign, "id" | "shortName" | "status"> & { type: "Campaign" }',elements:[{name:"Pick",elements:[{name:"Types.Campaign"},{name:"union",raw:'"id" | "shortName" | "status"',elements:[{name:"literal",value:'"id"'},{name:"literal",value:'"shortName"'},{name:"literal",value:'"status"'}]}],raw:'Pick<Types.Campaign, "id" | "shortName" | "status">'},{name:"signature",type:"object",raw:'{ type: "Campaign" }',signature:{properties:[{key:"type",value:{name:"literal",value:'"Campaign"',required:!0}}]}}]},{name:"intersection",raw:'Pick<Types.Experiment, "id" | "shortName" | "status"> & {\n    type: "Experiment";\n    campaign: Pick<Types.Campaign, "id">;\n}',elements:[{name:"Pick",elements:[{name:"Types.Experiment"},{name:"union",raw:'"id" | "shortName" | "status"',elements:[{name:"literal",value:'"id"'},{name:"literal",value:'"shortName"'},{name:"literal",value:'"status"'}]}],raw:'Pick<Types.Experiment, "id" | "shortName" | "status">'},{name:"signature",type:"object",raw:'{\n    type: "Experiment";\n    campaign: Pick<Types.Campaign, "id">;\n}',signature:{properties:[{key:"type",value:{name:"literal",value:'"Experiment"',required:!0}},{key:"campaign",value:{name:"Pick",elements:[{name:"Types.Campaign"},{name:"literal",value:'"id"'}],raw:'Pick<Types.Campaign, "id">',required:!0}}]}}]},{name:"intersection",raw:'Pick<Types.Offer, "id" | "shortName"> & { type: "Offer" }',elements:[{name:"Pick",elements:[{name:"Types.Offer"},{name:"union",raw:'"id" | "shortName"',elements:[{name:"literal",value:'"id"'},{name:"literal",value:'"shortName"'}]}],raw:'Pick<Types.Offer, "id" | "shortName">'},{name:"signature",type:"object",raw:'{ type: "Offer" }',signature:{properties:[{key:"type",value:{name:"literal",value:'"Offer"',required:!0}}]}}]},{name:"intersection",raw:'Pick<Types.NavigationItem, "id"> & {\n    type: "Page";\n    shortName: string;\n    beta?: boolean | null;\n    featureFlag?: string | null;\n    preload?: boolean | null;\n    href?: string | null;\n    hrefTarget?: string | null;\n    style?: React.CSSProperties | null;\n    parent?: string | null;\n    shouldShowLock?: boolean | null;\n}',elements:[{name:"Pick",elements:[{name:"Types.NavigationItem"},{name:"literal",value:'"id"'}],raw:'Pick<Types.NavigationItem, "id">'},{name:"signature",type:"object",raw:'{\n    type: "Page";\n    shortName: string;\n    beta?: boolean | null;\n    featureFlag?: string | null;\n    preload?: boolean | null;\n    href?: string | null;\n    hrefTarget?: string | null;\n    style?: React.CSSProperties | null;\n    parent?: string | null;\n    shouldShowLock?: boolean | null;\n}',signature:{properties:[{key:"type",value:{name:"literal",value:'"Page"',required:!0}},{key:"shortName",value:{name:"string",required:!0}},{key:"beta",value:{name:"union",raw:"boolean | null",elements:[{name:"boolean"},{name:"null"}],required:!1}},{key:"featureFlag",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!1}},{key:"preload",value:{name:"union",raw:"boolean | null",elements:[{name:"boolean"},{name:"null"}],required:!1}},{key:"href",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!1}},{key:"hrefTarget",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!1}},{key:"style",value:{name:"union",raw:"React.CSSProperties | null",elements:[{name:"ReactCSSProperties",raw:"React.CSSProperties"},{name:"null"}],required:!1}},{key:"parent",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!1}},{key:"shouldShowLock",value:{name:"union",raw:"boolean | null",elements:[{name:"boolean"},{name:"null"}],required:!1}}]}}]},{name:"intersection",raw:'Pick<Types.PostHogFeatureSwitch, "id" | "status"> & {\n    shortName?: Types.Maybe<string>;\n    type: typeof PosthogType;\n}',elements:[{name:"Pick",elements:[{name:"Types.PostHogFeatureSwitch"},{name:"union",raw:'"id" | "status"',elements:[{name:"literal",value:'"id"'},{name:"literal",value:'"status"'}]}],raw:'Pick<Types.PostHogFeatureSwitch, "id" | "status">'},{name:"signature",type:"object",raw:"{\n    shortName?: Types.Maybe<string>;\n    type: typeof PosthogType;\n}",signature:{properties:[{key:"shortName",value:{name:"Types.Maybe",elements:[{name:"string"}],raw:"Types.Maybe<string>",required:!1}},{key:"type",value:{name:"PosthogType",required:!0}}]}}]},{name:"intersection",raw:'Pick<Types.FlagceptionFeatureSwitch, "id" | "status" | "needs"> & {\n    shortName?: Types.Maybe<string>;\n    type: typeof FlagceptionType;\n    disabled?: boolean;\n}',elements:[{name:"Pick",elements:[{name:"Types.FlagceptionFeatureSwitch"},{name:"union",raw:'"id" | "status" | "needs"',elements:[{name:"literal",value:'"id"'},{name:"literal",value:'"status"'},{name:"literal",value:'"needs"'}]}],raw:'Pick<Types.FlagceptionFeatureSwitch, "id" | "status" | "needs">'},{name:"signature",type:"object",raw:"{\n    shortName?: Types.Maybe<string>;\n    type: typeof FlagceptionType;\n    disabled?: boolean;\n}",signature:{properties:[{key:"shortName",value:{name:"Types.Maybe",elements:[{name:"string"}],raw:"Types.Maybe<string>",required:!1}},{key:"type",value:{name:"FlagceptionType",required:!0}},{key:"disabled",value:{name:"boolean",required:!1}}]}}]}]},description:""},style:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:""},isActive:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};let B="heading-pzYfP1",Y="loadingItem-Ua2DVI",$=e=>{let{title:a,items:n,activeIndex:i}=e,r=(0,l.useRef)(null),s=Math.min(.5*window.innerHeight,31*n.length);(0,l.useEffect)(()=>{if(i>0){var e;null===(e=r.current)||void 0===e||e.scrollToItem(i)}},[i]);let o=(0,l.useCallback)((e,a)=>{let{item:n}=a[e];return n?`${n.type}:${n.id}`:e},[]),d=(0,l.useCallback)(e=>{let{index:a,style:n,data:l}=e;return(0,t.jsx)(G,{item:l[a].item,style:n,isActive:a===i})},[i]);return(0,t.jsxs)("div",{role:"listbox",children:[(0,t.jsx)("h5",{className:B,children:a}),(0,t.jsx)(E.t7,{height:s,itemCount:n.length,itemSize:31,width:"100%",itemData:n,itemKey:o,ref:r,children:d})]})};$.Skeleton=()=>(0,t.jsx)(t.Fragment,{children:Array(9).map((e,a)=>(0,t.jsxs)("div",{className:Y,children:[(0,t.jsx)(_.Od,{width:250})," ",(0,t.jsx)(_.Od,{width:25})]},a))});$.__docgenInfo={description:"",methods:[{name:"Skeleton",docblock:null,modifiers:["static"],params:[],returns:null}],displayName:"CommandPaletteResultsList",props:{title:{required:!0,tsType:{name:"string"},description:""},items:{required:!0,tsType:{name:"Array",elements:[{name:"Fuse.FuseResult",elements:[{name:"union",raw:"| MerchantItem\n| CampaignItem\n| ExperimentItem\n| OfferItem\n| PageItem\n| PosthogFeatureSwitchItem\n| FlagceptionFeatureSwitchItem",elements:[{name:"intersection",raw:'Pick<Types.Merchant, "id"> & { type: "Merchant"; shortName: string }',elements:[{name:"Pick",elements:[{name:"Types.Merchant"},{name:"literal",value:'"id"'}],raw:'Pick<Types.Merchant, "id">'},{name:"signature",type:"object",raw:'{ type: "Merchant"; shortName: string }',signature:{properties:[{key:"type",value:{name:"literal",value:'"Merchant"',required:!0}},{key:"shortName",value:{name:"string",required:!0}}]}}]},{name:"intersection",raw:'Pick<Types.Campaign, "id" | "shortName" | "status"> & { type: "Campaign" }',elements:[{name:"Pick",elements:[{name:"Types.Campaign"},{name:"union",raw:'"id" | "shortName" | "status"',elements:[{name:"literal",value:'"id"'},{name:"literal",value:'"shortName"'},{name:"literal",value:'"status"'}]}],raw:'Pick<Types.Campaign, "id" | "shortName" | "status">'},{name:"signature",type:"object",raw:'{ type: "Campaign" }',signature:{properties:[{key:"type",value:{name:"literal",value:'"Campaign"',required:!0}}]}}]},{name:"intersection",raw:'Pick<Types.Experiment, "id" | "shortName" | "status"> & {\n    type: "Experiment";\n    campaign: Pick<Types.Campaign, "id">;\n}',elements:[{name:"Pick",elements:[{name:"Types.Experiment"},{name:"union",raw:'"id" | "shortName" | "status"',elements:[{name:"literal",value:'"id"'},{name:"literal",value:'"shortName"'},{name:"literal",value:'"status"'}]}],raw:'Pick<Types.Experiment, "id" | "shortName" | "status">'},{name:"signature",type:"object",raw:'{\n    type: "Experiment";\n    campaign: Pick<Types.Campaign, "id">;\n}',signature:{properties:[{key:"type",value:{name:"literal",value:'"Experiment"',required:!0}},{key:"campaign",value:{name:"Pick",elements:[{name:"Types.Campaign"},{name:"literal",value:'"id"'}],raw:'Pick<Types.Campaign, "id">',required:!0}}]}}]},{name:"intersection",raw:'Pick<Types.Offer, "id" | "shortName"> & { type: "Offer" }',elements:[{name:"Pick",elements:[{name:"Types.Offer"},{name:"union",raw:'"id" | "shortName"',elements:[{name:"literal",value:'"id"'},{name:"literal",value:'"shortName"'}]}],raw:'Pick<Types.Offer, "id" | "shortName">'},{name:"signature",type:"object",raw:'{ type: "Offer" }',signature:{properties:[{key:"type",value:{name:"literal",value:'"Offer"',required:!0}}]}}]},{name:"intersection",raw:'Pick<Types.NavigationItem, "id"> & {\n    type: "Page";\n    shortName: string;\n    beta?: boolean | null;\n    featureFlag?: string | null;\n    preload?: boolean | null;\n    href?: string | null;\n    hrefTarget?: string | null;\n    style?: React.CSSProperties | null;\n    parent?: string | null;\n    shouldShowLock?: boolean | null;\n}',elements:[{name:"Pick",elements:[{name:"Types.NavigationItem"},{name:"literal",value:'"id"'}],raw:'Pick<Types.NavigationItem, "id">'},{name:"signature",type:"object",raw:'{\n    type: "Page";\n    shortName: string;\n    beta?: boolean | null;\n    featureFlag?: string | null;\n    preload?: boolean | null;\n    href?: string | null;\n    hrefTarget?: string | null;\n    style?: React.CSSProperties | null;\n    parent?: string | null;\n    shouldShowLock?: boolean | null;\n}',signature:{properties:[{key:"type",value:{name:"literal",value:'"Page"',required:!0}},{key:"shortName",value:{name:"string",required:!0}},{key:"beta",value:{name:"union",raw:"boolean | null",elements:[{name:"boolean"},{name:"null"}],required:!1}},{key:"featureFlag",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!1}},{key:"preload",value:{name:"union",raw:"boolean | null",elements:[{name:"boolean"},{name:"null"}],required:!1}},{key:"href",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!1}},{key:"hrefTarget",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!1}},{key:"style",value:{name:"union",raw:"React.CSSProperties | null",elements:[{name:"ReactCSSProperties",raw:"React.CSSProperties"},{name:"null"}],required:!1}},{key:"parent",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!1}},{key:"shouldShowLock",value:{name:"union",raw:"boolean | null",elements:[{name:"boolean"},{name:"null"}],required:!1}}]}}]},{name:"intersection",raw:'Pick<Types.PostHogFeatureSwitch, "id" | "status"> & {\n    shortName?: Types.Maybe<string>;\n    type: typeof PosthogType;\n}',elements:[{name:"Pick",elements:[{name:"Types.PostHogFeatureSwitch"},{name:"union",raw:'"id" | "status"',elements:[{name:"literal",value:'"id"'},{name:"literal",value:'"status"'}]}],raw:'Pick<Types.PostHogFeatureSwitch, "id" | "status">'},{name:"signature",type:"object",raw:"{\n    shortName?: Types.Maybe<string>;\n    type: typeof PosthogType;\n}",signature:{properties:[{key:"shortName",value:{name:"Types.Maybe",elements:[{name:"string"}],raw:"Types.Maybe<string>",required:!1}},{key:"type",value:{name:"PosthogType",required:!0}}]}}]},{name:"intersection",raw:'Pick<Types.FlagceptionFeatureSwitch, "id" | "status" | "needs"> & {\n    shortName?: Types.Maybe<string>;\n    type: typeof FlagceptionType;\n    disabled?: boolean;\n}',elements:[{name:"Pick",elements:[{name:"Types.FlagceptionFeatureSwitch"},{name:"union",raw:'"id" | "status" | "needs"',elements:[{name:"literal",value:'"id"'},{name:"literal",value:'"status"'},{name:"literal",value:'"needs"'}]}],raw:'Pick<Types.FlagceptionFeatureSwitch, "id" | "status" | "needs">'},{name:"signature",type:"object",raw:"{\n    shortName?: Types.Maybe<string>;\n    type: typeof FlagceptionType;\n    disabled?: boolean;\n}",signature:{properties:[{key:"shortName",value:{name:"Types.Maybe",elements:[{name:"string"}],raw:"Types.Maybe<string>",required:!1}},{key:"type",value:{name:"FlagceptionType",required:!0}},{key:"disabled",value:{name:"boolean",required:!1}}]}}]}]}],raw:"Fuse.FuseResult<Item>"}],raw:"Fuse.FuseResult<Item>[]"},description:""},activeIndex:{required:!0,tsType:{name:"number"},description:""}}};var K=n("../node_modules/@apollo/client/react/hooks/useQuery.js"),Q=n("./src/shared/hooks/useConfig/useConfig.ts"),J=n("./src/user/hooks/useActiveUserState.ts"),X=n("./src/user/types/RoleType.ts");let ee={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchCommandPaletteItems"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"merchantId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isEmployee"}},{kind:"Field",name:{kind:"Name",value:"roles"}}]}},{kind:"Field",name:{kind:"Name",value:"searchableMerchants"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"merchantItem"}}]}},{kind:"Field",alias:{kind:"Name",value:"searchablePages"},name:{kind:"Name",value:"navigation"},arguments:[{kind:"Argument",name:{kind:"Name",value:"merchantId"},value:{kind:"Variable",name:{kind:"Name",value:"merchantId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pageItem"}}]}},{kind:"Field",name:{kind:"Name",value:"postHogFeatureSwitches"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PosthogFeatureSwitchItem"}}]}},{kind:"Field",name:{kind:"Name",value:"featureSwitches"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FeatureSwitch"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"merchantItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Merchant"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",alias:{kind:"Name",value:"shortName"},name:{kind:"Name",value:"merchantName"}},{kind:"Field",alias:{kind:"Name",value:"type"},name:{kind:"Name",value:"__typename"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"pageItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NavigationItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"metadata"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"shortName"},name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"beta"}},{kind:"Field",name:{kind:"Name",value:"featureFlag"}},{kind:"Field",name:{kind:"Name",value:"negateFeatureFlag"}},{kind:"Field",name:{kind:"Name",value:"preload"}},{kind:"Field",name:{kind:"Name",value:"href"}},{kind:"Field",name:{kind:"Name",value:"hrefTarget"}},{kind:"Field",name:{kind:"Name",value:"includeInNavigation"}},{kind:"Field",name:{kind:"Name",value:"parent"}},{kind:"Field",name:{kind:"Name",value:"shouldShowLock"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PosthogFeatureSwitchItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostHogFeatureSwitch"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",alias:{kind:"Name",value:"shortName"},name:{kind:"Name",value:"label"}},{kind:"Field",alias:{kind:"Name",value:"type"},name:{kind:"Name",value:"__typename"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"FeatureSwitch"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FlagceptionFeatureSwitch"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",alias:{kind:"Name",value:"shortName"},name:{kind:"Name",value:"label"}},{kind:"Field",name:{kind:"Name",value:"needs"}},{kind:"Field",alias:{kind:"Name",value:"type"},name:{kind:"Name",value:"__typename"}}]}}]},ea={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchCommandPaletteMerchantItems"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"merchantId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isEmployee"}},{kind:"Field",name:{kind:"Name",value:"roles"}}]}},{kind:"Field",name:{kind:"Name",value:"merchant"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"merchantId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"merchantName"}}]}},{kind:"Field",name:{kind:"Name",value:"searchableMerchants"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"merchantItem"}}]}},{kind:"Field",name:{kind:"Name",value:"searchableCampaigns"},arguments:[{kind:"Argument",name:{kind:"Name",value:"merchantId"},value:{kind:"Variable",name:{kind:"Name",value:"merchantId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"shortName"}},{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",alias:{kind:"Name",value:"type"},name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"searchableExperiments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"merchantId"},value:{kind:"Variable",name:{kind:"Name",value:"merchantId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"shortName"}},{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",name:{kind:"Name",value:"campaign"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",alias:{kind:"Name",value:"type"},name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"searchableOffers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"merchantId"},value:{kind:"Variable",name:{kind:"Name",value:"merchantId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"shortName"}},{kind:"Field",alias:{kind:"Name",value:"type"},name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",alias:{kind:"Name",value:"searchablePages"},name:{kind:"Name",value:"navigation"},arguments:[{kind:"Argument",name:{kind:"Name",value:"merchantId"},value:{kind:"Variable",name:{kind:"Name",value:"merchantId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pageItem"}}]}},{kind:"Field",name:{kind:"Name",value:"postHogFeatureSwitches"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PosthogFeatureSwitchItem"}}]}},{kind:"Field",name:{kind:"Name",value:"featureSwitches"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FeatureSwitch"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"merchantItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Merchant"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",alias:{kind:"Name",value:"shortName"},name:{kind:"Name",value:"merchantName"}},{kind:"Field",alias:{kind:"Name",value:"type"},name:{kind:"Name",value:"__typename"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"pageItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NavigationItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"metadata"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"shortName"},name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"beta"}},{kind:"Field",name:{kind:"Name",value:"featureFlag"}},{kind:"Field",name:{kind:"Name",value:"negateFeatureFlag"}},{kind:"Field",name:{kind:"Name",value:"preload"}},{kind:"Field",name:{kind:"Name",value:"href"}},{kind:"Field",name:{kind:"Name",value:"hrefTarget"}},{kind:"Field",name:{kind:"Name",value:"includeInNavigation"}},{kind:"Field",name:{kind:"Name",value:"parent"}},{kind:"Field",name:{kind:"Name",value:"shouldShowLock"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PosthogFeatureSwitchItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostHogFeatureSwitch"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",alias:{kind:"Name",value:"shortName"},name:{kind:"Name",value:"label"}},{kind:"Field",alias:{kind:"Name",value:"type"},name:{kind:"Name",value:"__typename"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"FeatureSwitch"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FlagceptionFeatureSwitch"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",alias:{kind:"Name",value:"shortName"},name:{kind:"Name",value:"label"}},{kind:"Field",name:{kind:"Name",value:"needs"}},{kind:"Field",alias:{kind:"Name",value:"type"},name:{kind:"Name",value:"__typename"}}]}}]},en=(e,a)=>null!=e&&!!e.filter(e=>{var n;return!(null===(n=a.find(a=>{let{id:n}=a;return n===e}))||void 0===n?void 0:n.status)}).length,et=e=>void 0!==e.searchableCampaigns,el=(e,a)=>{let n=null==a?void 0:a.find(a=>{let{id:n}=a;return n===e});return(null==n?void 0:n.parent)?el(n.parent,a):n},ei=e=>{let{merchantId:a}=(0,o.rc)(),{postHog:n}=(0,b.U)(),{data:t}=(0,J.Z)(),{data:i}=(0,Q.Z)(),{data:r,loading:s}=(0,K.aM)(a?ea:ee,{skip:e,variables:{merchantId:a}}),d=(0,l.useMemo)(()=>{var e;return null==r?void 0:null===(e=r.searchablePages)||void 0===e?void 0:e.filter(e=>{let{metadata:a}=e;return a.href}).filter(e=>{let{metadata:a}=e;if(!a.featureFlag)return!0;let t=null==n?void 0:n.isFeatureEnabled(a.featureFlag);return!a.negateFeatureFlag&&t||a.negateFeatureFlag&&!t}).map(e=>{var a;let{id:n,metadata:t}=e;return{id:n,type:"Page",...t,parent:null===(a=el(t.parent,null==r?void 0:r.searchablePages))||void 0===a?void 0:a.metadata.shortName}})},[null==r?void 0:r.searchablePages,n]),m=(0,l.useMemo)(()=>{if(!r)return[];let e=(0,y.ph)(X.Z.ROLE_MM_ENGINEERING,(null==t?void 0:t.roles)||[]),a=r.searchableMerchants&&r.searchableMerchants.length>1?r.searchableMerchants:[],n=e?r.featureSwitches.map(e=>({...e,disabled:en(e.needs,r.featureSwitches)})):[],l=n.find(e=>{let{id:a}=e;return"POSTHOG_SCRIPT"===a}),s=!l||!e||(null==i?void 0:i.config.isDemo)||(null==i?void 0:i.config.isProduction)||l.status?[]:r.postHogFeatureSwitches;return et(r)?[...a,...r.searchableCampaigns||[],...r.searchableExperiments||[],...r.searchableOffers||[],...n,...s,...d||[]]:[...a,...d||[],...n,...s]},[r,d,null==t?void 0:t.roles,null==i?void 0:i.config.isDemo,null==i?void 0:i.config.isProduction]);return{loading:s,items:m,suggestedActions:(0,l.useMemo)(()=>{if(!d)return[];let e=d.filter(e=>e.includeInNavigation&&!e.parent);return(e.length>0?e:d).slice(0,7).map((e,a)=>({item:e,refIndex:a}))},[d])}},er={container:"container-vobCE0",containerExpanded:"containerExpanded-W74w2r",palette:"palette-_9yBqD",results:"results-fHLWUk"},es=()=>{let{t:e}=(0,c.$G)("shared"),{postHog:a}=(0,b.U)(),[n,i,r]=(0,k.s6)(e=>{let{isCommandPaletteExpanded:a,closeCommandPalette:n,openCommandPalette:t}=e;return[a,n,t]}),s=(0,l.useRef)(null),d=(0,l.useRef)(null),[m,x]=(0,l.useState)([]),{loading:w,items:_,suggestedActions:F}=ei(!n),{triggerAction:I,triggerActionNewTab:E}=U(),P=(0,l.useMemo)(()=>{let e=m.length>0,a=m.some(e=>e===O)?[...m,R]:m;return e?_.filter(e=>a.includes(e.type)):_},[m,_]),{results:j=[],searchTerm:C,setSearchTerm:M}=(0,o.XE)(P,{keys:["shortName","parent"]});(0,l.useEffect)(()=>()=>{i()},[i]),(0,o.V4)(()=>{let e=setTimeout(()=>{null==a||a.capture("command-palette-search",{searchTerm:C})},3e3);return()=>clearTimeout(e)},[C]);let L=(0,l.useCallback)(()=>{var e;M(""),null===(e=s.current)||void 0===e||e.focus()},[M]),A=(0,l.useCallback)(()=>{if(L(),x([]),i(),document.activeElement===s.current){var e;null===(e=s.current)||void 0===e||e.blur()}},[L,x,i]);(0,o.o2)(v.KW,A,n),(0,o.O3)(d,A,n),(0,o.P5)(d,n),(0,o.Pr)(n);let Z=(0,l.useMemo)(()=>[...new Set(_.map(e=>e.type).filter(e=>e!==R))],[_]),q=(0,l.useMemo)(()=>Z.filter(e=>_.some(a=>a.type===e)),[Z,_]),W=C||m.length>0,z=W&&j.length>0,{activeIndex:H,onKeyDown:D,setActiveIndex:V}=function(e){let{onSelect:a,items:n}=e,[t,i]=(0,l.useState)(0),r=(0,l.useCallback)(e=>{var l;let r=n[t],s=(null===(l=document.activeElement)||void 0===l?void 0:l.getAttribute("role"))==="checkbox";if((f(e)||N(e))&&(0,y.bm)(e)&&!s)e.preventDefault(),null==a||a({item:r,isNewTab:!0});else if((0,y.bm)(e)&&!s)null==a||a({item:r});else if((0,y.cV)(e,"ArrowDown")){let e=n.length-1;i(a=>a+1===n.length?0:Math.min(a+1,e))}else(0,y.cV)(e,"ArrowUp")&&i(e=>e<=0?n.length-1:Math.max(e-1,0))},[t,a,n]);return{activeIndex:t,onKeyDown:r,setActiveIndex:i}}({items:(z?j:F).map(e=>e.item),onSelect:e=>{let{item:a,isNewTab:n}=e;(n?E:I)(a),!n&&A()}}),G=(0,l.useCallback)(e=>{M(e),r(),V(0)},[M,r,V]),B=(0,l.useCallback)(e=>{null==a||a.capture("command-palette-filter-add",{filterType:e.toLowerCase()}),V(0),x(a=>[...a,e])},[a,V]),Y=(0,l.useCallback)(e=>{null==a||a.capture("command-palette-filter-remove",{filterType:e.toLowerCase()}),V(0),x(a=>a.filter(a=>a!==e))},[a,V]),K=()=>{null==a||a.capture("command-palette-open"),r(),V(0)};return(0,p.y1)("command+k",K),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.zd,{isVisible:n}),(0,t.jsxs)("div",{className:u()(er.container,{[er.containerExpanded]:n}),role:"none",ref:d,onKeyDown:D,children:[(0,t.jsx)(g.Z,{onSearchTermChange:G,value:C,placeholder:e("command-palette.searchTerm-placeholder","What would you like to search for?"),onClick:K,onClear:L,ref:s,"aria-label":e("search.label","Search")}),n&&(0,t.jsxs)("div",{className:er.palette,children:[w?(0,t.jsx)(S.Skeleton,{}):(0,t.jsx)(S,{filters:q,selectedFilters:m,onSetFilter:B,onRemoveFilter:Y}),(0,t.jsx)("div",{className:er.results,children:w?(0,t.jsx)($.Skeleton,{}):(0,t.jsxs)(t.Fragment,{children:[z&&(0,t.jsx)($,{activeIndex:H,title:e("command-palette.results-heading",{defaultValue:"Results ({{ count }})",count:j.length}),items:j}),W&&!z&&(0,t.jsx)("p",{children:e("command-palette.no-results-message","No items found matching your search")}),(!W||!z)&&(0,t.jsx)($,{activeIndex:H,title:e("command-palette.suggested-actions-heading","Suggestions"),items:F})]})}),(0,t.jsx)(T,{onClose:A})]})]})]})},eo=(0,l.memo)(es);es.__docgenInfo={description:'TODO(LH & JS):\n- Designs from UX\n\nTODO Future thoughts (LH & JS):\n- Have a settings item that loads the page + focuses on the setting\n- Ability to search across merchants for something, eg: "1stdibs <enter> Merchant Settings <enter>"\n- Recent Items',methods:[],displayName:"CommandPalette"};var ed=n("./src/shared/templates/FixedHeader/components/FixedHeaderLogo.tsx"),em=n("./src/shared/assets/icon-search.svg"),eu=n("./src/shared/components/MerchantInformationOverlay/MerchantInformationOverlay.tsx"),ec=n("./src/shared/utilities/IsGranted/IsGranted.tsx"),ep=n("../node_modules/styled-components/dist/styled-components.browser.esm.js");let eh=ep.ZP.ul.withConfig({displayName:"HeaderActions.styled__Nav"})(["padding-left:0;margin-left:0;margin-bottom:0;display:flex;align-items:center;"]),eg=(0,ep.ZP)(h.zx).withConfig({displayName:"HeaderActions.styled__MobileSearchButton"})(["display:flex;svg{width:25px;height:25px;path{fill:black;}}"]),ev=()=>{let{isPostHogLoading:e,postHog:a}=(0,b.U)();return(0,l.useCallback)(function(n){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{loading:n&&e,isCurrentlyVisible:!n||!e&&!t&&(null==a?void 0:a.isFeatureEnabled(n))||t&&!(null==a?void 0:a.isFeatureEnabled(n))}},[e,a])},ek={item:"item-UgMpD7",secondary:"secondary-cKZ2rj",skeleton:"skeleton-G3t5U6"},ey=e=>{let{feature:a,shouldNegateFeature:n,isSecondary:l,isLoading:i,children:r}=e,{loading:s,isCurrentlyVisible:o}=ev()(a,n),d=u()(ek.item,{[ek.secondary]:l});return s||i?(0,t.jsx)("li",{className:u()(ek.item,{[ek.secondary]:l}),children:(0,t.jsx)(_.Od,{className:ek.skeleton})}):o?(0,t.jsx)("li",{className:d,children:r}):null};ey.__docgenInfo={description:"",methods:[],displayName:"HeaderItem"};let eN=()=>{let[e,a]=(0,k.s6)(e=>[e.isDesktop,e.openCommandPalette]);return(0,t.jsxs)(eh,{children:[!e&&(0,t.jsx)(ey,{"data-auto-class":"header-mobile-search-icon",isSecondary:!0,children:(0,t.jsx)(eg,{onClick:a,variant:"blank",children:(0,t.jsx)(em.Z,{})})}),(0,t.jsx)(ec.Z.Role,{requiredRole:X.Z.ROLE_MERCHANT_PERFORMANCE,children:(0,t.jsx)(ey,{isSecondary:!0,children:(0,t.jsx)("div",{children:(0,t.jsx)(eu.Z,{})})})})]})};eN.__docgenInfo={description:"",methods:[],displayName:"HeaderActions"};var ef=n("./src/shared/templates/FixedHeader/FixedHeader.module.less?6e58");let eb=e=>{let{homeLink:a,isMinimal:n=!1}=e,{t:l}=(0,c.$G)("header"),{data:i,loading:r}=(0,Q.Z)(),[s,d,m,p]=(0,k.s6)(e=>[e.isMobileNavOpen,e.toggleMobileNav,e.isDesktop,e.isLayoutMinimal]);(0,o.Pr)(!!s&&!m);let{environment:g,isProduction:v}=(null==i?void 0:i.config)??{};return(0,t.jsx)("div",{className:u()(ef.Z.container,{[ef.Z.opened]:s,[ef.Z.nonprod]:!v}),children:(0,t.jsxs)("div",{className:ef.Z.header,children:[!r&&!v&&(0,t.jsx)("div",{className:ef.Z.bar,children:g}),(0,t.jsx)("nav",{children:(0,t.jsxs)("div",{className:ef.Z.nav,children:[(0,t.jsxs)(h.zx,{className:ef.Z.hamburger,onClick:e=>{e.stopPropagation(),d()},variant:"blank",children:[(0,t.jsx)("span",{className:"sr-only",children:l("toggle-navigation-text","Toggle navigation")}),(0,t.jsx)("span",{className:ef.Z.hamburgerBarTop}),(0,t.jsx)("span",{className:ef.Z.hamburgerBarMiddle}),(0,t.jsx)("span",{className:ef.Z.hamburgerBarBottom})]}),(0,t.jsx)(ed.Z,{homeLink:a||(0,y.nu)("merchant_home_default")}),!p&&!n&&(0,t.jsxs)("div",{className:ef.Z.headerActions,children:[(0,t.jsx)(eo,{}),(0,t.jsx)(eN,{})]})]})})]})})};eb.__docgenInfo={description:"",methods:[],displayName:"FixedHeader",props:{homeLink:{required:!1,tsType:{name:"string"},description:""},isMinimal:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};var ex=n("./src/user/graphql/user.generated.ts");let ew={__typename:"Query",user:{__typename:"User",id:"1234",firstname:"Test",email:"test@jsdom.mention-me.local",surname:"User",displayName:"Test User",isImpersonating:!1,roles:["ROLE_MM_ENGINEERING","ROLE_MM_SALES"],isEmployee:!0,featureSwitches:[],userCanLoginWithUsernameAndPassword:!1}},eS={__typename:"Query",navigation:[{id:"dashboard",metadata:{name:"Dashboard",includeInNavigation:!0,reportingRoute:null,parent:null,href:"/merchant/4912/dashboard",hrefTarget:null,activePaths:["/merchant/:merchantId/dashboard"],preload:null,featureFlag:null,negateFeatureFlag:null,beta:null,shouldShowLock:null,subNavOrder:null,displayAsNew:null,class:"header-nav-dashboard",zendeskWidgetLabels:[],zendeskWidgetSearch:null,alwaysExpanded:!1,suppressFromMenus:!1,__typename:"NavigationItemMetadata"},__typename:"NavigationItem"},{id:"campaigns",metadata:{name:"Campaigns",includeInNavigation:!0,reportingRoute:null,parent:null,href:"/merchant/4912/campaigns",hrefTarget:null,activePaths:["/merchant/:merchantId/campaigns","/merchant/:merchantId/campaigns/archived","/merchant/:merchantId/campaign/:campaignId","/merchant/:merchantId/offer/:offerId"],preload:!0,featureFlag:null,negateFeatureFlag:null,beta:null,shouldShowLock:null,subNavOrder:null,displayAsNew:null,class:"header-nav-campaigns",zendeskWidgetLabels:[],zendeskWidgetSearch:null,alwaysExpanded:!1,suppressFromMenus:!1,__typename:"NavigationItemMetadata"},__typename:"NavigationItem"},{id:"reporting",metadata:{name:"Reporting",includeInNavigation:!0,reportingRoute:!0,parent:null,href:"/merchant/reports/reporting/dashboard/?merchantid=4912",hrefTarget:null,activePaths:["/merchant/reports/*"],preload:null,featureFlag:null,negateFeatureFlag:null,beta:null,shouldShowLock:null,subNavOrder:null,displayAsNew:null,class:"header-nav-reporting",zendeskWidgetLabels:[],zendeskWidgetSearch:null,alwaysExpanded:!1,suppressFromMenus:!1,__typename:"NavigationItemMetadata"},__typename:"NavigationItem"},{id:"referral-performance",metadata:{name:"Referral performance",includeInNavigation:!0,reportingRoute:null,parent:"reporting",href:null,hrefTarget:null,activePaths:["/merchant/reports/reporting/dashboard","/merchant/reports/reporting/dashboard/conversion-funnel","/merchant/:merchantId/reporting/explore","/merchant/reports/reporting/dashboard/sharing-activity","/merchant/reports/reporting/dashboard/customer-insights","/merchant/reports/reporting/dashboard/new-customer-value-dashboard","/merchant/reports/reporting/dashboard/segmentation-insights-dashboard"],preload:null,featureFlag:null,negateFeatureFlag:null,beta:null,class:null,shouldShowLock:null,subNavOrder:null,displayAsNew:null,zendeskWidgetLabels:[],zendeskWidgetSearch:null,alwaysExpanded:!1,suppressFromMenus:!1,__typename:"NavigationItemMetadata"},__typename:"NavigationItem"},{id:"overall-performance",metadata:{name:"Overall performance",includeInNavigation:!0,reportingRoute:!0,parent:"referral-performance",href:"/merchant/reports/reporting/dashboard/?merchantid=4912",hrefTarget:null,activePaths:["/merchant/reports/reporting/dashboard"],preload:null,featureFlag:null,negateFeatureFlag:null,beta:null,class:null,shouldShowLock:null,subNavOrder:null,displayAsNew:null,zendeskWidgetLabels:[],zendeskWidgetSearch:null,alwaysExpanded:!1,suppressFromMenus:!1,__typename:"NavigationItemMetadata"},__typename:"NavigationItem"},{id:"conversion-and-funnel",metadata:{name:"Conversion & funnel",includeInNavigation:!0,reportingRoute:!0,parent:"referral-performance",href:"/merchant/reports/reporting/dashboard/conversion-funnel?merchantid=4912",hrefTarget:null,activePaths:["/merchant/reports/reporting/dashboard/conversion-funnel"],preload:null,featureFlag:null,negateFeatureFlag:null,beta:null,class:null,shouldShowLock:null,subNavOrder:null,displayAsNew:null,zendeskWidgetLabels:[],zendeskWidgetSearch:null,alwaysExpanded:!1,suppressFromMenus:!1,__typename:"NavigationItemMetadata"},__typename:"NavigationItem"},{id:"explore",metadata:{name:"Explore",includeInNavigation:!0,reportingRoute:null,parent:"referral-performance",href:"/merchant/4912/reporting/explore",hrefTarget:null,activePaths:["/merchant/:merchantId/reporting/explore"],preload:null,featureFlag:null,negateFeatureFlag:null,beta:null,class:null,shouldShowLock:null,subNavOrder:null,displayAsNew:null,zendeskWidgetLabels:[],zendeskWidgetSearch:null,alwaysExpanded:!1,suppressFromMenus:!1,__typename:"NavigationItemMetadata"},__typename:"NavigationItem"},{id:"sharing-activity",metadata:{name:"Sharing activity",includeInNavigation:!0,reportingRoute:!0,parent:"referral-performance",href:"/merchant/reports/reporting/dashboard/sharing-activity?merchantid=4912",hrefTarget:null,activePaths:["/merchant/reports/reporting/dashboard/sharing-activity"],preload:null,featureFlag:null,negateFeatureFlag:null,beta:null,class:null,shouldShowLock:null,subNavOrder:null,displayAsNew:null,zendeskWidgetLabels:[],zendeskWidgetSearch:null,alwaysExpanded:!1,suppressFromMenus:!1,__typename:"NavigationItemMetadata"},__typename:"NavigationItem"},{id:"customer-insights",metadata:{name:"Customer insights",includeInNavigation:!0,reportingRoute:!0,parent:"referral-performance",href:"/merchant/reports/reporting/dashboard/customer-insights?merchantid=4912",hrefTarget:null,activePaths:["/merchant/reports/reporting/dashboard/customer-insights"],preload:null,featureFlag:null,negateFeatureFlag:null,beta:null,class:null,shouldShowLock:null,subNavOrder:null,displayAsNew:null,zendeskWidgetLabels:[],zendeskWidgetSearch:null,alwaysExpanded:!1,suppressFromMenus:!1,__typename:"NavigationItemMetadata"},__typename:"NavigationItem"},{id:"new-customer-value",metadata:{name:"New customer value",includeInNavigation:!0,reportingRoute:!0,parent:"referral-performance",href:"/merchant/reports/reporting/dashboard/new-customer-value-dashboard?merchantid=4912",hrefTarget:null,activePaths:["/merchant/reports/reporting/dashboard/new-customer-value-dashboard"],preload:null,featureFlag:null,negateFeatureFlag:null,beta:null,class:null,shouldShowLock:null,subNavOrder:null,displayAsNew:null,zendeskWidgetLabels:[],zendeskWidgetSearch:null,alwaysExpanded:!1,suppressFromMenus:!1,__typename:"NavigationItemMetadata"},__typename:"NavigationItem"},{id:"segmentation-insights",metadata:{name:"Segmentation insights",includeInNavigation:!0,reportingRoute:!0,parent:"referral-performance",href:"/merchant/reports/reporting/dashboard/segmentation-insights-dashboard?merchantid=4912",hrefTarget:null,activePaths:["/merchant/reports/reporting/dashboard/segmentation-insights-dashboard"],preload:null,featureFlag:null,negateFeatureFlag:null,beta:null,class:null,shouldShowLock:null,subNavOrder:null,displayAsNew:null,zendeskWidgetLabels:[],zendeskWidgetSearch:null,alwaysExpanded:!1,suppressFromMenus:!1,__typename:"NavigationItemMetadata"},__typename:"NavigationItem"},{id:"download-and-saved",metadata:{name:"Download & saved items",includeInNavigation:!0,reportingRoute:null,parent:"reporting",href:null,hrefTarget:null,activePaths:["/merchant/reports/reporting/dashboard/download","/merchant/:merchantId/reporting/saved-reports/user","/merchant/reports/reporting/emailed-dashboards/client-progress-update"],preload:null,featureFlag:null,negateFeatureFlag:null,beta:null,class:null,shouldShowLock:null,subNavOrder:null,displayAsNew:null,zendeskWidgetLabels:[],zendeskWidgetSearch:null,alwaysExpanded:!1,suppressFromMenus:!1,__typename:"NavigationItemMetadata"},__typename:"NavigationItem"},{id:"reports-for-download",metadata:{name:"Reports for download",includeInNavigation:null,reportingRoute:!0,parent:"download-and-saved",href:"/merchant/reports/reporting/dashboard/download?merchantid=4912",hrefTarget:null,activePaths:["/merchant/reports/reporting/dashboard/download"],preload:null,featureFlag:null,negateFeatureFlag:null,beta:null,class:null,shouldShowLock:null,subNavOrder:null,displayAsNew:null,zendeskWidgetLabels:[],zendeskWidgetSearch:null,alwaysExpanded:!1,suppressFromMenus:!1,__typename:"NavigationItemMetadata"},__typename:"NavigationItem"},{id:"saved-reports",metadata:{name:"Saved reports",includeInNavigation:!0,reportingRoute:null,parent:"download-and-saved",href:"/merchant/4912/reporting/saved-reports/user",hrefTarget:null,activePaths:["/merchant/:merchantId/reporting/saved-reports/user"],preload:null,featureFlag:null,negateFeatureFlag:null,beta:null,class:null,shouldShowLock:null,subNavOrder:null,displayAsNew:null,zendeskWidgetLabels:[],zendeskWidgetSearch:null,alwaysExpanded:!1,suppressFromMenus:!1,__typename:"NavigationItemMetadata"},__typename:"NavigationItem"},{id:"performance-summary-email",metadata:{name:"Performance summary email",includeInNavigation:!0,reportingRoute:null,parent:"download-and-saved",href:"/merchant/reports/reporting/emailed-dashboards/client-progress-update?merchantid=4912",hrefTarget:null,activePaths:["/merchant/reports/reporting/emailed-dashboards/client-progress-update"],preload:null,featureFlag:null,negateFeatureFlag:null,beta:null,class:null,shouldShowLock:null,subNavOrder:null,displayAsNew:null,zendeskWidgetLabels:[],zendeskWidgetSearch:null,alwaysExpanded:!1,suppressFromMenus:!1,__typename:"NavigationItemMetadata"},__typename:"NavigationItem"},{id:"retention",metadata:{name:"Retention",includeInNavigation:!0,reportingRoute:null,parent:"reporting",href:null,hrefTarget:null,activePaths:["/merchant/reports/reporting/dashboard/repeat","/merchant/reports/reporting/dashboard/ifa"],preload:null,featureFlag:null,negateFeatureFlag:null,beta:null,class:null,shouldShowLock:null,subNavOrder:null,displayAsNew:null,zendeskWidgetLabels:[],zendeskWidgetSearch:null,alwaysExpanded:!1,suppressFromMenus:!1,__typename:"NavigationItemMetadata"},__typename:"NavigationItem"},{id:"repeat-performance",metadata:{name:"Repeat performance",includeInNavigation:!0,reportingRoute:!0,parent:"retention",href:"/merchant/reports/reporting/dashboard/repeat?merchantid=4912",hrefTarget:null,activePaths:["/merchant/reports/reporting/dashboard/repeat"],preload:null,featureFlag:null,negateFeatureFlag:null,beta:null,class:null,shouldShowLock:null,subNavOrder:null,displayAsNew:null,zendeskWidgetLabels:[],zendeskWidgetSearch:null,alwaysExpanded:!1,suppressFromMenus:!1,__typename:"NavigationItemMetadata"},__typename:"NavigationItem"},{id:"drive-action",metadata:{name:"Drive action",includeInNavigation:!0,reportingRoute:!0,parent:"retention",href:"/merchant/reports/reporting/dashboard/ifa?merchantid=4912",hrefTarget:null,activePaths:["/merchant/reports/reporting/dashboard/ifa"],preload:null,featureFlag:null,negateFeatureFlag:null,beta:null,class:null,shouldShowLock:null,subNavOrder:null,displayAsNew:null,zendeskWidgetLabels:[],zendeskWidgetSearch:null,alwaysExpanded:!1,suppressFromMenus:!1,__typename:"NavigationItemMetadata"},__typename:"NavigationItem"},{id:"add-ons",metadata:{name:"Add-ons",includeInNavigation:!0,reportingRoute:null,parent:"reporting",href:null,hrefTarget:null,activePaths:["/merchant/reports/reporting/dashboard/nps","/merchant/reports/reporting/dashboard/newsletter-signups","/merchant/reports/reporting/dashboard/incentivised-purchases"],preload:null,featureFlag:null,negateFeatureFlag:null,beta:null,class:null,shouldShowLock:null,subNavOrder:null,displayAsNew:null,zendeskWidgetLabels:[],zendeskWidgetSearch:null,alwaysExpanded:!1,suppressFromMenus:!1,__typename:"NavigationItemMetadata"},__typename:"NavigationItem"},{id:"nps",metadata:{name:"NPS",includeInNavigation:!0,reportingRoute:!0,parent:"add-ons",href:"/merchant/reports/reporting/dashboard/nps?merchantid=4912",hrefTarget:null,activePaths:["/merchant/reports/reporting/dashboard/nps"],preload:null,featureFlag:null,negateFeatureFlag:null,beta:null,class:null,shouldShowLock:null,subNavOrder:null,displayAsNew:null,zendeskWidgetLabels:[],zendeskWidgetSearch:null,alwaysExpanded:!1,suppressFromMenus:!1,__typename:"NavigationItemMetadata"},__typename:"NavigationItem"},{id:"integrations",metadata:{name:"Integrations",includeInNavigation:!0,reportingRoute:null,parent:null,href:"/merchant/4912/integrations",hrefTarget:null,activePaths:["/merchant/:merchantId/integrations"],preload:null,featureFlag:null,negateFeatureFlag:null,beta:null,shouldShowLock:null,subNavOrder:null,displayAsNew:null,class:"header-nav-integrations",zendeskWidgetLabels:[],zendeskWidgetSearch:null,alwaysExpanded:!1,suppressFromMenus:!1,__typename:"NavigationItemMetadata"},__typename:"NavigationItem"},{id:"customers",metadata:{name:"Customers",includeInNavigation:!0,reportingRoute:null,parent:null,href:"/merchant/customers/list/4912",hrefTarget:null,activePaths:["/merchant/customers/list/*"],preload:null,featureFlag:null,negateFeatureFlag:null,beta:null,shouldShowLock:null,subNavOrder:null,displayAsNew:null,class:"header-nav-customers",zendeskWidgetLabels:[],zendeskWidgetSearch:null,alwaysExpanded:!1,suppressFromMenus:!1,__typename:"NavigationItemMetadata"},__typename:"NavigationItem"},{id:"customer-referrers",metadata:{name:"View Referrers",includeInNavigation:!0,reportingRoute:null,parent:"customers",href:"/merchant/customers/list/referrer/4912",hrefTarget:null,activePaths:["/merchant/customers/list/referrer"],preload:null,featureFlag:null,negateFeatureFlag:null,beta:null,class:null,shouldShowLock:null,subNavOrder:null,displayAsNew:null,zendeskWidgetLabels:[],zendeskWidgetSearch:null,alwaysExpanded:!1,suppressFromMenus:!1,__typename:"NavigationItemMetadata"},__typename:"NavigationItem"},{id:"customer-referees",metadata:{name:"View Referees",includeInNavigation:!0,reportingRoute:null,parent:"customers",href:"/merchant/customers/list/referee/4912",hrefTarget:null,activePaths:["/merchant/customers/list/referee"],preload:null,featureFlag:null,negateFeatureFlag:null,beta:null,class:null,shouldShowLock:null,subNavOrder:null,displayAsNew:null,zendeskWidgetLabels:[],zendeskWidgetSearch:null,alwaysExpanded:!1,suppressFromMenus:!1,__typename:"NavigationItemMetadata"},__typename:"NavigationItem"},{id:"customer-activity-log",metadata:{name:"Activity Logs",includeInNavigation:!0,reportingRoute:null,parent:"customers",href:"/merchant/customers/list/referee/4912",hrefTarget:null,activePaths:["/merchant/customers/approvals/log/approvals"],preload:null,featureFlag:null,negateFeatureFlag:null,beta:null,class:null,shouldShowLock:null,subNavOrder:null,displayAsNew:null,zendeskWidgetLabels:[],zendeskWidgetSearch:null,alwaysExpanded:!1,suppressFromMenus:!1,__typename:"NavigationItemMetadata"},__typename:"NavigationItem"},{id:"settings",metadata:{name:"settings",includeInNavigation:null,reportingRoute:null,parent:null,href:null,hrefTarget:null,activePaths:null,preload:null,featureFlag:null,negateFeatureFlag:null,beta:null,class:null,shouldShowLock:null,subNavOrder:null,displayAsNew:null,zendeskWidgetLabels:[],zendeskWidgetSearch:null,alwaysExpanded:!1,suppressFromMenus:!1,__typename:"NavigationItemMetadata"},__typename:"NavigationItem"},{id:"group",metadata:{name:"group",includeInNavigation:null,reportingRoute:null,parent:"settings",href:null,hrefTarget:null,activePaths:null,preload:null,featureFlag:null,negateFeatureFlag:null,beta:null,class:null,shouldShowLock:null,subNavOrder:null,displayAsNew:null,zendeskWidgetLabels:[],zendeskWidgetSearch:null,alwaysExpanded:!1,suppressFromMenus:!1,__typename:"NavigationItemMetadata"},__typename:"NavigationItem"},{id:"alink",metadata:{name:"this is a block for a settings page",includeInNavigation:null,reportingRoute:null,parent:"group",href:"/",hrefTarget:null,activePaths:["/"],preload:null,featureFlag:null,negateFeatureFlag:null,beta:null,class:null,shouldShowLock:null,subNavOrder:null,displayAsNew:null,zendeskWidgetLabels:[],zendeskWidgetSearch:null,alwaysExpanded:!1,suppressFromMenus:!1,__typename:"NavigationItemMetadata"},__typename:"NavigationItem"},{id:"admin-settings",metadata:{name:"admin-settings",includeInNavigation:null,reportingRoute:null,parent:null,href:null,hrefTarget:null,activePaths:null,preload:null,featureFlag:null,negateFeatureFlag:null,beta:null,class:null,shouldShowLock:null,subNavOrder:null,displayAsNew:null,zendeskWidgetLabels:[],zendeskWidgetSearch:null,alwaysExpanded:!1,suppressFromMenus:!1,__typename:"NavigationItemMetadata"},__typename:"NavigationItem"},{id:"admin-group",metadata:{name:"admin group",includeInNavigation:null,reportingRoute:null,parent:"admin-settings",href:null,hrefTarget:null,activePaths:null,preload:null,featureFlag:null,negateFeatureFlag:null,beta:null,class:null,shouldShowLock:null,subNavOrder:null,displayAsNew:null,zendeskWidgetLabels:[],zendeskWidgetSearch:null,alwaysExpanded:!1,suppressFromMenus:!1,__typename:"NavigationItemMetadata"},__typename:"NavigationItem"},{id:"admin-link",metadata:{name:"this is a block for an admin settings page",includeInNavigation:null,reportingRoute:null,parent:"admin-group",href:"/",hrefTarget:null,activePaths:["/"],preload:null,featureFlag:null,negateFeatureFlag:null,beta:null,class:null,shouldShowLock:!0,subNavOrder:null,displayAsNew:null,zendeskWidgetLabels:[],zendeskWidgetSearch:null,alwaysExpanded:!1,suppressFromMenus:!1,__typename:"NavigationItemMetadata"},__typename:"NavigationItem"}]};var e_=n("./src/shared/hooks/useEntityIds/index.ts"),eF=n("./src/shared/hooks/useHeaderHeight/useHeaderHeight.ts"),eI=n("./src/shared/hooks/useZendeskWidget/index.ts"),eT=n("./src/shared/utilities/checkHasRole.ts");let eE=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.filter(e=>{let{metadata:n}=e;return n.parent===a}).map(a=>({...a,items:eE(e,a.id)}))};var eP=n("./src/shared/utilities/IsGranted/index.ts");let ej=(0,l.createContext)({isLoading:!0,isCollapsed:!1,navItems:null,expandNavigation:()=>{},toggleNavCollapse:()=>{},toggleExtendedMenu:()=>{},closeExtendedMenu:()=>{},isExtendedMenuOpen:!1}),eC=()=>(0,l.useContext)(ej),eM=()=>{let{isPostHogLoading:e,postHog:a}=(0,b.U)();return{hasAccessToNavItem:(0,l.useCallback)(n=>{if(!n.metadata.featureFlag)return!0;let{featureFlag:t,negateFeatureFlag:l}=n.metadata;if(e||!a)return!1;let i=a.isFeatureEnabled(t);return l?!i:i},[e,a])}},eL=ep.ZP.div.withConfig({displayName:"ExtendedSidebarSettingsGroup.styled__Container"})(["width:230px;height:fit-content;display:grid;align-content:start;gap:",";padding-top:",";"],(0,_.W0)(1),(0,_.W0)(2));var eR=n("../node_modules/@heroicons/react/24/solid/esm/LockClosedIcon.js"),eO=n("../node_modules/@heroicons/react/24/solid/esm/ArrowTopRightOnSquareIcon.js");let eA=ep.ZP.span.withConfig({displayName:"ExtendedSidebarSettingsLink.styled__LinkContainer"})(["display:flex;flex-wrap:nowrap;align-items:baseline;"]),eZ=(0,ep.ZP)(eR.Z).withConfig({displayName:"ExtendedSidebarSettingsLink.styled__LockIcon"})(["width:12px;height:12px;margin-right:",";color:",";"],(0,_.W0)(.5),(0,_.Ys)("Navy40")),eq=(0,ep.ZP)(eO.Z).withConfig({displayName:"ExtendedSidebarSettingsLink.styled__ExternalLinkIcon"})(["width:12px;height:12px;margin-left:",";color:",";"],(0,_.W0)(.5),(0,_.Ys)("NavyBase")),eW=(0,ep.ZP)(_.BY).withConfig({displayName:"ExtendedSidebarSettingsLink.styled__Link"})(["text-decoration:unset;color:",";padding:",";&:hover{text-decoration:unset;color:",";}"],(0,_.Ys)("NavyBase"),(0,_.W0)([.25,0,.25]),(0,_.Ys)("CornflowerBase")),ez=e=>{let{settingsLink:a}=e,n=(0,k.Vp)(),{closeExtendedMenu:i}=eC(),{isPostHogLoading:r,postHog:s}=(0,b.U)();return(0,l.useMemo)(()=>{if(!a.metadata.href)return console.warn(`Settings link render attempt without href (${a.id})`),!1;if(a.metadata.suppressFromMenus)return!1;if(!a.metadata.featureFlag)return!0;let{featureFlag:e,negateFeatureFlag:n}=a.metadata;if(r||!s)return!1;let t=s.isFeatureEnabled(e);return n?!t:t},[r,s,a])?(0,t.jsxs)(eA,{children:[a.metadata.shouldShowLock&&(0,t.jsx)(eZ,{}),a.metadata.preload&&n?(0,t.jsx)(eW,{as:P.OL,to:a.metadata.href,"aria-label":a.metadata.name,role:"menuitem",target:a.metadata.hrefTarget||void 0,onClick:()=>i(),children:a.metadata.name},a.id):(0,t.jsx)(eW,{href:a.metadata.href||void 0,"aria-label":a.metadata.name,target:a.metadata.hrefTarget||void 0,role:"menuitem",children:a.metadata.name},a.id),"_blank"===a.metadata.hrefTarget&&(0,t.jsx)(eq,{})]},a.id):null};ez.__docgenInfo={description:"",methods:[],displayName:"ExtendedSidebarSettingsLink",props:{settingsLink:{required:!0,tsType:{name:"ExtendedNavigationItem"},description:""}}};let eH=e=>{let{settingsGroup:a}=e,n=a.items||[],{hasAccessToNavItem:l}=eM();return l(a)&&0!==n.length?(0,t.jsxs)(eL,{children:[(0,t.jsx)(_.H5,{children:a.metadata.name}),n.map(e=>(0,t.jsx)(ez,{settingsLink:e},e.id))]}):null};eH.__docgenInfo={description:"",methods:[],displayName:"ExtendedSidebarSettingsGroup",props:{settingsGroup:{required:!0,tsType:{name:"ExtendedNavigationItem"},description:""}}};var eD=n("../node_modules/@heroicons/react/20/solid/esm/XMarkIcon.js"),eU=n("../node_modules/@heroicons/react/20/solid/esm/LockClosedIcon.js");let eV=ep.ZP.div.withConfig((0,_.NZ)("isOpen","isSidebarCollapsed","navHeight")).withConfig({displayName:"ExtendedSidebar.styled__Container"})(["display:flex;gap:",";width:fit-content;height:calc(100vh - ",");overflow:overlay;position:fixed;top:",";left:",";transition:left 0.5s ease;z-index:73;padding:",";background:linear-gradient(147.38deg,#f9f9fe 0%,#dfe1fa 100%);box-shadow:0 15px 30px 0 #00000040;",""],(0,_.W0)(2),e=>{let{navHeight:a}=e;return`${a}px`},e=>{let{navHeight:a}=e;return`${a}px`},e=>{let{isOpen:a}=e;return a?"255px":"-3000px"},(0,_.W0)(2),e=>{let{isOpen:a,isSidebarCollapsed:n}=e;if(a&&n)return(0,ep.iv)(["left:80px;"])}),eG=(0,ep.ZP)(eD.Z).withConfig({displayName:"ExtendedSidebar.styled__CloseIcon"})(["width:24px;height:24px;path{fill:",";}"],(0,_.Ys)("NavyBase")),eB=(0,ep.ZP)(_.zx).withConfig({displayName:"ExtendedSidebar.styled__CloseButton"})(["position:absolute;top:8px;right:8px;background:transparent;&:hover,&:focus{background:transparent;}"]),eY=ep.ZP.div.withConfig({displayName:"ExtendedSidebar.styled__SharedContainer"})(["padding-left:",";margin-top:20px;"],(0,_.W0)(2)),e$=(0,ep.ZP)(eY).withConfig({displayName:"ExtendedSidebar.styled__AdminSettingsContainer"})([""]),eK=(0,ep.ZP)(eY).withConfig((0,_.NZ)("canSeeAdminMenu")).withConfig({displayName:"ExtendedSidebar.styled__ToolsSettingsContainer"})(["",""],e=>{let{canSeeAdminMenu:a}=e;if(a)return(0,ep.iv)(["border-right:1px solid ",";"],(0,_.Ys)("SkeletonDark"))}),eQ=ep.ZP.div.withConfig({displayName:"ExtendedSidebar.styled__SettingsContainer"})(["height:100%;width:100%;display:flex;flex-wrap:wrap;flex-direction:column;row-gap:",";margin-bottom:25px;padding-top:",";"],(0,_.W0)(2),(0,_.W0)(2)),eJ=(0,ep.ZP)(eU.Z).withConfig({displayName:"ExtendedSidebar.styled__LockIcon"})(["width:20px;height:20px;margin-left:",";"],(0,_.W0)(1)),eX=(0,ep.ZP)(_.H3).withConfig({displayName:"ExtendedSidebar.styled__H3"})(["color:",";"],(0,_.Ys)("Navy40")),e0=()=>{let{isCollapsed:e,isExtendedMenuOpen:a,closeExtendedMenu:n}=eC(),{t:i}=(0,c.$G)("header",{keyPrefix:"extended-sidebar"}),r=(0,eF.Z)();(0,eI.KF)({shouldBeHidden:a});let{merchantId:d}=(0,o.rc)(),{isLoading:m,data:u}=(0,J.Z)(),p=(0,eT.Z)(X.Z.ROLE_MM_EMPLOYEE,(null==u?void 0:u.roles)||[]),{data:h,loading:g}=(0,K.aM)(s.a,{variables:{merchantId:d}}),v=(0,l.useMemo)(()=>eE((null==h?void 0:h.navigation)??[],"admin-settings"),[null==h?void 0:h.navigation]),k=(0,l.useMemo)(()=>eE((null==h?void 0:h.navigation)??[],"settings"),[null==h?void 0:h.navigation]);(0,l.useEffect)(()=>{let e=e=>{"Escape"===e.key&&a&&n()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[a,n]);let y=(0,l.useRef)(null);return((0,o.O3)(y,n,a),g)?null:(0,t.jsxs)(eV,{ref:y,isOpen:a,isSidebarCollapsed:e,navHeight:r,"data-auto-class":"extended-sidebar",children:[(0,t.jsx)(eB,{onClick:()=>n(),children:(0,t.jsx)(eG,{})}),k.length>0&&(0,t.jsxs)(eK,{canSeeAdminMenu:!m&&p,children:[(0,t.jsx)(eX,{"data-auto-class":"extended-sidebar-tools-settings-header",children:i("tools-settings-header","Tools & Settings")}),(0,t.jsx)(eQ,{children:k.map(e=>(0,t.jsx)(eH,{settingsGroup:e},e.metadata.name))})]}),(0,t.jsx)(eP.ZP.Role,{requiredRole:X.Z.ROLE_MM_EMPLOYEE,children:(0,t.jsxs)(e$,{children:[(0,t.jsxs)(eX,{"data-auto-class":"extended-sidebar-admin-header",children:[i("admin-header","Admin"),(0,t.jsx)(eJ,{})]}),(0,t.jsx)(eQ,{children:v.map(e=>(0,t.jsx)(eH,{settingsGroup:e},e.metadata.name))})]})})]})};e0.__docgenInfo={description:"",methods:[],displayName:"ExtendedSidebar"};var e1=n("../node_modules/@heroicons/react/24/solid/esm/ArrowRightOnRectangleIcon.js"),e2=n("../node_modules/@heroicons/react/24/solid/esm/ArrowLeftOnRectangleIcon.js"),e6=n("./src/shared/constants/helpPageDictionary.ts"),e3=n("../node_modules/@heroicons/react/24/solid/esm/Cog6ToothIcon.js");let e5=ep.ZP.li.withConfig({displayName:"ExtendedSidebarButton.styled__Wrapper"})(["display:flex;align-items:center;flex-wrap:wrap;"]),e4=ep.ZP.button.withConfig({displayName:"ExtendedSidebarButton.styled__Item"})(["background:none;border:none;display:inline-flex;align-items:center;color:",";height:40px;padding-left:23px;border-left:2px solid transparent;font-weight:600;text-transform:uppercase;&:hover{color:",";border-left-color:",";svg{fill:",";}}&:focus{outline:none;}"],(0,_.Ys)("NavyBase"),(0,_.Ys)("Link"),(0,_.Ys)("Link"),(0,_.Ys)("Link")),e7=(0,ep.ZP)(e3.Z).withConfig({displayName:"ExtendedSidebarButton.styled__Icon"})(["vertical-align:middle;width:20px;height:20px;fill:",";"],(0,_.Ys)("NavyBase")),e8=ep.ZP.span.withConfig({displayName:"ExtendedSidebarButton.styled__Text"})(["margin-left:10px;"]),e9=()=>{let{t:e}=(0,c.$G)("header",{keyPrefix:"extended-sidebar"}),{isCollapsed:a,toggleExtendedMenu:n}=eC();return(0,t.jsx)(e5,{onClick:n,children:(0,t.jsxs)(e4,{children:[(0,t.jsx)(e7,{}),!a&&(0,t.jsx)(e8,{children:e("sidebar-trigger","Settings")})]})})};e9.__docgenInfo={description:"",methods:[],displayName:"ExtendedSidebarButton"};var ae=n("../node_modules/@heroicons/react/24/solid/esm/WrenchScrewdriverIcon.js"),aa=n("../node_modules/@heroicons/react/24/solid/esm/PencilSquareIcon.js"),an=n("../node_modules/@heroicons/react/24/solid/esm/UserGroupIcon.js"),at=n("../node_modules/@heroicons/react/24/solid/esm/Squares2X2Icon.js"),al=n("../node_modules/@heroicons/react/24/solid/esm/QuestionMarkCircleIcon.js"),ai=n("../node_modules/@heroicons/react/24/solid/esm/PresentationChartLineIcon.js"),ar=n("../node_modules/@heroicons/react/24/solid/esm/ChevronDownIcon.js"),as=n("../node_modules/@heroicons/react/24/solid/esm/ChevronRightIcon.js"),ao=n("./src/shared/components/NavigationLink/index.ts"),ad=n("./src/shared/components/NavigationTabs/NavigationTabs.styled.tsx");let am={listItem:"listItem-myHifc",icon:"icon-PoCzcN",name:"name-K6a2xb",caret:"caret-qrU8ro",caretCollapsed:"caretCollapsed-gMUs48",submenu:"submenu-tLUt6r",item:"item-VnEkvn",nonLinkableItem:"nonLinkableItem-Or8A6e","level-0":"level-0-aLmxL2",level0:"level-0-aLmxL2",active:"active-LOvFzS","level-1":"level-1-jnOayz",level1:"level-1-jnOayz","level-2":"level-2-NMDdtS",level2:"level-2-NMDdtS",betaLabel:"betaLabel-LIaC4V",skeleton:"skeleton-NJvupv",lockIcon:"lockIcon-sdxJpj"},au={"admin-settings":ae.Z,campaigns:e=>(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",viewBox:"0 0 20 20",...e,children:[(0,t.jsx)("path",{fill:"currentColour",fillRule:"evenodd",d:"M1.835 1.24H9.31c.666 0 1.206.54 1.206 1.206v12.369c0 .666-.54 1.206-1.206 1.206H1.835c-.666 0-1.206-.54-1.206-1.206V9.268h5.536l-1.286 1.286a.603.603 0 0 0 0 .852l.037.037a.603.603 0 0 0 .852 0l2.376-2.375c.12-.12.179-.28.176-.437a.601.601 0 0 0-.176-.437L5.769 5.818a.603.603 0 0 0-.853 0l-.037.037a.603.603 0 0 0 0 .852L6.182 8.01H.63V2.446c0-.666.54-1.206 1.206-1.206Z",clipRule:"evenodd"}),(0,t.jsx)("path",{fill:"currentColour",fillRule:"evenodd",d:"M10.017 4.184a1.205 1.205 0 0 0-.534 1.001V15.5a.706.706 0 0 0 .534-.685V4.185Zm1-.205v10.836c0 .884-.672 1.61-1.534 1.697v1.042c0 .666.54 1.206 1.206 1.206h7.477c.665 0 1.205-.54 1.205-1.206V5.185c0-.666-.54-1.206-1.205-1.206h-7.15Zm4.104 5.467-1.286 1.286h5.536v1.258h-5.553l1.303 1.303a.603.603 0 0 1 0 .852l-.037.037a.603.603 0 0 1-.853 0l-2.375-2.376a.601.601 0 0 1-.176-.437.601.601 0 0 1 .176-.436l2.375-2.376a.603.603 0 0 1 .853 0l.037.037a.603.603 0 0 1 0 .852Z",clipRule:"evenodd"})]}),"connections-hub":e=>(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:16,fill:"none",viewBox:"0 0 20 16",...e,children:[(0,t.jsx)("rect",{width:1.53,height:17.987,x:18.721,y:7.34,fill:"currentColour",rx:.765,transform:"rotate(90 18.721 7.34)"}),(0,t.jsx)("rect",{width:1.53,height:17.987,x:17.134,y:1.038,fill:"currentColour",rx:.765,transform:"rotate(60 17.134 1.038)"}),(0,t.jsx)("rect",{width:1.53,height:17.987,x:1.556,y:6.178,fill:"currentColour",rx:.765,transform:"rotate(-60 1.556 6.178)"}),(0,t.jsx)("circle",{cx:6.405,cy:8.105,r:6.405,fill:"currentColour"}),(0,t.jsx)("circle",{cx:6.405,cy:8.105,r:4.979,fill:"#fff"}),(0,t.jsx)("circle",{cx:6.404,cy:8.105,r:3.26,fill:"currentColour"}),(0,t.jsx)("circle",{cx:16.31,cy:2.099,r:2.096,fill:"currentColour"}),(0,t.jsx)("circle",{cx:17.904,cy:8.094,r:2.096,fill:"currentColour"}),(0,t.jsx)("circle",{cx:17.904,cy:8.094,r:.776,fill:"#fff"}),(0,t.jsx)("circle",{cx:16.31,cy:2.099,r:.776,fill:"#fff"}),(0,t.jsx)("circle",{cx:16.31,cy:13.901,r:2.096,fill:"currentColour"}),(0,t.jsx)("circle",{cx:16.31,cy:13.902,r:.776,fill:"#fff"})]}),"content-nav":aa.Z,customers:an.Z,dashboard:at.Z,"help-centre":al.Z,overview:at.Z,performance:ai.Z,reporting:ai.Z,settings:e3.Z},ac=e=>e?au[e]??null:null,ap=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return e.flatMap(e=>{let{items:t,metadata:l}=e,{featureFlag:i,negateFeatureFlag:r}=l;if(!a&&i){let e=null==n?void 0:n(i);if(!r&&!e||r&&e)return[]}let s=Array.isArray(l.activePaths)?[...l.activePaths]:[];return t&&0!==t.length&&s.push(...ap(t,a,n)),s})},ah=e=>{let{id:a,name:n,href:i,activePaths:s=[],isBeta:d,canPreload:m,isReportingRoute:p,items:g,shouldShowLock:v=!1,shouldDisplayAsNew:y=!1,linkProps:N={},level:f,isAlwaysExpanded:x=!1}=e,{t:w}=(0,c.$G)("header"),S=(0,r.TH)(),{isPostHogLoading:F,postHog:I}=(0,b.U)(),T=f||0,{expandNavigation:E,isCollapsed:P,closeExtendedMenu:C}=eC(),M=(0,k.s6)(e=>e.closeMobileNav),L=(0,l.useMemo)(()=>{let e=[...s??[],...ap(g||[],F,e=>null==I?void 0:I.isFeatureEnabled(e))];return!!(0,r.LX)(S.pathname,{path:e,exact:!0})},[s,I,g,F,S.pathname]),[R,O]=(0,o.OT)(x||L),A=()=>{P?(E(),O.openToggle()):O.switchToggle()},Z=ac(a),q=(null==g?void 0:g.filter(e=>!!e.metadata.includeInNavigation&&(!e.metadata.featureFlag||(null==I?void 0:I.isFeatureEnabled(e.metadata.featureFlag))!==e.metadata.negateFeatureFlag)))||[],W=0!==q.length,z=W&&!P,H=W||i,D=W&&(!x||P);return H?(0,t.jsxs)("li",{role:"none",className:am.listItem,"data-auto-class":"side-nav-item-list-item",children:[(0,t.jsxs)("div",{className:u()(am.item,am[`level-${T}`],{[am.active]:L}),children:[i?(0,t.jsx)(ao.Z,{href:i,canPreload:m||!1,isReportingRoute:p,role:"menuitem","aria-label":n,onClick:()=>{M(),C()},...N,children:(0,t.jsxs)(_.M2,{shouldWrap:P,wrapper:e=>(0,t.jsx)(_.u,{tooltip:n,children:e}),children:[Z&&(0,t.jsx)(Z,{className:am.icon,"aria-hidden":"true"}),!P&&(0,t.jsx)("span",{className:am.name,children:n}),!P&&v&&(0,t.jsx)(j.Z,{className:am.lockIcon}),!P&&y&&(0,t.jsxs)(ad.a,{variant:"flair",backgroundColour:"RoyalBlue60Dark",children:[(0,t.jsx)(ad.$,{}),w("new","New")]})]})}):(0,t.jsxs)(D?"button":"span",{className:am.nonLinkableItem,onClick:D?A:void 0,children:[Z&&(0,t.jsx)(Z,{className:am.icon,"aria-hidden":"true"}),!P&&(0,t.jsx)("span",{className:am.name,children:n}),!P&&v&&(0,t.jsx)(j.Z,{className:am.lockIcon})]}),D&&(0,t.jsx)("button",{type:"button",className:u()(am.caret,{[am.caretCollapsed]:P}),"aria-haspopup":"true","aria-expanded":R,onClick:A,"aria-label":n,children:R&&!P?(0,t.jsx)(ar.Z,{}):(0,t.jsx)(as.Z,{})})]}),d&&!P&&(0,t.jsx)(h.__,{className:am.betaLabel,children:w("beta","Beta")}),z&&R&&(0,t.jsx)("ul",{role:"menu","aria-label":n,className:u()(am.submenu),children:q.map(e=>(0,t.jsx)(_.M2,{shouldWrap:!!e.metadata.featureFlag,wrapper:a=>(0,t.jsxs)(h.TE,{feature:e.metadata.featureFlag,shouldTrack:!1,children:[!e.metadata.negateFeatureFlag&&(0,t.jsx)(h.TE.On,{children:a}),e.metadata.negateFeatureFlag&&(0,t.jsx)(h.TE.Off,{children:a})]}),children:(0,t.jsx)(ah,{id:e.id,items:e.items,level:T+1,...e.metadata,isBeta:!!e.metadata.beta,canPreload:!!e.metadata.preload,isReportingRoute:!!e.metadata.reportingRoute,isAlwaysExpanded:!!e.metadata.alwaysExpanded})},e.id))})]}):null};ah.Skeleton=()=>{let{isCollapsed:e}=eC();return(0,t.jsxs)("div",{className:am.skeleton,children:[(0,t.jsx)(_.Od,{width:16,height:16,className:am.icon}),!e&&(0,t.jsx)(_.Od,{height:14})]})};ah.__docgenInfo={description:"",methods:[{name:"Skeleton",docblock:null,modifiers:["static"],params:[],returns:null}],displayName:"SideNavigationItem",props:{id:{required:!1,tsType:{name:"string"},description:""},name:{required:!0,tsType:{name:"string"},description:""},href:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:""},activePaths:{required:!1,tsType:{name:"union",raw:"string | string[] | null",elements:[{name:"string"},{name:"Array",elements:[{name:"string"}],raw:"string[]"},{name:"null"}]},description:"",defaultValue:{value:"[]",computed:!1}},isBeta:{required:!1,tsType:{name:"union",raw:"boolean | null",elements:[{name:"boolean"},{name:"null"}]},description:""},canPreload:{required:!1,tsType:{name:"union",raw:"boolean | null",elements:[{name:"boolean"},{name:"null"}]},description:""},isReportingRoute:{required:!1,tsType:{name:"union",raw:"boolean | null",elements:[{name:"boolean"},{name:"null"}]},description:""},items:{required:!1,tsType:{name:"union",raw:"ExtendedNavigationItem[] | null",elements:[{name:"Array",elements:[{name:"ExtendedNavigationItem"}],raw:"ExtendedNavigationItem[]"},{name:"null"}]},description:""},level:{required:!1,tsType:{name:"union",raw:"number | null",elements:[{name:"number"},{name:"null"}]},description:""},shouldShowLock:{required:!1,tsType:{name:"union",raw:"boolean | null",elements:[{name:"boolean"},{name:"null"}]},description:"",defaultValue:{value:"false",computed:!1}},shouldDisplayAsNew:{required:!1,tsType:{name:"union",raw:"boolean | null",elements:[{name:"boolean"},{name:"null"}]},description:"",defaultValue:{value:"false",computed:!1}},linkProps:{required:!1,tsType:{name:"Partial",elements:[{name:"Pick",elements:[{name:"HTMLAnchorElement"},{name:"union",raw:'"target" | "rel"',elements:[{name:"literal",value:'"target"'},{name:"literal",value:'"rel"'}]}],raw:'Pick<HTMLAnchorElement, "target" | "rel">'}],raw:'Partial<Pick<HTMLAnchorElement, "target" | "rel">>'},description:"",defaultValue:{value:"{}",computed:!1}},isAlwaysExpanded:{required:!1,tsType:{name:"union",raw:"boolean | null",elements:[{name:"boolean"},{name:"null"}]},description:"",defaultValue:{value:"false",computed:!1}}}};var ag=n("../node_modules/@heroicons/react/24/solid/esm/UserCircleIcon.js"),av=n("../node_modules/md5/md5.js"),ak=n.n(av);let ay="image-jeLKNO",aN=e=>{let{className:a}=e,[n,i]=(0,l.useState)(!1),{isLoading:r,data:s}=(0,J.Z)();if(r||!s||n)return(0,t.jsx)(ag.Z,{className:a});let o=`https://www.gravatar.com/avatar/${ak()(s.email)}?d=404`;return(0,t.jsx)("img",{className:u()(a,ay),alt:s.email,src:o,onError:()=>i(!0)})};aN.__docgenInfo={description:"",methods:[],displayName:"SideNavigationProfileIcon",props:{className:{required:!1,tsType:{name:"string"},description:""}}};let af=e=>{let{name:a,href:n,canPreload:l,onClick:i}=e,r=(0,k.Vp)();return n?l&&r?(0,t.jsx)(_.Lt.Link,{as:P.OL,"aria-label":a,to:n,onClick:i,children:a}):(0,t.jsx)(_.Lt.Link,{href:n,"aria-label":a,onClick:i,children:a}):null};af.__docgenInfo={description:"",methods:[],displayName:"SideNavigationProfileLink",props:{name:{required:!0,tsType:{name:"string"},description:""},href:{required:!1,tsType:{name:"union",raw:"T | null",elements:[{name:"string"},{name:"null"}]},description:""},canPreload:{required:!1,tsType:{name:"union",raw:"T | null",elements:[{name:"boolean"},{name:"null"}]},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};let ab="dropdownWrap-AnS4Qf",ax="button-CRZbJB",aw="icon-cQzeVe",aS="buttonCollapsed-c_Vk2r",a_=e=>{var a;let{items:n}=e,{t:l}=(0,c.$G)("header"),{postHog:i}=(0,b.U)(),{isCollapsed:r}=eC(),s=(0,k.s6)(e=>e.closeMobileNav),{data:d}=(0,o.ZR)(),{data:m}=(0,J.Z)(),p=null==d?void 0:null===(a=d.config)||void 0===a?void 0:a.logoutUrl;return(0,t.jsx)("span",{className:ab,children:(0,t.jsxs)(_.Lt,{className:u()(ax,{[aS]:r}),"data-auto-class":"user-profile-button",label:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(aN,{className:aw}),r?null:(null==m?void 0:m.firstname)||(0,t.jsx)(_.Od,{width:70})]}),variant:"outline",isIconOnly:!0,children:[n.map(e=>{let{id:a,metadata:n}=e;return(0,t.jsx)(af,{name:n.name,href:n.href,canPreload:n.preload,onClick:()=>{s()}},a)}),(null==m?void 0:m.isImpersonating)&&(0,t.jsx)(_.Lt.Link,{href:(0,y.nu)("merchant_home_default",{_switch_user:"_exit"}),children:l("back-to-admin","Back to admin")}),(0,t.jsx)(_.Lt.Divider,{}),!!p&&(0,t.jsx)(_.Lt.Link,{href:p,onClick:()=>{(null==i?void 0:i._addCaptureHook)&&i._addCaptureHook(()=>{i.reset(),i.__loaded=!1}),s()},children:l("logout-text","Log out")})]})})};a_.__docgenInfo={description:"",methods:[],displayName:"SideNavigationProfile",props:{items:{required:!0,tsType:{name:"Array",elements:[{name:"ExtendedNavigationItem"}],raw:"ExtendedNavigationItem[]"},description:""}}};let aF=(0,ep.ZP)("footer").withConfig((0,_.NZ)("isCollapsed")).withConfig({displayName:"SideNavigationFooter.styled__Footer"})(["display:flex;align-items:center;justify-content:space-between;width:100%;padding:20px 24px;border-top:1px solid ",";",""],(0,_.Ys)("SkeletonDark"),e=>{let{isCollapsed:a}=e;if(a)return(0,ep.iv)(["display:block;text-align:center;"])}),aI=ep.ZP.svg.withConfig({displayName:"SideNavigationFooter.styled__Icon"})(["fill:",";width:24px;display:block;"],(0,_.Ys)("NavyBase")),aT=ep.ZP.button.withConfig({displayName:"SideNavigationFooter.styled__CollapseToggleButton"})(["padding:0;background-color:transparent;border:none;&:hover ","{fill:",";}"],aI,(0,_.Ys)("Link")),aE=()=>{let{merchantId:e}=(0,e_.Z)(),{t:a}=(0,c.$G)("shared"),{isCollapsed:n,toggleNavCollapse:i,navItems:s}=eC(),o=(0,r.TH)(),d=!!(0,r.LX)(o.pathname,{path:"/employee/settings",exact:!0}),m=(0,k.s6)(e=>e.isDesktop),u=(0,l.useMemo)(()=>eE(s??[],"profile"),[s]),p=(0,t.jsxs)(t.Fragment,{children:[!!e&&(0,t.jsx)(ah,{id:"settings",name:a("menubar.settings","Settings"),canPreload:!0,href:(0,y.nu)("fe_merchant_settings",{merchantId:e}),activePaths:["/merchant/:merchantId/settings"]}),(0,t.jsx)(eP.ZP.Role,{requiredRole:X.Z.ROLE_MM_EMPLOYEE,children:(0,t.jsx)(ah,{id:"admin-settings",name:a("menubar.admin-settings","Admin"),canPreload:!0,href:(0,y.nu)("fe_admin_settings"),activePaths:["/employee/settings"]})})]});return(0,t.jsxs)("div",{children:[(0,t.jsx)(ah,{id:"help-centre",name:a("menubar.help","Help centre"),href:e6.W.ROOT_URL,linkProps:{target:"_blank",rel:"noreferrer"}}),(0,t.jsxs)(h.TE,{feature:"sidebar-menu-settings-extension",children:[(0,t.jsx)(h.TE.Off,{children:p}),(0,t.jsxs)(h.TE.On,{children:[m&&!d&&(0,t.jsx)(e9,{}),!m&&p]})]}),(0,t.jsxs)(aF,{isCollapsed:n,children:[(0,t.jsx)(a_,{items:u}),m&&(0,t.jsx)(aT,{type:"button",onClick:i,"aria-label":n?a("menubar.expand-navigation","Expand navigation"):a("menubar.collapse-navigation","Collapse navigation"),children:(0,t.jsx)(aI,{as:n?e1.Z:e2.Z})})]})]})};aE.__docgenInfo={description:"",methods:[],displayName:"SideNavigationFooter"};let aP=ep.ZP.ul.withConfig({displayName:"SideNavigationItems.styled__NavList"})(["margin-left:0;padding-left:0;overflow-y:auto;list-style:none;"]),aj=()=>{let{isLoading:e,navItems:a}=eC(),n=(0,l.useMemo)(()=>eE(a??[]),[a]);return(0,t.jsx)(aP,{role:"menubar",children:e?(0,t.jsx)(aj.Skeleton,{}):n.filter(e=>e.metadata.includeInNavigation).map(e=>{let{id:a,metadata:n,items:l}=e,{featureFlag:i,negateFeatureFlag:r}=n;return(0,t.jsx)(_.M2,{shouldWrap:!!i,wrapper:e=>(0,t.jsxs)(h.TE,{feature:i,shouldTrack:!1,children:[!r&&(0,t.jsx)(h.TE.On,{children:e}),r&&(0,t.jsx)(h.TE.Off,{children:e})]}),children:(0,t.jsx)(ah,{id:a,items:l,...n,isBeta:!!n.beta,canPreload:!!n.preload,isReportingRoute:!!n.reportingRoute,isAlwaysExpanded:!!n.alwaysExpanded,shouldDisplayAsNew:!!n.displayAsNew})},a)})})},aC=Array(6).fill({}).map(()=>({id:String(Math.random())}));aj.Skeleton=()=>(0,t.jsx)(t.Fragment,{children:aC.map(e=>(0,t.jsx)(ah.Skeleton,{},e.id))});aj.__docgenInfo={description:"",methods:[{name:"Skeleton",docblock:null,modifiers:["static"],params:[],returns:null}],displayName:"SideNavigationItems"};var aM=n("./src/shared/templates/SideNavigation/hooks/index.ts");let aL=()=>{let[e,{toggle:a,close:n}]=(0,_.OT)(!1);return{isExtendedMenuOpen:e,toggleExtendedMenu:a,closeExtendedMenu:n}},aR=()=>{let e=.01*window.innerHeight;document.documentElement.style.setProperty("--sidebar-height",`${e}px`)},aO=()=>{(0,l.useEffect)(()=>(window.addEventListener("resize",aR),aR(),()=>window.removeEventListener("resize",aR)))},aA=(0,ep.ZP)("nav").withConfig((0,_.NZ)("navHeight","isCollapsed","isDesktop")).withConfig({displayName:"SideNavigation.styled__Container"})(["position:sticky;top:",";z-index:74;display:flex;flex:0 0 255px;flex-direction:column;justify-content:space-between;width:255px;height:calc(100vh - ",");padding-top:10px;background-color:",";box-shadow:1px 0 0 ",";@media (hover:none) and (pointer:coarse){height:calc((var(--sidebar-height,1vh) * 100) - ",");}"," ",""],e=>{let{navHeight:a}=e;return`${a}px`},e=>{let{navHeight:a}=e;return`${a}px`},(0,_.Ys)("White"),(0,_.Ys)("GreyLight"),e=>{let{navHeight:a}=e;return`${a}px`},e=>{let{isDesktop:a}=e;if(!a)return(0,ep.iv)(["position:fixed;left:0;box-shadow:0 2px 13px 0 rgb(0 0 0 / 30%);"])},e=>{let{isCollapsed:a}=e;if(a)return(0,ep.iv)(["width:80px;flex:0 0 80px;"])}),aZ=()=>{let e=(0,l.useRef)(null);aO();let[a,n,i]=(0,k.s6)(e=>[e.toggleMobileNav,e.isMobileNavOpen,e.isDesktop]),r=(0,eF.Z)(),{merchantId:d,campaignId:m,experimentId:u,offerId:c,integrationId:p}=(0,e_.Z)(),{loading:g}=(0,Q.Z)(),{isCollapsed:v,expandNavigation:y,toggleNavigation:N}=(0,aM.Z)(),{isExtendedMenuOpen:f,toggleExtendedMenu:b,closeExtendedMenu:x}=aL(),{data:w,loading:S}=(0,K.aM)(s.a,{variables:{merchantId:d,campaignId:m,experimentId:u,offerId:c,integrationId:p}});(0,o.O3)(e,()=>a(),n&&!i);let _=i&&v,F=S||g,I=(0,l.useMemo)(()=>({isLoading:F,isCollapsed:_,navItems:null==w?void 0:w.navigation,expandNavigation:y,toggleNavCollapse:N,toggleExtendedMenu:b,isExtendedMenuOpen:f,closeExtendedMenu:x}),[F,_,null==w?void 0:w.navigation,y,N,b,f,x]);return(0,t.jsxs)(ej.Provider,{value:I,children:[(0,t.jsx)(h.zd,{isVisible:n&&!i,zIndex:73}),(i||n)&&(0,t.jsxs)(aA,{ref:e,"aria-label":"Mention Me",isDesktop:i,isCollapsed:_,navHeight:r,"aria-live":F?"polite":"off","aria-busy":F,children:[(0,t.jsx)(aj,{}),!F&&(0,t.jsx)(aE,{})]}),i&&(0,t.jsx)(e0,{})]})};aZ.__docgenInfo={description:"",methods:[],displayName:"SideNavigation"};let aq=e=>{let{isCollapsed:a}=e,[,n]=(0,d.Z)("collapsed-navigation",a);return(0,l.useEffect)(()=>n(a),[n,a]),(0,o.iT)(),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eb,{}),(0,t.jsx)(aZ,{})]})},aW={args:{isCollapsed:!1}},az={args:{isCollapsed:!0}},aH={args:{isCollapsed:!1,pathname:"/merchant/reports/reporting/dashboard"}},aD={title:"Shared / SideNavigation",component:aZ,parameters:{layout:"fullscreen",chromatic:{viewports:[1201]}},render:e=>{let{isCollapsed:a,pathname:n}=e;return(0,t.jsx)(r.gx,{location:{pathname:n},children:(0,t.jsx)(i.g,{mocks:[{request:{query:ex.J},variableMatcher:()=>!0,result:{data:ew}},{request:{query:s.a},variableMatcher:()=>!0,result:{data:eS}}],children:(0,t.jsx)(aq,{isCollapsed:a})})})}};aW.parameters={...aW.parameters,docs:{...aW.parameters?.docs,source:{originalSource:"{\n  args: {\n    isCollapsed: false\n  }\n} satisfies Story",...aW.parameters?.docs?.source}}},az.parameters={...az.parameters,docs:{...az.parameters?.docs,source:{originalSource:"{\n  args: {\n    isCollapsed: true\n  }\n} satisfies Story",...az.parameters?.docs?.source}}},aH.parameters={...aH.parameters,docs:{...aH.parameters?.docs,source:{originalSource:'{\n  args: {\n    isCollapsed: false,\n    pathname: "/merchant/reports/reporting/dashboard"\n  }\n} satisfies Story',...aH.parameters?.docs?.source}}}},"./src/shared/components/StatusLabel/StatusLabel.tsx":function(e,a,n){n.d(a,{i:()=>l,Z:()=>u});var t,l,i=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/@mention-me/flamingo-ui/build/index.es.js"),s=n("../node_modules/react-i18next/dist/es/index.js"),o=n("./src/shared/constants/filterStatuses.ts");let d=e=>{switch(e.toUpperCase()){case o.Z.LIVE:case o.Z.CURRENTLY_LIVE:case o.Z.RUNNING:return{variant:"status",status:"positive"};case o.Z.QUEUEING:case o.Z.READY:case o.Z.DRAFT:return{variant:"status",status:"neutral"};default:return{variant:"flair",backgroundColour:"Navy20",fontColour:"NavyBase"}}};(t=l||(l={})).CAMPAIGN="campaign",t.EXPERIMENT="experiment";let m=e=>{let{status:a,type:n,className:t,...l}=e,{t:o}=(0,s.$G)(["campaign","experiment"]);return(0,i.jsx)(r.__,{className:t,...d(a),...l,children:o(`${n}:status.${a}`)})};m.Skeleton=()=>(0,i.jsx)(r.Od,{width:37,height:14});let u=m;m.__docgenInfo={description:"",methods:[{name:"Skeleton",docblock:null,modifiers:["static"],params:[],returns:null}],displayName:"StatusLabel",props:{status:{required:!0,tsType:{name:"FilterStatuses"},description:""},type:{required:!0,tsType:{name:"StatusType"},description:""}}}},"./src/shared/components/StatusLabel/index.ts":function(e,a,n){n.d(a,{Z:function(){return l},i:function(){return t.i}});var t=n("./src/shared/components/StatusLabel/StatusLabel.tsx");let l=t.Z},"./src/shared/constants/helpPageDictionary.ts":function(e,a,n){n.d(a,{W:function(){return t}});let t={CONVERSION_MESSAGE_BANNER:"https://help.mention-me.com/hc/en-gb/articles/360009453398-How-does-the-conversion-message-banner-work-",FACEBOOK_SETUP:"https://help.mention-me.com/hc/en-gb/articles/5428483937693-How-to-use-Smart-Audiences-to-create-lookalike-audiences-in-Facebook",KLAVIYO_SETUP:"https://help.mention-me.com/hc/en-gb/articles/4417690991121-How-to-setup-Klaviyo-with-Mention-Me",EMARSYS_SETUP:"https://help.mention-me.com/hc/en-gb/articles/4402106624657-How-to-setup-Emarsys-with-Mention-Me",OMETRIA_SETUP:"https://help.mention-me.com/hc/en-gb/articles/360013324157-How-do-I-integrate-with-Ometria",HOW_EG_CAN_TRANSFORM_YOUR_BUSINESS:"https://help.mention-me.com/hc/en-gb/articles/13235693594525#how-earned-growth-can-transform-your-business",INCREMENTAL_VALUE_HOW_P2R_WORKS:"https://help.mention-me.com/hc/en-gb/articles/16545882322589-What-is-Propensity-to-Refer",INCREMENTAL_VALUE_UNCONCLUDED_EXPLAINER:"https://help.mention-me.com/hc/en-gb/articles/16593817799453-Why-we-exclude-unconcluded-experiments-from-Smart-Experiment-value-calculation",MENTION_ME_AND_AI:"https://help.mention-me.com/hc/en-gb/articles/14782162725021",MENTION_ME_SALESFORCE_LINK:"https://help.mention-me.com/hc/en-gb/articles/9249252392989-How-to-link-the-Mention-Me-Data-Extension-in-Salesforce-Marketing-Cloud",NATIVE_SHARE:"https://help.mention-me.com/hc/en-gb/articles/12188676882077-Native-share",NEW_REQUEST:"https://help.mention-me.com/hc/en-gb/requests/new",NEW_REQUEST_CAMPAIGN_SETUP:"https://help.mention-me.com/hc/en-gb/requests/new?ticket_form_id=10113905738525",NEW_REQUEST_MISC:"https://help.mention-me.com/hc/en-gb/requests/new?ticket_form_id=1900000712373",NEW_REQUEST_OFFER_SETUP:"https://help.mention-me.com/hc/en-gb/requests/new?ticket_form_id=5268134356509",NEW_REQUEST_UPLOAD_DATA:"https://help.mention-me.com/hc/en-gb/requests/new?ticket_form_id=9856022907037",NPS_INTRO:"https://help.mention-me.com/hc/en-gb/articles/10846806944925-An-introduction-to-NPS",OPTIMISE_REFERRAL_PERFORMANCE:"https://help.mention-me.com/hc/en-gb/articles/11677056700189-How-to-optimise-your-referral-program-s-performance",PROMOTING_REFERRAL_ON_HOMEPAGE:"https://help.mention-me.com/hc/en-gb/articles/360008907198",REFERRAL_METRICS_DEFINITION:"https://help.mention-me.com/hc/en-gb/articles/360008669357-Referral-metrics-and-definition",ROOT_URL:"https://help.mention-me.com",SETUP_AB_TEST:"https://help.mention-me.com/hc/en-gb/articles/360008482617--VIDEO-How-to-set-up-an-A-B-test",SETUP_BLOOMREACH:"https://help.mention-me.com/hc/en-gb/articles/10406398252189-How-to-setup-Bloomreach-with-Mention-Me",SETUP_DOTDIGITAL:"https://www.figma.com/design/OeHu0P8urHYyz7pqsAg8Ai/Dotdigital-self-serve-integration?node-id=2651-8101&t=OUyXg8ToOAkTo5U6-4",SETUP_COS:"https://help.mention-me.com/hc/en-gb/articles/17956834873629-How-we-estimate-time-until-Earned-Growth-is-calculated-when-setting-up-a-Customer-Origin-survey",SETUP_NPS:"https://help.mention-me.com/hc/en-gb/articles/17961102186013-How-we-estimate-time-until-AI-insights-can-be-shown-when-setting-up-an-NPS-survey",SETUP_PROMOTION:"https://help.mention-me.com/hc/en-gb/articles/360008903778-Time-limited-promotions-and-competitions",SETUP_FEEFO_REVIEWS:"https://help.mention-me.com/hc/en-gb/articles/12522801635101-How-to-setup-the-Feefo-Integration-to-ingest-reviews",SETUP_FEEFO_BANNER:"https://help.mention-me.com/hc/en-gb/articles/360016745498-How-to-set-up-a-Feefo-banner-with-Mention-Me",SETUP_MPARTICLE:"https://help.mention-me.com/hc/en-gb/articles/20291370238365-How-to-setup-mParticle-with-Mention-Me",SETUP_SALESFORCE:"https://help.mention-me.com/hc/en-gb/articles/9249054983837-How-to-setup-the-Salesforce-Marketing-Cloud-integration",SETUP_SENTIMENT_ANALYSIS:"https://help.mention-me.com/hc/en-gb/requests/new?ticket_form_id=14561653328797",SHOPIFY_CHANGE_CUSTOMER_JOURNEY:"https://help.mention-me.com/hc/en-gb/articles/21082127484317-Shopify-App-Making-changes-to-the-customer-journey",SUBSCRIPTION_DATA_FOR_ADVOCACY:"https://help.mention-me.com/hc/en-gb/articles/13828936560925-Subscription-Data-for-Advocacy-Features",THEME_UPGRADE_REQUEST:"https://docs.google.com/forms/d/1-HsA_2iiYLXjlYchvnfSgveC_9Y1bP1Fed6JN5Cq6Tg/viewform?edit_requested=true",UNDERSTANDING_EG_REVENUE_PROJECTION:"https://help.mention-me.com/hc/en-gb/articles/13235693594525#understanding-more-about-the-earned-growth-revenue-projection",UNDERSTANDING_EG_SCORE_CALCULATION:"https://help.mention-me.com/hc/en-gb/articles/13235693594525#how-earned-growth-is-calculated",UPDATE_DESIGNS_OR_IMAGES:"https://help.mention-me.com/hc/en-gb/requests/new?ticket_form_id=5266040952605",VOUCHER_VALIDITY_PERIOD_TOO_SHORT:"https://help.mention-me.com/hc/en-gb/articles/4827125388317-Why-is-Mention-Me-requesting-new-voucher-codes-#h_01H5ST2J0FY4405VYERJT62ER0"}}}]);