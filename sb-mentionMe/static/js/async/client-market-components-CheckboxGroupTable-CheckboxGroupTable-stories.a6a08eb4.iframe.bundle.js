"use strict";(globalThis.webpackChunk_mention_me_frontend=globalThis.webpackChunk_mention_me_frontend||[]).push([["1503"],{"./src/client/market/components/CheckboxGroupTable/CheckboxGroupTable.stories.tsx":function(e,t,n){n.r(t),n.d(t,{NoResults:()=>v,default:()=>T,Default:()=>C});var a=n("../node_modules/react/jsx-runtime.js"),r=n("../node_modules/react/index.js"),i=n("../node_modules/@heroicons/react/20/solid/esm/ArrowUpCircleIcon.js");let s=r.forwardRef(function({title:e,titleId:t,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",d:"M11.622 1.602a.75.75 0 0 1 .756 0l2.25 1.313a.75.75 0 0 1-.756 1.295L12 3.118 10.128 4.21a.75.75 0 1 1-.756-1.295l2.25-1.313ZM5.898 5.81a.75.75 0 0 1-.27 1.025l-1.14.665 1.14.665a.75.75 0 1 1-.756 1.295L3.75 8.806v.944a.75.75 0 0 1-1.5 0V7.5a.75.75 0 0 1 .372-.648l2.25-1.312a.75.75 0 0 1 1.026.27Zm12.204 0a.75.75 0 0 1 1.026-.27l2.25 1.312a.75.75 0 0 1 .372.648v2.25a.75.75 0 0 1-1.5 0v-.944l-1.122.654a.75.75 0 1 1-.756-1.295l1.14-.665-1.14-.665a.75.75 0 0 1-.27-1.025Zm-9 5.25a.75.75 0 0 1 1.026-.27L12 11.882l1.872-1.092a.75.75 0 1 1 .756 1.295l-1.878 1.096V15a.75.75 0 0 1-1.5 0v-1.82l-1.878-1.095a.75.75 0 0 1-.27-1.025ZM3 13.5a.75.75 0 0 1 .75.75v1.82l1.878 1.095a.75.75 0 1 1-.756 1.295l-2.25-1.312a.75.75 0 0 1-.372-.648v-2.25A.75.75 0 0 1 3 13.5Zm18 0a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-.372.648l-2.25 1.312a.75.75 0 1 1-.756-1.295l1.878-1.096V14.25a.75.75 0 0 1 .75-.75Zm-9 5.25a.75.75 0 0 1 .75.75v.944l1.122-.654a.75.75 0 1 1 .756 1.295l-2.25 1.313a.75.75 0 0 1-.756 0l-2.25-1.313a.75.75 0 1 1 .756-1.295l1.122.654V19.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))});var o=n("../node_modules/@heroicons/react/24/solid/esm/TrashIcon.js"),l=n("../node_modules/@mention-me/flamingo-ui/build/index.es.js"),d=n("./src/shared/components/DashboardLayout/DashboardLayout.styled.tsx"),c=n("../node_modules/react-hook-form/dist/index.esm.mjs"),m=n("../node_modules/react-i18next/dist/es/index.js"),u=n("../node_modules/styled-components/dist/styled-components.browser.esm.js");let h=(0,u.ZP)(l.Zb).withConfig({displayName:"CheckboxGroupTable.styled__Wrapper"})(["padding:0;width:100%;height:auto;overflow:hidden;"]),p=u.ZP.header.withConfig({displayName:"CheckboxGroupTable.styled__Header"})(["display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:",";padding:",";border-radius:",";border-bottom-right-radius:0;border-bottom-left-radius:0;"],(0,l.W0)(2),(0,l.W0)(1.5),(0,l.E0)("large")),g=u.ZP.div.withConfig({displayName:"CheckboxGroupTable.styled__CheckboxItems"})(["max-height:305px;overflow-y:auto;"]),b=u.ZP.div.withConfig({displayName:"CheckboxGroupTable.styled__CheckboxWrap"})(["padding:",";display:flex;align-items:center;justify-content:space-between;&:last-child{border-bottom-right-radius:",";border-bottom-left-radius:",";}& + &{border-top:1px solid ",";}&:nth-child(2n){background-color:",";}"],(0,l.W0)(1.5),(0,l.E0)("large"),(0,l.E0)("large"),(0,l.Ys)("Cornflower20"),(0,l.Ys)("Grey20")),x=u.ZP.span.withConfig({displayName:"CheckboxGroupTable.styled__BulkActions"})(["display:flex;align-items:center;flex-wrap:wrap;gap:",";"],(0,l.W0)(1)),y=e=>{let{title:t,copy:n}=e,{t:r}=(0,m.$G)("market",{keyPrefix:"checkbox-group-table.no-results"});return(0,a.jsx)(d.Jd,{variant:"transparent",children:(0,a.jsxs)(l.al,{children:[(0,a.jsx)(s,{width:30,height:30,style:{marginBottom:0}}),(0,a.jsx)(l.H4,{children:t||r("title","No items")}),(0,a.jsx)(l.M,{children:n||r("copy","There aren't any items to select")})]})})};y.__docgenInfo={description:"",methods:[],displayName:"CheckboxGroupTableNoResults",props:{title:{required:!1,tsType:{name:"string"},description:""},copy:{required:!1,tsType:{name:"string"},description:""}}};let f=e=>{let{isDisabled:t=!1,items:n,headerColour:i="Background",getValue:s,renderLabel:o,renderActions:d,renderBulkActions:f,renderNoResults:k=y,onChange:w}=e,{t:v}=(0,m.$G)("market",{keyPrefix:"checkbox-group-table"}),{colors:j}=(0,u.Fg)(),{register:C,watch:T,reset:_,setValue:N,getValues:Z}=(0,c.cI)({disabled:t,defaultValues:{items:[]}}),D=(0,r.useMemo)(()=>({addItem:e=>{N("items",[...Z("items"),e])},removeItem:e=>{N("items",Z("items").filter(t=>t!==e))},resetItems:()=>{N("items",[])}}),[N,Z]),[I]=T(["items"]);(0,r.useEffect)(()=>{null==w||w(I)},[w,I]),(0,r.useEffect)(()=>{_({items:[]})},[_,n]);let R=(0,r.useMemo)(()=>n.length===I.length&&!!n.length,[n,I]),P=(0,r.useMemo)(()=>!!I.length&&I.length<n.length,[n,I]),A=(0,r.useCallback)(e=>{P||!e.currentTarget.checked?_({items:[]}):_({items:n.map(e=>s(e))})},[P,n,s,_]),B=(0,a.jsx)(g,{children:n.map(e=>{let n=s(e);return(0,a.jsxs)(b,{children:[(0,a.jsx)(l.XZ,{...C("items"),value:n,isDisabled:t,children:o(e)}),null==d?void 0:d({item:e,actions:D,isDisabled:t})]},n)})});return(0,a.jsxs)(h,{variant:"border",children:[(0,a.jsxs)(p,{style:{backgroundColor:j[i]},children:[(0,a.jsx)(l.XZ,{isIndeterminate:P,checked:R,onChange:A,disabled:!n.length}),f&&(0,a.jsxs)(x,{children:[(0,a.jsxs)(l.H5,{children:[v("bulk-actions","Bulk actions"),":"]})," ",f({isDisabled:t,selectedItems:I,actions:D})]})]}),!1===k||n.length?B:(0,a.jsx)(k,{})]})};f.Skeleton=()=>(0,a.jsxs)(h,{variant:"border",children:[(0,a.jsxs)(p,{children:[(0,a.jsx)(l.XZ,{isDisabled:!0}),(0,a.jsxs)(x,{children:[(0,a.jsx)(l.Od,{width:88,height:26}),(0,a.jsx)(l.Od,{width:130,height:26})]})]}),(0,a.jsxs)(b,{children:[(0,a.jsx)(l.XZ,{isDisabled:!0,children:(0,a.jsx)(l.Od,{width:100,height:16})}),(0,a.jsx)(l.Od,{width:26,height:26})]}),(0,a.jsxs)(b,{children:[(0,a.jsx)(l.XZ,{isDisabled:!0,children:(0,a.jsx)(l.Od,{width:100,height:16})}),(0,a.jsx)(l.Od,{width:26,height:26})]}),(0,a.jsxs)(b,{children:[(0,a.jsx)(l.XZ,{isDisabled:!0,children:(0,a.jsx)(l.Od,{width:100,height:16})}),(0,a.jsx)(l.Od,{width:26,height:26})]})]}),f.__docgenInfo={description:"",methods:[{name:"Skeleton",docblock:null,modifiers:["static"],params:[],returns:null}],displayName:"CheckboxGroupTable",props:{isDisabled:{required:!1,tsType:{name:"boolean"},description:"If marked as true, the entire component will be disabled. Checkboxes will not be selectable,\nand actions will not be clickable.",defaultValue:{value:"false",computed:!1}},items:{required:!0,tsType:{name:"Array",elements:[{name:"T"}],raw:"T[]"},description:"Pass a list of items to be rendered as checkbox options in the table.\nThe `value` property is used as the value for the checkbox input it is\nrendered as."},renderNoResults:{required:!1,tsType:{name:"union",raw:"FC<CheckboxGroupTableNoResultsProps> | false",elements:[{name:"FC",elements:[{name:"CheckboxGroupTableNoResultsProps"}],raw:"FC<CheckboxGroupTableNoResultsProps>"},{name:"literal",value:"false"}]},description:"If marked as true, the component will render a no results message when there are no items.\n\n@default true",defaultValue:{value:'({ title, copy }: CheckboxGroupTableNoResultsProps) => {\n    const { t } = useTranslation("market", { keyPrefix: "checkbox-group-table.no-results" });\n\n    return (\n        <NoData variant="transparent">\n            <TextBlock>\n                <CubeTransparentIcon width={30} height={30} style={{ marginBottom: 0 }} />\n                <H4>{title || t("title", "No items")}</H4>\n                <M>{copy || t("copy", "There aren\'t any items to select")}</M>\n            </TextBlock>\n        </NoData>\n    );\n}',computed:!1}},renderLabel:{required:!0,tsType:{name:"signature",type:"function",raw:"(item: T) => ReactNode",signature:{arguments:[{type:{name:"T"},name:"item"}],return:{name:"ReactNode"}}},description:"Provides the ability to render a custom label for each item in the table."},getValue:{required:!0,tsType:{name:"signature",type:"function",raw:"(item: T) => string",signature:{arguments:[{type:{name:"T"},name:"item"}],return:{name:"string"}}},description:"Gets the value of the item"},renderActions:{required:!1,tsType:{name:"signature",type:"function",raw:"(props: { item: T; actions: Actions; isDisabled: boolean }) => ReactNode",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ item: T; actions: Actions; isDisabled: boolean }",signature:{properties:[{key:"item",value:{name:"T",required:!0}},{key:"actions",value:{name:"Actions",required:!0}},{key:"isDisabled",value:{name:"boolean",required:!0}}]}},name:"props"}],return:{name:"ReactNode"}}},description:"Provides the ability to render a list of actions that sit next to the checkbox"},renderBulkActions:{required:!1,tsType:{name:"signature",type:"function",raw:"(props: { isDisabled: boolean; selectedItems: string[]; actions: Actions }) => ReactNode",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ isDisabled: boolean; selectedItems: string[]; actions: Actions }",signature:{properties:[{key:"isDisabled",value:{name:"boolean",required:!0}},{key:"selectedItems",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!0}},{key:"actions",value:{name:"Actions",required:!0}}]}},name:"props"}],return:{name:"ReactNode"}}},description:""},headerColour:{required:!1,tsType:{name:"unknown"},description:'Choose the colour of the header background.\n\n@default "Background"',defaultValue:{value:'"Background"',computed:!1}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(selectedItems: string[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"selectedItems"}],return:{name:"void"}}},description:"Callback when the selected items change."}}};let k=[{id:"checkbox-1",name:"Checkbox 1"},{id:"checkbox-2",name:"Checkbox 2"},{id:"checkbox-3",name:"Checkbox 3"}],w=[{id:"checkbox-4",name:"Checkbox 4"},{id:"checkbox-5",name:"Checkbox 5"},{id:"checkbox-6",name:"Checkbox 6"}],v=()=>(0,a.jsx)(d.Jd,{variant:"transparent",children:(0,a.jsxs)(l.al,{children:[(0,a.jsx)(s,{width:30,height:30,style:{marginBottom:0}}),(0,a.jsx)(l.H4,{children:"No Items"}),(0,a.jsx)(l.M,{children:"There aren't any items here"})]})}),j=()=>{let[e,t]=(0,r.useState)(k),[n,s]=(0,r.useState)(w);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f,{items:e,renderLabel:e=>e.name,getValue:e=>e.id,renderActions:e=>{let{item:n,actions:r}=e;return(0,a.jsx)(l.zx,{variant:"criticalSecondary",size:"small",onClick:()=>{s(e=>[...e,n]),t(e=>e.filter(e=>e.id!==n.id)),r.removeItem(n.id)},children:(0,a.jsx)(o.Z,{})})},renderBulkActions:r=>{let{isDisabled:i,selectedItems:d,actions:c}=r;return(0,a.jsxs)(l.zx,{onClick:()=>{s([...n,...e.filter(e=>d.includes(e.id))]),t(e.filter(e=>!d.includes(e.id))),c.resetItems()},variant:"secondary",size:"small",disabled:i||!d.length,children:[(0,a.jsx)(o.Z,{})," Remove from market"]})}}),(0,a.jsx)("br",{}),(0,a.jsx)(f,{items:n,renderLabel:e=>e.name,getValue:e=>e.id,renderActions:e=>{let{item:n,actions:r}=e;return(0,a.jsx)(l.zx,{variant:"secondary",size:"small",onClick:()=>{t(e=>[...e,n]),s(e=>e.filter(e=>e.id!==n.id)),r.removeItem(n.id)},children:(0,a.jsx)(i.Z,{})})},renderBulkActions:e=>{let{isDisabled:r,selectedItems:o,actions:d}=e;return(0,a.jsxs)(l.zx,{variant:"secondary",size:"small",disabled:r||!o.length,onClick:()=>{t(e=>[...e,...n.filter(e=>o.includes(e.id))]),s(e=>e.filter(e=>!o.includes(e.id))),d.resetItems()},children:[(0,a.jsx)(i.Z,{})," Add to market"]})}})]})},C={render:()=>(0,a.jsx)(j,{})},T={title:"Portal / Markets / Checkbox Group Table",parameters:{layout:"padded"},decorators:[e=>(0,a.jsx)("div",{style:{width:"500px"},children:e()})]};v.parameters={...v.parameters,docs:{...v.parameters?.docs,source:{originalSource:'() => {\n  return <NoData variant="transparent">\n            <TextBlock>\n                <CubeTransparentIcon width={30} height={30} style={{\n        marginBottom: 0\n      }} />\n                <H4>No Items</H4>\n                <M>There aren\'t any items here</M>\n            </TextBlock>\n        </NoData>;\n}',...v.parameters?.docs?.source}}},C.parameters={...C.parameters,docs:{...C.parameters?.docs,source:{originalSource:"{\n  render: () => <CheckboxGroupTables />\n}",...C.parameters?.docs?.source}}}},"./src/shared/components/DashboardLayout/DashboardLayout.styled.tsx":function(e,t,n){n.d(t,{$0:function(){return o},Jd:function(){return c},NB:function(){return s},X6:function(){return d},gM:function(){return l},rj:function(){return i}});var a=n("../node_modules/@mention-me/flamingo-ui/build/index.es.js"),r=n("../node_modules/styled-components/dist/styled-components.browser.esm.js");let i=(0,r.ZP)("div").withConfig((0,a.NZ)("gridConfig")).withConfig({displayName:"DashboardLayout.styled__Grid"})(["display:grid;grid-gap:32px 16px;",""],e=>e.gridConfig.map(e=>(0,r.iv)(["@media (min-width:","px){grid-template-columns:repeat(",",1fr);}"],e.minWidth,e.columns))),s=(0,r.ZP)("div").withConfig((0,a.NZ)("componentConfig","index")).withConfig({displayName:"DashboardLayout.styled__ComponentWrapper"})([""," "," &:empty{display:none;}"],e=>e.componentConfig.map(e=>(0,r.iv)(["@media (min-width:","px){grid-column-end:span ",";}"],e.minWidth,e.columns)),e=>{let{index:t}=e;return 0===t&&(0,r.iv)(["grid-column-start:1;"])}),o=r.ZP.section.withConfig({displayName:"DashboardLayout.styled__Section"})(["display:flex;flex-direction:column;height:100%;"]),l=r.ZP.div.withConfig({displayName:"DashboardLayout.styled__HeaderContainer"})(["display:flex;flex-wrap:wrap;gap:",";align-items:center;justify-content:space-between;margin-bottom:1rem;"],(0,a.W0)(1)),d=(0,r.ZP)(a.H4).withConfig({displayName:"DashboardLayout.styled__Heading"})(["display:flex;gap:",";align-items:center;"],(0,a.W0)(1));(0,a.W0)(2),(0,a.W0)([6,3]);let c=r.ZP.div.withConfig((0,a.NZ)("variant")).withConfig({displayName:"DashboardLayout.styled__NoData"})(["border-radius:",";background-color:",";display:flex;flex-direction:column;gap:",";align-items:center;justify-content:center;text-align:center;padding:",";"],(0,a.W0)(.5),e=>{let{variant:t="grey"}=e;return"grey"===t?(0,a.Ys)("GreyBase",50):"none"},(0,a.W0)(2),(0,a.W0)([4,2]))},"../node_modules/@heroicons/react/20/solid/esm/ArrowUpCircleIcon.js":function(e,t,n){n.d(t,{Z:function(){return r}});var a=n("../node_modules/react/index.js");let r=a.forwardRef(function({title:e,titleId:t,...n},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm-.75-4.75a.75.75 0 0 0 1.5 0V8.66l1.95 2.1a.75.75 0 1 0 1.1-1.02l-3.25-3.5a.75.75 0 0 0-1.1 0L6.2 9.74a.75.75 0 1 0 1.1 1.02l1.95-2.1v4.59Z",clipRule:"evenodd"}))})},"../node_modules/@heroicons/react/24/solid/esm/TrashIcon.js":function(e,t,n){n.d(t,{Z:function(){return r}});var a=n("../node_modules/react/index.js");let r=a.forwardRef(function({title:e,titleId:t,...n},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{fillRule:"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z",clipRule:"evenodd"}))})}}]);