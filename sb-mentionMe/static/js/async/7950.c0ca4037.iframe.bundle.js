"use strict";(globalThis.webpackChunk_mention_me_frontend=globalThis.webpackChunk_mention_me_frontend||[]).push([["7950"],{"./src/client/reporting/incremental-value/components/DualBarChart/DualBarChart.tsx":function(e,t,n){n.d(t,{Z:()=>g});var r=n("../node_modules/react/jsx-runtime.js"),i=n("../node_modules/@nivo/bar/dist/nivo-bar.es.js"),o=n("../node_modules/styled-components/dist/styled-components.browser.esm.js"),a=n("./src/shared/components/Charts/index.ts"),l=n("../node_modules/@mention-me/flamingo-ui/build/index.es.js"),s=n("../node_modules/@react-spring/web/dist/react-spring_web.modern.mjs"),h=n("./src/shared/@types/graphql.ts"),c=n("./src/shared/utilities/index.ts");let d=(0,o.ZP)(l.S).withConfig((0,l.NZ)("color")).withConfig({displayName:"DualBarChart.styled__S"})(["text-align:center;font-weight:700;color:",";"],e=>{let{color:t}=e;return t}),m=e=>{let{bar:{x:t,y:n,data:i,width:o,height:a},style:{borderColor:m},borderWidth:u,isLoading:p,chartPrefix:g}=e,v=(0,s.to)([t,n],(e,t)=>`translate(${e}, ${t})`);return(0,r.jsxs)(s.q.g,{transform:v,children:[(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:`round-corner-${g}-${i.index}`,children:(0,r.jsx)("path",{d:`
                        m0,${a} 
                        v-${a-5} 
                        q0,-5 5,-5
                        h${o-6}
                        q5,0 5,5
                        v${a} 
                        z`})})}),(0,r.jsx)(s.q.rect,{clipPath:`url(#round-corner-${g}-${i.index})`,width:o+5,height:a,rx:0,ry:0,fill:i.data.fill.toString(),stroke:m,strokeWidth:u,role:"graphics-symbol"}),(0,r.jsx)("g",{transform:"translate(2,-22)",children:(0,r.jsx)("foreignObject",{width:o,height:30,children:p?(0,r.jsx)(l.Od,{width:o,height:16,color:i.data.fill.toString()}):(0,r.jsx)(d,{color:i.data.fill.toString(),children:(0,c.qp)(i.value/100,{type:h.mV.Percentage})})})})]})};m.__docgenInfo={description:"",methods:[],displayName:"DualBarChartBar",props:{isLoading:{required:!1,tsType:{name:"boolean"},description:""},chartPrefix:{required:!0,tsType:{name:"string"},description:""}}};var u=n("./src/client/reporting/incremental-value/components/DualBarChart/mockData.ts");let p=e=>{let{data:t,chartPrefix:n,...l}=e,{colors:s}=(0,o.Fg)();if(!t)return(0,r.jsx)(p.Skeleton,{chartPrefix:n});let h=[{id:"High Propensity Group",value1:100*(t.high||0),fill:s.MidnightBlueBase},{id:"Low Propensity Group",value1:100*(t.low||0),fill:s.CyanBase}];return(0,r.jsx)(a.hC,{style:{height:"200px",width:"200px"},children:(0,r.jsx)(i.jM,{data:h,keys:["value1"],indexBy:"id",margin:{top:20,right:0,bottom:0,left:0},axisBottom:{tickSize:0,format:()=>""},axisLeft:{tickSize:0,format:()=>""},barComponent:e=>(0,r.jsx)(m,{chartPrefix:n,...e}),enableGridY:!1,enableLabel:!1,isInteractive:!1,ariaLabel:`${n} Bar Chart`,...l})})};p.Skeleton=e=>{let{chartPrefix:t}=e,n=[{id:"Low Propensity Group",value1:u.c.low,fill:"#D9D9D9"},{id:"High Propensity Group",value1:u.c.high,fill:"#EBEBEB"}];return(0,r.jsx)(a.hC,{style:{height:"200px",width:"200px"},children:(0,r.jsx)(i.jM,{data:n,keys:["value1"],indexBy:"id",margin:{top:20,right:0,bottom:0,left:0},axisBottom:{format:()=>""},axisLeft:{format:()=>""},barComponent:e=>(0,r.jsx)(m,{chartPrefix:t,...e,isLoading:!0}),enableGridY:!1,enableLabel:!1,isInteractive:!1,ariaLabel:`${t} Bar Chart Loading`})})};let g=p;p.__docgenInfo={description:"",methods:[{name:"Skeleton",docblock:null,modifiers:["static"],params:[{name:"{ chartPrefix }: SkeletonProps",optional:!1,type:{name:"SkeletonProps",alias:"SkeletonProps"}}],returns:null}],displayName:"DualBarChart",props:{data:{required:!1,tsType:{name:"Data"},description:""},chartPrefix:{required:!0,tsType:{name:"string"},description:""}}}},"./src/client/reporting/incremental-value/components/DualBarChart/mockData.ts":function(e,t,n){n.d(t,{D:function(){return r},c:function(){return i}});let r={high:1,low:2.46},i={high:1,low:1}},"./src/client/reporting/incremental-value/components/GridChart/GridChart.tsx":function(e,t,n){n.d(t,{Z:()=>m});var r=n("../node_modules/react/jsx-runtime.js"),i=n("../node_modules/@mention-me/flamingo-ui/build/index.es.js"),o=n("../node_modules/styled-components/dist/styled-components.browser.esm.js");let a=o.ZP.div.withConfig({displayName:"GridChart.styled__Container"})(["display:flex;flex-wrap:wrap;width:100px;"]),l=o.ZP.div.withConfig({displayName:"GridChart.styled__InnerContainer"})(["display:flex;width:100%;flex-wrap:nowrap;justify-content:space-between;"]),s=(0,o.ZP)(i.M).withConfig((0,i.NZ)("fill")).withConfig({displayName:"GridChart.styled__TextPrimary"})(["color:",";"],e=>{let{fill:t}=e;return t}),h=(0,o.ZP)(i.M).withConfig((0,i.NZ)("fill")).withConfig({displayName:"GridChart.styled__TextSecondary"})(["color:",";"],e=>{let{fill:t}=e;return t});(0,o.ZP)(i.Od).withConfig({displayName:"GridChart.styled__Skeleton"})(["margin-bottom:",";"],(0,i.W0)(.5));let c=["M-.5-.5h11v11h-11z","M9.5-.5h11v11h-11z","M19.5-.5h11v11h-11z","M29.5-.5h11v11h-11z","M39.5-.5h11v11h-11z","M49.5-.5h11v11h-11z","M59.5-.5h11v11h-11z","M69.5-.5h11v11h-11z","M79.5-.5h11v11h-11z","M89.5-.5h11v11h-11z","M-.5 9.5h11v11h-11z","M9.5 9.5h11v11h-11z","M19.5 9.5h11v11h-11z","M29.5 9.5h11v11h-11z","M39.5 9.5h11v11h-11z","M49.5 9.5h11v11h-11z","M59.5 9.5h11v11h-11z","M69.5 9.5h11v11h-11z","M79.5 9.5h11v11h-11z","M89.5 9.5h11v11h-11z","M-.5 19.5h11v11h-11z","M9.5 19.5h11v11h-11z","M19.5 19.5h11v11h-11z","M29.5 19.5h11v11h-11z","M39.5 19.5h11v11h-11z","M49.5 19.5h11v11h-11z","M59.5 19.5h11v11h-11z","M69.5 19.5h11v11h-11z","M79.5 19.5h11v11h-11z","M89.5 19.5h11v11h-11z","M-.5 29.5h11v11h-11z","M9.5 29.5h11v11h-11z","M19.5 29.5h11v11h-11z","M29.5 29.5h11v11h-11z","M39.5 29.5h11v11h-11z","M49.5 29.5h11v11h-11z","M59.5 29.5h11v11h-11z","M69.5 29.5h11v11h-11z","M79.5 29.5h11v11h-11z","M89.5 29.5h11v11h-11z","M-.5 39.5h11v11h-11z","M9.5 39.5h11v11h-11z","M19.5 39.5h11v11h-11z","M29.5 39.5h11v11h-11z","M39.5 39.5h11v11h-11z","M49.5 39.5h11v11h-11z","M59.5 39.5h11v11h-11z","M69.5 39.5h11v11h-11z","M79.5 39.5h11v11h-11z","M89.5 39.5h11v11h-11z","M-.5 49.5h11v11h-11z","M9.5 49.5h11v11h-11z","M19.5 49.5h11v11h-11z","M29.5 49.5h11v11h-11z","M39.5 49.5h11v11h-11z","M49.5 49.5h11v11h-11z","M59.5 49.5h11v11h-11z","M69.5 49.5h11v11h-11z","M79.5 49.5h11v11h-11z","M89.5 49.5h11v11h-11z","M-.5 59.5h11v11h-11z","M9.5 59.5h11v11h-11z","M19.5 59.5h11v11h-11z","M29.5 59.5h11v11h-11z","M39.5 59.5h11v11h-11z","M49.5 59.5h11v11h-11z","M59.5 59.5h11v11h-11z","M69.5 59.5h11v11h-11z","M79.5 59.5h11v11h-11z","M89.5 59.5h11v11h-11z","M-.5 69.5h11v11h-11z","M9.5 69.5h11v11h-11z","M19.5 69.5h11v11h-11z","M29.5 69.5h11v11h-11z","M39.5 69.5h11v11h-11z","M49.5 69.5h11v11h-11z","M59.5 69.5h11v11h-11z","M69.5 69.5h11v11h-11z","M79.5 69.5h11v11h-11z","M89.5 69.5h11v11h-11z","M-.5 79.5h11v11h-11z","M9.5 79.5h11v11h-11z","M19.5 79.5h11v11h-11z","M29.5 79.5h11v11h-11z","M39.5 79.5h11v11h-11z","M49.5 79.5h11v11h-11z","M59.5 79.5h11v11h-11z","M69.5 79.5h11v11h-11z","M79.5 79.5h11v11h-11z","M89.5 79.5h11v11h-11z","M-.5 89.5h11v11h-11z","M9.5 89.5h11v11h-11z","M19.5 89.5h11v11h-11z","M29.5 89.5h11v11h-11z","M39.5 89.5h11v11h-11z","M49.5 89.5h11v11h-11z","M59.5 89.5h11v11h-11z","M69.5 89.5h11v11h-11z","M79.5 89.5h11v11h-11z","M89.5 89.5h11v11h-11z"],d=e=>{let{data:t,firstColor:n,secondColor:m,isAnimated:u,isLoading:p}=e,{colors:g}=(0,o.Fg)();if(p||!t)return(0,r.jsx)(d.Skeleton,{});let v=t.high||0,f=t.low||0,x=f/(v+f)*100;return(0,r.jsxs)(a,{children:[(0,r.jsx)(l,{children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("strong",{children:(0,r.jsx)(h,{fill:g[n??"CyanBase"],children:(0,i.uf)(f)})}),(0,r.jsx)("strong",{children:(0,r.jsx)(s,{fill:g[m??"MidnightBlueBase"],children:(0,i.uf)(v)})})]})}),(0,r.jsxs)("svg",{viewBox:"0 0 100 100","aria-label":"Grid Chart New Customers Icon",role:"img","data-auto-class":"grid-chart-new-customers-icon",width:"100",height:"100",fill:"none",children:[(0,r.jsx)("g",{clipPath:"url(#a)",stroke:"#fff",children:c.map((e,t)=>u?(0,r.jsx)("path",{fill:g[m??"MidnightBlueBase"],d:e,children:(0,r.jsx)("animate",{attributeName:"fill",from:g[m??"MidnightBlueBase"],to:t<x?g[n??"CyanBase"]:g[m??"MidnightBlueBase"],dur:"0.1s",begin:`${t/10}s`,fill:"freeze"})},t):(0,r.jsx)("path",{fill:t<x?g[n??"CyanBase"]:g[m??"MidnightBlueBase"],d:e},t))}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"a",children:(0,r.jsx)("rect",{width:"100",height:"100",rx:"4",fill:"#fff"})})})]})]})};d.Skeleton=()=>{let{colors:e}=(0,o.Fg)();return(0,r.jsx)(a,{children:(0,r.jsxs)("svg",{viewBox:"0 0 100 100","aria-label":"Grid Chart New Customers Icon",role:"img","data-auto-class":"grid-chart-new-customers-icon",width:"100",height:"100",fill:"none",children:[(0,r.jsx)("g",{clipPath:"url(#a)",stroke:"#fff",children:c.map((t,n)=>(0,r.jsx)("path",{fill:e.Skeleton,d:t},n))}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"a",children:(0,r.jsx)("rect",{width:"100",height:"100",rx:"4",fill:"#fff"})})})]})})};let m=d;d.__docgenInfo={description:"",methods:[{name:"Skeleton",docblock:null,modifiers:["static"],params:[],returns:null}],displayName:"GridChart",props:{data:{required:!1,tsType:{name:"Data"},description:""},firstColor:{required:!1,tsType:{name:"unknown"},description:""},secondColor:{required:!1,tsType:{name:"unknown"},description:""},isAnimated:{required:!1,tsType:{name:"boolean"},description:""},isLoading:{required:!1,tsType:{name:"boolean"},description:""}}}},"./src/client/reporting/incremental-value/components/IncrementalValueSegmentExplainerModal/IncrementalValueSegmentExplainerModal.tsx":function(e,t,n){n.d(t,{Z:()=>Z});var r,i,o=n("../node_modules/react/jsx-runtime.js"),a=n("../node_modules/react/index.js");let l=a.forwardRef(function({title:e,titleId:t,...n},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m12.75 15 3-3m0 0-3-3m3 3h-7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});var s=n("../node_modules/@mention-me/flamingo-ui/build/index.es.js"),h=n("../node_modules/react-i18next/dist/es/index.js"),c=n("../node_modules/classnames/index.js"),d=n.n(c),m=n("./src/shared/components/index.ts"),u=n("./src/shared/components/Table/index.ts"),p=n("../node_modules/@apollo/client/react/hooks/useQuery.js"),g=n("./src/shared/context/EnvironmentContext.tsx"),v=n("./src/shared/hooks/index.ts");let f={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"fetchFeatureImportance"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"merchantId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"merchantPropensityToReferTrainingStatistics"},arguments:[{kind:"Argument",name:{kind:"Name",value:"merchantId"},value:{kind:"Variable",name:{kind:"Name",value:"merchantId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"modelFeatureImportance"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"featureName"}},{kind:"Field",name:{kind:"Name",value:"value"}}]}}]}}]}}]};(r=i||(i={})).LOW="low",r.MEDIUM="medium",r.HIGH="high",r.VERY_HIGH="very-high";let x=[{featureName:"Customer has previously been referred",value:"very-high"},{featureName:"Number of past orders",value:"high"},{featureName:"Number of past shares",value:"medium"},{featureName:"Gender",value:"medium"},{featureName:"Market opt-in status",value:"low"}],_=e=>0===e?"very-high":e<3?"high":e<5?"medium":"low",M=()=>{let{merchantId:e}=(0,v.rc)(),{data:t,loading:n}=(0,p.aM)(f,{variables:{merchantId:e}}),r="prod"===(0,g.UE)();return{featureImportance:(0,a.useMemo)(()=>{var e,i,o;if(n||!r)return x;let a=null==t?void 0:null===(e=t.merchantPropensityToReferTrainingStatistics)||void 0===e?void 0:e.modelFeatureImportance;return(null==a?void 0:null===(o=a.slice(0,6))||void 0===o?void 0:null===(i=o.sort((e,t)=>{let{value:n}=e,{value:r}=t;return r-n}))||void 0===i?void 0:i.map((e,t)=>{let{featureName:n}=e;return{featureName:n,value:_(t)}}))||[]},[t,n,r]),loading:n}},y={barContainer:"barContainer-FAEZZQ",bar:"bar-tayQJN",warning:"warning-wg1p78","very-high":"very-high-Q464Le",veryHigh:"very-high-Q464Le",high:"high-B244EK",medium:"medium-LWCsu3",low:"low-V0vbEz",skeleton:"skeleton-uo5OgW",help:"help-qr1gz3",driver:"driver-Q1bPve"},w=()=>{let{t:e}=(0,h.$G)("propensity-to-refer"),{featureImportance:t,loading:n}=M(),r=(0,a.useMemo)(()=>[{Header:()=>e("feature-importance.driver","Driver"),accessor:"featureName",Cell:t=>{let{value:n}=t;return(0,o.jsx)(s.S,{children:e(`feature-importance.features.${n}`,n)})},className:y.driver},{Header:()=>(0,o.jsxs)(o.Fragment,{children:[e("feature-importance.impact","Impact On Prediction"),(0,o.jsx)(m.WW,{className:y.help,message:e("feature-importance.impact-help","The impact to the propensity of refer score for a particular user")})]}),Cell:e=>{let{value:t}=e;return(0,o.jsx)("div",{className:y.barContainer,children:(0,o.jsx)("div",{className:d()(y.bar,y[t]),children:t.replace("-"," ")})})},Skeleton:()=>(0,o.jsx)("div",{className:y.barContainer,children:(0,o.jsx)("div",{className:d()(y.bar,y.skeleton),children:(0,o.jsx)(s.Od,{})})}),accessor:"value",id:"impact"}],[e]),i=(0,u.x)(r,t);return(0,o.jsx)(u.Z,{instance:i,loading:n})};w.__docgenInfo={description:"",methods:[],displayName:"ExperimentDetailFeatureImportance"};var j=n("./src/shared/hooks/useZendeskWidget/index.ts"),C=n("./src/client/reporting/incremental-value/components/IncrementalValueSegmentExplainerModal/components/IncrementalValuePropensityExplainerInfoBox.tsx"),E=n("./src/client/reporting/incremental-value/components/IncrementalValueSegmentExplainerModal/components/IncrementalValueSegmentationSplitChart.tsx"),S=n("./src/client/reporting/incremental-value/components/IncrementalValueSegmentExplainerModal/components/IncrementalValueSegmentNewCustomersChart.tsx"),b=n("./src/client/reporting/incremental-value/components/IncrementalValueSegmentExplainerModal/components/IncrementalValueSegmentProportionChart.tsx"),I=n("./src/client/reporting/incremental-value/components/IncrementalValueSegmentExplainerModal/components/IncrementalValueSegmentRepeatRateChart.tsx"),k=n("./src/client/reporting/incremental-value/hooks/useIncrementalValueStatistics.ts"),N=n("./src/client/reporting/incremental-value/components/ChartCard/ChartCard.tsx"),P=n("./src/client/reporting/incremental-value/components/DualBarChart/DualBarChart.tsx");let R=()=>{let{t:e}=(0,h.$G)("reporting",{keyPrefix:"incremental-value.segment-explainer-modal"}),{statistics:t,loading:n}=(0,k.Z)(),r=(0,a.useMemo)(()=>{if(!t)return;let{shareRate:e}=t;return{high:(0,s.rl)((null==e?void 0:e.high)||0),low:(0,s.rl)((null==e?void 0:e.low)||0)}},[t]),i=null==r?void 0:r.high,l=null==r?void 0:r.low;return(0,o.jsx)(N.Z,{isLoading:n,data:null==t?void 0:t.shareRate,chart:!n&&(null==t?void 0:t.shareRate)?(0,o.jsx)(P.Z,{data:t.shareRate,chartPrefix:"share-rate-modal-chart"}):(0,o.jsx)(P.Z.Skeleton,{chartPrefix:"share-rate-modal-chart-skeleton"}),heading:e("share-rate.title","Share rate"),description:(0,o.jsx)(h.cC,{t:e,i18nKey:"share-rate.description",children:(0,o.jsx)(s.al,{children:(0,o.jsxs)(s.M,{children:["The effectiveness of the models segmentation strategy can be seen in the share rates associated with the High and Low Propensity to Refer\xae segments. The group identified as not likely to refer have a lower share rate of only ",{lowShareRate:l}," , while the group identified as likely to refer have a much higher share rate of ",{highShareRate:i},"."]})})})})};R.__docgenInfo={description:"",methods:[],displayName:"IncrementalValueSegmentShareRateChart"};var z=n("../node_modules/@heroicons/react/24/solid/esm/QuestionMarkCircleIcon.js"),T=n("../node_modules/@heroicons/react/24/solid/esm/ArrowRightCircleIcon.js"),O=n("../node_modules/styled-components/dist/styled-components.browser.esm.js");let B=(0,O.ZP)(s.zx).withConfig({displayName:"IncrementalValueSegmentExplainerModal.styled__Button"})(["display:flex;align-items:center;gap:",";svg{width:",";height:",";fill:transparent !important;}","{white-space:nowrap;}"],(0,s.W0)(1),(0,s.W0)(3),(0,s.W0)(3),(0,s.mq)("mdMin","min")),A=O.ZP.div.withConfig({displayName:"IncrementalValueSegmentExplainerModal.styled__Container"})(["display:grid;grid-template-columns:auto;gap:",";"],(0,s.W0)(2));(0,O.ZP)(s.BY).withConfig({displayName:"IncrementalValueSegmentExplainerModal.styled__Link"})(["color:",";"],(0,s.Ys)("White"));let L=(0,O.iv)(["width:",";height:",";fill:",";"],(0,s.W0)(2),(0,s.W0)(2),(0,s.Ys)("White"));(0,O.ZP)(z.Z).withConfig({displayName:"IncrementalValueSegmentExplainerModal.styled__QuestionMarkCircleIcon"})(["",""],L),(0,O.ZP)(T.Z).withConfig({displayName:"IncrementalValueSegmentExplainerModal.styled__ArrowRightCircleIcon"})(["",""],L);let V=e=>{let{trigger:t}=e,{t:n}=(0,h.$G)("reporting",{keyPrefix:"incremental-value.segment-explainer-modal"}),[r,i]=(0,s.OT)();return(0,j.KF)({shouldBeHidden:r}),(0,o.jsxs)(o.Fragment,{children:[(null==t?void 0:t({openModal:i.open}))||(0,o.jsxs)(B,{"data-auto-class":"incremental-value-segment-explainer-open-button",variant:"primary",size:"small",onClick:i.open,children:[n("cta","Read how PTR is segmenting your customers"),(0,o.jsx)(l,{})]}),(0,o.jsx)(s.u_,{isOpen:r,onClose:i.close,modalVariant:"drawer-right",scrollBehaviour:"inside",children:(0,o.jsxs)(s.u_.Content,{children:[(0,o.jsxs)(s.u_.Header,{children:[(0,o.jsx)(s.H5,{children:n("title","How the Propensity to Refer\xae model is segmenting your customers?")}),(0,o.jsx)(s.u_.CloseButton,{})]}),(0,o.jsx)(s.u_.Body,{children:(0,o.jsxs)(A,{children:[(0,o.jsx)(C.Z,{}),(0,o.jsx)(s.H3,{children:n("subheader-title","How is the Propensity to Refer\xae model segmenting your customers?")}),(0,o.jsx)(s.M,{children:n("subheader-body","Here is an aggregated view of the proportions of propensity groups being calculated within your customer base. Proportions may differ slightly at the experiment level.")}),(0,o.jsx)(E.Z,{}),(0,o.jsx)(w,{}),(0,o.jsx)(R,{}),(0,o.jsx)(S.Z,{}),(0,o.jsx)(b.Z,{}),(0,o.jsx)(I.Z,{})]})}),(0,o.jsx)(s.u_.Footer,{children:(0,o.jsx)(s.zx,{variant:"secondary","data-auto-class":"incremental-value-segment-explainer-modal-close-button",onClick:i.close,children:n("close-text","Close")})})]})})]})};V.Skeleton=()=>(0,o.jsx)(s.Od,{width:220,height:32});let Z=V;V.__docgenInfo={description:"",methods:[{name:"Skeleton",docblock:null,modifiers:["static"],params:[],returns:null}],displayName:"IncrementalValueSegmentExplainerModal",props:{trigger:{required:!1,tsType:{name:"signature",type:"function",raw:"({ openModal }: { openModal: () => void }) => React.ReactNode",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ openModal: () => void }",signature:{properties:[{key:"openModal",value:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}},required:!0}}]}},name:""}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:""}}}},"./src/client/reporting/incremental-value/components/IncrementalValueSegmentExplainerModal/components/IncrementalValuePropensityExplainerInfoBox.tsx":function(e,t,n){n.d(t,{Z:()=>m});var r=n("../node_modules/react/jsx-runtime.js"),i=n("../node_modules/@heroicons/react/24/outline/esm/LightBulbIcon.js"),o=n("../node_modules/@mention-me/flamingo-ui/build/index.es.js"),a=n("../node_modules/react-i18next/dist/es/index.js"),l=n("./src/shared/constants/helpPageDictionary.ts"),s=n("../node_modules/styled-components/dist/styled-components.browser.esm.js");let h=(0,s.ZP)(o.BY).withConfig({displayName:"IncrementalValuePropensityExplainerInfoBox.styled__Link"})(["color:",";"],(0,o.Ys)("White")),c=s.ZP.div.withConfig({displayName:"IncrementalValuePropensityExplainerInfoBox.styled__Container"})(["display:grid;gap:",";"],(0,o.W0)(1)),d=()=>{let{t:e}=(0,a.$G)("reporting",{keyPrefix:"incremental-value.segment-explainer-info-box"});return(0,r.jsxs)(o.eg,{variant:"dark",isFullWidth:!0,children:[(0,r.jsx)(o.eg.Icon,{children:(0,r.jsx)(i.Z,{})}),(0,r.jsx)(o.eg.Body,{children:(0,r.jsxs)(c,{children:[(0,r.jsx)(o.H5,{children:e("info-callout.title","What is Propensity to Refer\xae?")}),(0,r.jsx)(o.M,{children:e("info-callout.body","The Propensity to Refer\xae data model is a customer segmentation tool which predicts each customer's propensity to refer at the point of purchase.")}),(0,r.jsx)(h,{target:"_blank",rel:"noreferrer",href:l.W.INCREMENTAL_VALUE_HOW_P2R_WORKS,children:e("info-callout.cta","See how the Propensity to Refer\xae model works")})]})})]})},m=d;d.__docgenInfo={description:"",methods:[],displayName:"IncrementalIncrementalValuePropensityExplainerInfoBox"}},"./src/client/reporting/incremental-value/components/IncrementalValueSegmentExplainerModal/components/IncrementalValueSegmentNewCustomersChart.tsx":function(e,t,n){n.d(t,{Z:function(){return c}});var r=n("../node_modules/react/jsx-runtime.js"),i=n("../node_modules/@mention-me/flamingo-ui/build/index.es.js"),o=n("../node_modules/react-i18next/dist/es/index.js"),a=n("./src/client/reporting/incremental-value/hooks/useIncrementalValueStatistics.ts"),l=n("./src/client/reporting/incremental-value/components/ChartCard/ChartCard.tsx"),s=n("./src/client/reporting/incremental-value/components/GridChart/GridChart.tsx");let h=()=>{let{t:e}=(0,o.$G)("reporting",{keyPrefix:"incremental-value.segment-explainer-modal"}),{statistics:t,loading:n}=(0,a.Z)(),{newCustomers:h}=t||{};return(0,r.jsx)(l.Z,{isLoading:n,data:h,chart:(0,r.jsx)(s.Z,{data:h,isLoading:n}),heading:e("new-customers.title","New customers"),description:(0,r.jsx)(o.cC,{t:e,i18nKey:"new-customers.description",children:(0,r.jsx)(i.al,{children:(0,r.jsxs)(i.M,{children:["The High Propensity to Refer\xae group is also responsible for bringing in"," ",{newCustomersHigh:(0,i.uf)((null==h?void 0:h.high)||0)}," of the"," ",{newCustomersTotal:(0,i.uf)(((null==h?void 0:h.high)||0)+((null==h?void 0:h.low)||0))}," ","new customers, while the Low Propensity to Refer\xae group haven’t brought in as many customers as they do not refer as much."]})})})})},c=h;h.__docgenInfo={description:"",methods:[],displayName:"IncrementalValueSegmentNewCustomersChart"}},"./src/client/reporting/incremental-value/components/IncrementalValueSegmentExplainerModal/components/IncrementalValueSegmentProportionChart.tsx":function(e,t,n){n.d(t,{Z:function(){return d}});var r=n("../node_modules/react/jsx-runtime.js"),i=n("../node_modules/react/index.js"),o=n("../node_modules/@mention-me/flamingo-ui/build/index.es.js"),a=n("../node_modules/react-i18next/dist/es/index.js"),l=n("./src/client/reporting/incremental-value/hooks/useIncrementalValueStatistics.ts"),s=n("./src/client/reporting/incremental-value/components/ChartCard/ChartCard.tsx"),h=n("./src/client/reporting/incremental-value/components/DonutPieChart/DonutPieChart.tsx");let c=()=>{let{t:e}=(0,a.$G)("reporting",{keyPrefix:"incremental-value.segment-explainer-modal"}),{statistics:t,loading:n}=(0,l.Z)(),c=(0,i.useMemo)(()=>{if(!t)return;let{volume:e,newCustomersPercentage:n}=t;return{high:(0,o.rl)(e.high||0),low:(0,o.rl)(e.low||0),proportionHigh:(0,o.rl)((null==n?void 0:n.high)||0),proportionLow:(0,o.rl)((null==n?void 0:n.low)||0)}},[t]),d=null==c?void 0:c.high,m=null==c?void 0:c.low,u=null==c?void 0:c.proportionHigh,p=null==c?void 0:c.proportionLow;return(0,r.jsx)(s.Z,{isLoading:n,data:null==t?void 0:t.newCustomersPercentage,chart:!n&&(null==t?void 0:t.newCustomersPercentage)?(0,r.jsx)(h.Z,{data:t.newCustomersPercentage}):(0,r.jsx)(h.Z.Skeleton,{}),heading:e("proportion-of-total-referrals.title","Proportion of total referrers"),description:(0,r.jsx)(a.cC,{t:e,i18nKey:"proportion-of-total-referrals.description",children:(0,r.jsx)(o.al,{children:(0,r.jsxs)(o.M,{children:[{proportionHigh:u}," of all referrals come from the ",{likelyToReferPercentage:d}," of customers correctly identified by the Propensity to Refer\xae model as having a High propensity to refer. with the ",{unlikelyToReferPercentage:m}," unlikely to refer are responsible for ",{proportionLow:p}," of total referrals."]})})})})},d=c;c.__docgenInfo={description:"",methods:[],displayName:"IncrementalValueSegmentProportionChart"}},"./src/client/reporting/incremental-value/components/IncrementalValueSegmentExplainerModal/components/IncrementalValueSegmentRepeatRateChart.tsx":function(e,t,n){n.d(t,{Z:function(){return d}});var r=n("../node_modules/react/jsx-runtime.js"),i=n("../node_modules/react/index.js"),o=n("../node_modules/@mention-me/flamingo-ui/build/index.es.js"),a=n("../node_modules/react-i18next/dist/es/index.js"),l=n("./src/client/reporting/incremental-value/hooks/useIncrementalValueStatistics.ts"),s=n("./src/client/reporting/incremental-value/components/ChartCard/ChartCard.tsx"),h=n("./src/client/reporting/incremental-value/components/DualBarChart/DualBarChart.tsx");let c=()=>{let{t:e}=(0,a.$G)("reporting",{keyPrefix:"incremental-value.segment-explainer-modal"}),{statistics:t,loading:n}=(0,l.Z)(),c=(0,i.useMemo)(()=>{if(!t)return;let{volume:e,repeatRate:n}=t;return{high:(0,o.rl)((null==e?void 0:e.high)||0),low:(0,o.rl)((null==e?void 0:e.low)||0),repeatLow:(0,o.rl)((null==n?void 0:n.low)||0)}},[t]),d=null==c?void 0:c.high,m=null==c?void 0:c.low,u=null==c?void 0:c.repeatLow;return(0,r.jsx)(s.Z,{isLoading:n,data:null==t?void 0:t.repeatRate,chart:!n&&(null==t?void 0:t.repeatRate)?(0,r.jsx)(h.Z,{data:t.repeatRate,chartPrefix:"repeat-rate-modal-chart"}):(0,r.jsx)(h.Z.Skeleton,{chartPrefix:"repeat-rate-modal-chart-skeleton"}),heading:e("repeat-rate.title","Repeat rate"),description:(0,r.jsx)(a.cC,{t:e,i18nKey:"repeat-rate.description",children:(0,r.jsx)(o.al,{children:(0,r.jsxs)(o.M,{children:["The Low Propensity to Refer\xae group (",{unlikelyToReferPercentage:m}," of all customers) has a repeat rate of ",{lowRepeatPercentage:u},", this is because these customers are being driven by the Smart Experiment to carry out a repeat purchase. Thus increasing repeat revenue without sacrificing referral revenue being generated by the High Propensity to Refer\xae group who bring in ",{likelyToReferPercentage:d}," of all referrals."]})})})})},d=c;c.__docgenInfo={description:"",methods:[],displayName:"IncrementalValueSegmentRepeatRateChart"}},"./src/client/reporting/incremental-value/components/IncrementalValueSegmentExplainerModal/components/IncrementalValueSegmentationSplitChart.tsx":function(e,t,n){n.d(t,{Z:function(){return d}});var r=n("../node_modules/react/jsx-runtime.js"),i=n("../node_modules/react/index.js"),o=n("../node_modules/@mention-me/flamingo-ui/build/index.es.js"),a=n("../node_modules/react-i18next/dist/es/index.js"),l=n("./src/client/reporting/incremental-value/hooks/useIncrementalValueStatistics.ts"),s=n("./src/client/reporting/incremental-value/components/ChartCard/ChartCard.tsx"),h=n("./src/client/reporting/incremental-value/components/DonutPieChart/DonutPieChart.tsx");let c=()=>{let{t:e}=(0,a.$G)("reporting",{keyPrefix:"incremental-value.segment-explainer-modal"}),{statistics:t,loading:n}=(0,l.Z)(),c=(0,i.useMemo)(()=>{if(!t)return;let{volume:e}=t;return{high:(0,o.rl)((null==e?void 0:e.high)||0),control:(0,o.rl)((null==e?void 0:e.control)||0),low:(0,o.rl)((null==e?void 0:e.low)||0)}},[t]),d=null==c?void 0:c.high,m=null==c?void 0:c.low,u=null==c?void 0:c.control;return(0,r.jsx)(s.Z,{isLoading:n,data:null==t?void 0:t.volume,chart:!n&&(null==t?void 0:t.volume)?(0,r.jsx)(h.Z,{data:t.volume}):(0,r.jsx)(h.Z.Skeleton,{}),heading:e("segmentation-split.title","Segmentation split"),description:(0,r.jsx)(a.cC,{t:e,i18nKey:"segmentation-split.description",children:(0,r.jsxs)(o.al,{children:[(0,r.jsxs)(o.M,{children:["Our Propensity to Refer\xae model is segmenting your customer base into those likely to refer and those unlikely to refer. Currently it is doing this using a set of drivers specific to your brand. The Model has correctly identified ",{likelyToReferPercentage:d}," of your customer base as likely to Refer with ",{unlikelyToReferPercentage:m}," identified as unlikely to refer."]}),(0,r.jsxs)(o.M,{children:[(0,r.jsx)("strong",{children:"NOTICE:"})," ",{controlGroupPercentage:u}," of your customers also identified as unlikely to refer have been placed in the High Propensity to Refer\xae segment. This is to serve as a control group to accurately measure the incremental performance of customers in the Low Propensity to Refer\xae segment."]})]})})})},d=c;c.__docgenInfo={description:"",methods:[],displayName:"IncrementalValueSegmentationSplitChart"}},"./src/shared/constants/helpPageDictionary.ts":function(e,t,n){n.d(t,{W:function(){return r}});let r={CONVERSION_MESSAGE_BANNER:"https://help.mention-me.com/hc/en-gb/articles/360009453398-How-does-the-conversion-message-banner-work-",FACEBOOK_SETUP:"https://help.mention-me.com/hc/en-gb/articles/5428483937693-How-to-use-Smart-Audiences-to-create-lookalike-audiences-in-Facebook",KLAVIYO_SETUP:"https://help.mention-me.com/hc/en-gb/articles/4417690991121-How-to-setup-Klaviyo-with-Mention-Me",EMARSYS_SETUP:"https://help.mention-me.com/hc/en-gb/articles/4402106624657-How-to-setup-Emarsys-with-Mention-Me",OMETRIA_SETUP:"https://help.mention-me.com/hc/en-gb/articles/360013324157-How-do-I-integrate-with-Ometria",HOW_EG_CAN_TRANSFORM_YOUR_BUSINESS:"https://help.mention-me.com/hc/en-gb/articles/13235693594525#how-earned-growth-can-transform-your-business",INCREMENTAL_VALUE_HOW_P2R_WORKS:"https://help.mention-me.com/hc/en-gb/articles/16545882322589-What-is-Propensity-to-Refer",INCREMENTAL_VALUE_UNCONCLUDED_EXPLAINER:"https://help.mention-me.com/hc/en-gb/articles/16593817799453-Why-we-exclude-unconcluded-experiments-from-Smart-Experiment-value-calculation",MENTION_ME_AND_AI:"https://help.mention-me.com/hc/en-gb/articles/14782162725021",MENTION_ME_SALESFORCE_LINK:"https://help.mention-me.com/hc/en-gb/articles/9249252392989-How-to-link-the-Mention-Me-Data-Extension-in-Salesforce-Marketing-Cloud",NATIVE_SHARE:"https://help.mention-me.com/hc/en-gb/articles/12188676882077-Native-share",NEW_REQUEST:"https://help.mention-me.com/hc/en-gb/requests/new",NEW_REQUEST_CAMPAIGN_SETUP:"https://help.mention-me.com/hc/en-gb/requests/new?ticket_form_id=10113905738525",NEW_REQUEST_MISC:"https://help.mention-me.com/hc/en-gb/requests/new?ticket_form_id=1900000712373",NEW_REQUEST_OFFER_SETUP:"https://help.mention-me.com/hc/en-gb/requests/new?ticket_form_id=5268134356509",NEW_REQUEST_UPLOAD_DATA:"https://help.mention-me.com/hc/en-gb/requests/new?ticket_form_id=9856022907037",NPS_INTRO:"https://help.mention-me.com/hc/en-gb/articles/10846806944925-An-introduction-to-NPS",OPTIMISE_REFERRAL_PERFORMANCE:"https://help.mention-me.com/hc/en-gb/articles/11677056700189-How-to-optimise-your-referral-program-s-performance",PROMOTING_REFERRAL_ON_HOMEPAGE:"https://help.mention-me.com/hc/en-gb/articles/360008907198",REFERRAL_METRICS_DEFINITION:"https://help.mention-me.com/hc/en-gb/articles/360008669357-Referral-metrics-and-definition",ROOT_URL:"https://help.mention-me.com",SETUP_AB_TEST:"https://help.mention-me.com/hc/en-gb/articles/360008482617--VIDEO-How-to-set-up-an-A-B-test",SETUP_BLOOMREACH:"https://help.mention-me.com/hc/en-gb/articles/10406398252189-How-to-setup-Bloomreach-with-Mention-Me",SETUP_DOTDIGITAL:"https://www.figma.com/design/OeHu0P8urHYyz7pqsAg8Ai/Dotdigital-self-serve-integration?node-id=2651-8101&t=OUyXg8ToOAkTo5U6-4",SETUP_COS:"https://help.mention-me.com/hc/en-gb/articles/17956834873629-How-we-estimate-time-until-Earned-Growth-is-calculated-when-setting-up-a-Customer-Origin-survey",SETUP_NPS:"https://help.mention-me.com/hc/en-gb/articles/17961102186013-How-we-estimate-time-until-AI-insights-can-be-shown-when-setting-up-an-NPS-survey",SETUP_PROMOTION:"https://help.mention-me.com/hc/en-gb/articles/360008903778-Time-limited-promotions-and-competitions",SETUP_FEEFO_REVIEWS:"https://help.mention-me.com/hc/en-gb/articles/12522801635101-How-to-setup-the-Feefo-Integration-to-ingest-reviews",SETUP_FEEFO_BANNER:"https://help.mention-me.com/hc/en-gb/articles/360016745498-How-to-set-up-a-Feefo-banner-with-Mention-Me",SETUP_MPARTICLE:"https://help.mention-me.com/hc/en-gb/articles/20291370238365-How-to-setup-mParticle-with-Mention-Me",SETUP_SALESFORCE:"https://help.mention-me.com/hc/en-gb/articles/9249054983837-How-to-setup-the-Salesforce-Marketing-Cloud-integration",SETUP_SENTIMENT_ANALYSIS:"https://help.mention-me.com/hc/en-gb/requests/new?ticket_form_id=14561653328797",SHOPIFY_CHANGE_CUSTOMER_JOURNEY:"https://help.mention-me.com/hc/en-gb/articles/21082127484317-Shopify-App-Making-changes-to-the-customer-journey",SUBSCRIPTION_DATA_FOR_ADVOCACY:"https://help.mention-me.com/hc/en-gb/articles/13828936560925-Subscription-Data-for-Advocacy-Features",THEME_UPGRADE_REQUEST:"https://docs.google.com/forms/d/1-HsA_2iiYLXjlYchvnfSgveC_9Y1bP1Fed6JN5Cq6Tg/viewform?edit_requested=true",UNDERSTANDING_EG_REVENUE_PROJECTION:"https://help.mention-me.com/hc/en-gb/articles/13235693594525#understanding-more-about-the-earned-growth-revenue-projection",UNDERSTANDING_EG_SCORE_CALCULATION:"https://help.mention-me.com/hc/en-gb/articles/13235693594525#how-earned-growth-is-calculated",UPDATE_DESIGNS_OR_IMAGES:"https://help.mention-me.com/hc/en-gb/requests/new?ticket_form_id=5266040952605",VOUCHER_VALIDITY_PERIOD_TOO_SHORT:"https://help.mention-me.com/hc/en-gb/articles/4827125388317-Why-is-Mention-Me-requesting-new-voucher-codes-#h_01H5ST2J0FY4405VYERJT62ER0"}},"../node_modules/@heroicons/react/24/outline/esm/LightBulbIcon.js":function(e,t,n){n.d(t,{Z:function(){return i}});var r=n("../node_modules/react/index.js");let i=r.forwardRef(function({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))})},"../node_modules/@heroicons/react/24/solid/esm/QuestionMarkCircleIcon.js":function(e,t,n){n.d(t,{Z:function(){return i}});var r=n("../node_modules/react/index.js");let i=r.forwardRef(function({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm11.378-3.917c-.89-.777-2.366-.777-3.255 0a.75.75 0 0 1-.988-1.129c1.454-1.272 3.776-1.272 5.23 0 1.513 1.324 1.513 3.518 0 4.842a3.75 3.75 0 0 1-.837.552c-.676.328-1.028.774-1.028 1.152v.75a.75.75 0 0 1-1.5 0v-.75c0-1.279 1.06-2.107 1.875-2.502.182-.088.351-.199.503-.331.83-.727.83-1.857 0-2.584ZM12 18a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))})}}]);