/*! For license information please see consumer-journey-components-CloseButton-stories.ede2211a.iframe.bundle.js.LICENSE.txt */
(globalThis.webpackChunk_mention_me_frontend=globalThis.webpackChunk_mention_me_frontend||[]).push([["3735"],{"./src/consumer/journey/App.stories.less?d569":function(){},"./src/consumer/journey/components/CloseButton.stories.tsx":function(e,o,n){"use strict";n.r(o),n.d(o,{Default:function(){return i},default:function(){return s}});var r=n("../node_modules/react/jsx-runtime.js"),t=n("./src/consumer/journey/mockData.tsx"),_=n("./src/consumer/journey/components/CloseButton.tsx");n("./src/consumer/journey/App.stories.less?d569");let s={component:_.Z,title:"Customer Journey / Close Button"},i=(e=>{let o=(0,t.LT)(_.Z);return(0,r.jsx)("div",{className:"mm-body-europium",children:(0,r.jsx)("div",{className:"europium-container",children:(0,r.jsx)("div",{className:"europium-page",children:(0,r.jsx)("div",{className:"referrer referrer-offer",children:(0,r.jsx)(o,{...e})})})})})}).bind({});i.parameters={...i.parameters,docs:{...i.parameters?.docs,source:{originalSource:'(args: Props) => {\n  const WrappedCloseButton = withMock(CloseButton);\n  return <div className="mm-body-europium">\n            <div className="europium-container">\n                <div className="europium-page">\n                    <div className="referrer referrer-offer">\n                        <WrappedCloseButton {...args} />\n                    </div>\n                </div>\n            </div>\n        </div>;\n}',...i.parameters?.docs?.source}}}},"./src/consumer/journey/components/CloseButton.tsx":function(e,o,n){"use strict";n.d(o,{Z:()=>a});var r=n("../node_modules/react/jsx-runtime.js"),t=n("../node_modules/classnames/index.js"),_=n.n(t);n("../node_modules/react/index.js");let s=e=>(0,r.jsxs)("svg",{id:"close_svg__x",width:21,height:21,viewBox:"0 0 21 21",...e,children:[(0,r.jsx)("defs",{children:(0,r.jsx)("style",{children:".close_svg__cls-1{fill:#fff;fill-rule:evenodd}"})}),(0,r.jsx)("path",{id:"close_svg__Rectangle_4_copy_2",d:"m939.626 177.009 20.365 20.365-.617.617-20.365-20.365z",transform:"translate(-939 -177)"}),(0,r.jsx)("path",{id:"close_svg__Rectangle_4_copy_3",d:"m959.374 177.009.617.617-20.365 20.365-.617-.617z",transform:"translate(-939 -177)"})]});var i=n("./src/consumer/journey/utilities/events.ts");let c=e=>{let{className:o,onClick:n=i.Mr}=e;return(0,r.jsx)("button",{type:"button","aria-label":"Close",className:_()("mm-close-icon",o),onClick:n,children:(0,r.jsx)(s,{})})},a=c;c.__docgenInfo={description:"",methods:[],displayName:"CloseButton",props:{className:{required:!1,tsType:{name:"string"},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"",defaultValue:{value:'() => {\n    emitEvent({\n        choice: "clickAction",\n        clickType: "closeClick",\n    });\n}',computed:!1}}}}},"./src/consumer/journey/hooks/JourneyContext.tsx":function(e,o,n){"use strict";n.d(o,{Lz:function(){return u},Nk:function(){return d},o2:function(){return O}});var r,t,_=n("../node_modules/react/jsx-runtime.js"),s=n("../node_modules/react/index.js"),i=n("../node_modules/@mention-me/flamingo-ui/build/index.es.js"),c=n("../node_modules/immer/dist/immer.mjs"),a=n("./src/consumer/journey/hooks/useJourneyData.tsx");(r=t||(t={}))[r.SET_CONTENT_ITEM=0]="SET_CONTENT_ITEM",r[r.SET_FIRSTNAME=1]="SET_FIRSTNAME",r[r.SET_SURNAME=2]="SET_SURNAME",r[r.SET_EMAIL=3]="SET_EMAIL",r[r.SET_USER_SAVED=4]="SET_USER_SAVED",r[r.SET_STEP=5]="SET_STEP";let[E,u]=(0,i.kr)({hookName:"useJourneyState",providerName:"JourneyProvider"}),[f,d]=(0,i.kr)({hookName:"useJourneyDispatch",providerName:"JourneyProvider"}),l=(0,c.Uy)((e,o)=>{switch(o.type){case 0:var n,r;let t=null===(n=o.payload.contentItem.tag)||void 0===n?void 0:n.replace(/-/g,"_");t&&((null===(r=e.contentItems[t])||void 0===r?void 0:r.id)===o.payload.contentItem.id?e.contentItems[t]=o.payload.contentItem:Object.entries(e.contentItems.subOffers||{}).forEach(e=>{var n;let[,r]=e;(null===(n=r[t])||void 0===n?void 0:n.id)===o.payload.contentItem.id&&(r[t]=o.payload.contentItem)}));break;case 1:e.user.firstname=o.payload.firstname;break;case 2:e.user.surname=o.payload.surname;break;case 3:e.user.email=o.payload.email;break;case 4:e.user.isSaved=!0;break;case 5:e.step=o.payload.step}}),R=e=>{let{children:o}=e,n=(0,a.Z)(),[r,t]=(0,s.useReducer)(l,void 0,()=>n),i=(0,s.useCallback)(e=>{t({type:0,payload:{contentItem:e}})},[t]),c=(0,s.useCallback)(e=>{t({type:1,payload:{firstname:e}})},[t]),u=(0,s.useCallback)(e=>{t({type:2,payload:{surname:e}})},[t]),d=(0,s.useCallback)(e=>{t({type:3,payload:{email:e}})},[t]),R=(0,s.useCallback)(()=>{t({type:4})},[t]),O=(0,s.useCallback)(e=>{t({type:5,payload:{step:e}})},[t]),m=(0,s.useMemo)(()=>({dispatch:t,setContentItem:i,setFirstname:c,setSurname:u,setEmail:d,setUserSaved:R,setStep:O}),[t,i,c,u,d,R,O]);return(0,_.jsx)(E,{value:r,children:(0,_.jsx)(f,{value:m,children:o})})},O=e=>o=>(0,_.jsx)(R,{children:(0,_.jsx)(e,{...o})})},"./src/consumer/journey/hooks/useJourneyData.tsx":function(e,o,n){"use strict";n.d(o,{Z:function(){return t}});var r=n("../node_modules/react/index.js");let t=()=>{let{user:e,offer:o}=window.MentionMe.JourneyData,n=(0,r.useMemo)(()=>({...o.contentItems,subOffers:o.subOffers&&Object.fromEntries(o.subOffers.reduce((e,o)=>(e.push([o.id,o.contentItems]),e),[]))}),[o.contentItems,o.subOffers]),t=(0,r.useMemo)(()=>({...e,isSaved:!!(e.email&&e.firstname&&e.surname)}),[e]),_=new URLSearchParams(window.location.search).has("isDesignPreview");return{...window.MentionMe.JourneyData,step:window.MentionMe.JourneyData.step||0,isDesignPreview:_,isInPreview:!!window.MentionMe.JourneyData.previewMode,contentItems:n,user:t}}},"./src/consumer/journey/mockData.tsx":function(e,o,n){"use strict";n.d(o,{LT:function(){return a},Tn:function(){return i}});var r=n("./src/shared/constants/filterOfferTypes.ts"),t=n("./src/shared/constants/preview.ts"),_=n("./src/consumer/journey/hooks/JourneyContext.tsx"),s=n("./src/consumer/journey/types.ts");let i=[{id:"subOffer-1",isReferral:!0,contentItems:{[s.jy.CHOICE_OF_OFFER_HEADER]:{id:"1",content:"Referrer header"},[s.jy.CHOICE_OF_OFFER_CTA]:{id:"2",content:"Referrer button"}},url:"/referral"},{id:"subOffer-2",isIfa:!0,contentItems:{[s.mu.CHOICE_OF_OFFER_HEADER]:{id:"3",content:"IFA header"},[s.mu.CHOICE_OF_OFFER_CTA]:{id:"4",content:"IFA button"}},url:"/ifa"},{id:"subOffer-3",isNps:!0,contentItems:{[s.qo.CHOICE_OF_OFFER_HEADER]:{id:"5",content:"NPS header"},[s.qo.CHOICE_OF_OFFER_CTA]:{id:"6",content:"NPS button"}},url:"/nps"}],c={offer:{contentItems:{[s.zi.HEADLINE]:{id:"7",content:"Headline"},[s.zi.ORDER_COMPLETE]:{id:"8",content:"Order Complete!"},[s.zi.RESEGMENTATION_COMPLETE]:{id:"6",content:"Resegmented!"},[s.zi.ORDER_COMPLETE_ANONYMOUS]:{id:"9",content:"Order Complete!"},[s.zi.INFORMATION_NOTICE]:{id:"10",content:'Notice <a href="https://example.com/information_notice">click here</a>'},[s.zi.OFFER_HEADLINE]:{id:"11",content:"Link Headline"},[s.I.TERMS_AND_CONDITIONS]:{id:"12",content:"Terms and conditions"},[s.I.FULLFRAME_TERMS]:{id:"13",content:"Fullframe terms"},[s.I.POWERED_BY]:{id:"14",content:"Powered by Mention Me"},[s.zi.HEADLINE_REGISTER]:{id:"17",content:"Headline Register"},[s.zi.SUBHEADER_REGISTER]:{id:"18",content:"Subheader Register"},[s.zi.FIRSTNAME_PLACEHOLDER]:{id:"19",content:"Firstname placeholder"},[s.zi.SURNAME_PLACEHOLDER]:{id:"20",content:"Surname placeholder"},[s.zi.EMAIL_PLACEHOLDER]:{id:"21",content:"Email Placeholder"},[s.zi.FIRSTNAME_LABEL]:{id:"22",content:"Firstname Label*"},[s.zi.SURNAME_LABEL]:{id:"23",content:"Surname Label*"},[s.zi.EMAIL_LABEL]:{id:"24",content:"Email Label"},[s.zi.FIRSTNAME_ERROR]:{id:"25",content:"Firstname Error"},[s.zi.SURNAME_ERROR]:{id:"26",content:"Surname Error"},[s.zi.EMAIL_ERROR]:{id:"27",content:"Email Error"},[s.zi.REGISTER_CTA]:{id:"28",content:"Register Button"},[s.zi.REQUIRED_FIELD]:{id:"29",content:"* Required field"},[s.zi.CANCEL_REGISTER]:{id:"30",content:"Go back"},[s.zi.CORNERPEEL_HEADER]:{id:"31",content:"Header"},[s.zi.CORNERPEEL_DESCRIPTION]:{id:"32",content:"Description"},[s.zi.CORNERPEEL_CTA]:{id:"33",content:"CTA"}},subOffers:i,quickLinkCode:"",id:"123",type:r.Z.CHOICE_OF_OFFER},layout:"modal",situation:"postpurchase",showOrderComplete:!0,includePrivacyNotices:!0,includeMentionMeLogoInFlow:!0,preview:{mode:t.i4.VIEW},flowId:"",user:{email:"a@a.com",firstname:"test",surname:"test",saved:!0}},a=e=>(window.MentionMe={JourneyData:c},(0,_.o2)(e))},"./src/consumer/journey/types.ts":function(e,o,n){"use strict";var r,t,_,s,i,c,a,E,u,f,d,l,R,O,m,C;n.d(o,{I:function(){return r},JI:function(){return a},ht:function(){return p},jy:function(){return t},mu:function(){return _},qo:function(){return s},y:function(){return i},yY:function(){return c},zi:function(){return E}}),(u=r||(r={})).TERMS_AND_CONDITIONS="terms_and_conditions_implied",u.TERMS_AND_CONDITIONS_TEXT="terms_and_conditions",u.FULLFRAME_TERMS="fullframe_terms_caveat",u.POWERED_BY="journey2_powered_by",u.REFERRER_INFO_NOTICE="referrer_information_notice",(f=t||(t={})).CHOICE_OF_OFFER_HEADER="journey2_choice_of_offer_referrer_offer_header",f.CHOICE_OF_OFFER_CTA="journey2_choice_of_offer_to_referrer_offer_cta",f.CHOICE_OF_OFFER_REGISTER="journey2_choice_of_offer_to_referrer_offer_register",(d=_||(_={})).CHOICE_OF_OFFER_HEADER="choice_of_offer_ifa_offer_headline",d.CHOICE_OF_OFFER_CTA="choice_of_offer_to_ifa_offer_cta",d.CHOICE_OF_OFFER_REGISTER="choice_of_offer_to_ifa_offer_register",(l=s||(s={})).CHOICE_OF_OFFER_HEADER="choice_of_offer_nps_offer_headline",l.CHOICE_OF_OFFER_CTA="choice_of_offer_to_nps_offer_cta",l.CHOICE_OF_OFFER_REGISTER="choice_of_offer_to_nps_offer_register",l.HEADLINE="nps_ask_for_your_feedback",l.ORDER_COMPLETE="nps_order_complete_thanks",l.ORDER_COMPLETE_ANONYMOUS="nps_order_complete_thanks_anonymous",l.INFORMATION_NOTICE="nps_information_notice",l.ANSWER_SCALE_LOW="nps_answer_scale_low",l.ANSWER_SCALE_HIGH="nps_answer_scale_high",l.FEEDBACK_REQUEST="nps_feedback_request_generic",l.FEEDBACK_PLACEHOLDER="nps_feedback_placeholder_promoter",l.FEEDBACK_DISCLAIMER="nps_feedback_disclaimer",l.SUBMIT_BUTTON="nps_submit_button",l.THANKS="nps_thanks_for_feedback",(R=i||(i={})).HEADING="cos_how_did_you_originally_find_out_about_us",R.COS_FEEDBACK="cos_feedback",R.COS_WHY="cos_why",R.INFORMATION_NOTICE="cos_information_notice",R.COS_SUBMIT_BUTTON="cos_submit_button",R.COS_CONTINUE_TO_REFERRAL_THANKS="cos_continue_to_referral_thanks",R.COS_CONTINUE_TO_REFERRAL_HEADING="cos_continue_to_referral_heading",R.COS_CONTINUE_TO_REFERRAL_HEADING_ANONYMOUS="cos_continue_to_referral_heading_anonymous",R.COS_CONTINUE_TO_REFERRAL_SUB_HEADING="cos_continue_to_referral_sub_heading",R.COS_CONTINUE_TO_REFERRAL_BODY="cos_continue_to_referral_body",R.COS_CONTINUE_TO_REFERRAL_BUTTON="cos_continue_to_referral_button",R.ORDER_COMPLETE="cos_order_complete_thanks",R.ORDER_COMPLETE_ANONYMOUS="cos_order_complete_thanks_anonymous",R.COS_THANKS="cos_thanks_for_feedback",R.COS_OTHER_HEADING="cos_other_heading",R.COS_OTHER_PLACEHOLDER="cos_other_placeholder",R.COS_OTHER_BACK_CTA="cos_other_back_cta",R.COS_OTHER_CTA="cos_other_cta",R.COS_ANSWER_OTHER="cos_answer_other",(O=c||(c={})).COS_ANSWER_CATEGORY_BRAND_REPUTATION="brand-reputation",O.COS_ANSWER_CATEGORY_PROMOTION="promotion",O.COS_ANSWER_CATEGORY_OTHER="other",O.COS_ANSWER_CATEGORY_RECOMMENDATION="recommendation",O.COS_ANSWER_CATEGORY_REVIEW="review",O.COS_ANSWER_CATEGORY_USED_BEFORE="used-before",(m=a||(a={})).COS_ANSWER_0="cos_answer_0",m.COS_ANSWER_1="cos_answer_1",m.COS_ANSWER_2="cos_answer_2",m.COS_ANSWER_3="cos_answer_3",m.COS_ANSWER_4="cos_answer_4";let p={cos_answer_0:"recommendation",cos_answer_1:"review",cos_answer_2:"promotion",cos_answer_3:"brand-reputation",cos_answer_4:"used-before",cos_answer_other:"other"};(C=E||(E={})).RESEGMENTATION_COMPLETE="journey2_choice_of_offer_resegmentation_complete",C.HEADLINE="journey2_choice_of_offer_offer_headline",C.ORDER_COMPLETE="journey2_choice_of_offer_order_complete_thanks",C.ORDER_COMPLETE_ANONYMOUS="journey2_choice_of_offer_order_complete_thanks_anonymous",C.INFORMATION_NOTICE="journey2_choice_of_offer_information_notice",C.OFFER_HEADLINE="journey2_choice_of_offer_link_offer_headlines",C.HEADLINE_REGISTER="journey2_choice_of_offer_register_headline",C.SUBHEADER_REGISTER="journey2_choice_of_offer_register_subheader",C.REGISTER_CTA="journey2_choice_of_offer_register_cta",C.REQUIRED_FIELD="journey2_choice_of_offer_denotes_mandatory_field",C.FIRSTNAME_PLACEHOLDER="journey2_choice_of_offer_firstname_placeholder",C.SURNAME_PLACEHOLDER="journey2_choice_of_offer_surname_placeholder",C.EMAIL_PLACEHOLDER="journey2_choice_of_offer_email_placeholder",C.FIRSTNAME_LABEL="journey2_choice_of_offer_firstname_label",C.SURNAME_LABEL="journey2_choice_of_offer_surname_label",C.EMAIL_LABEL="journey2_choice_of_offer_email_label",C.FIRSTNAME_ERROR="journey2_choice_of_offer_firstname_error",C.SURNAME_ERROR="journey2_choice_of_offer_surname_error",C.EMAIL_ERROR="journey2_choice_of_offer_email_error",C.CANCEL_REGISTER="journey2_choice_of_offer_cancel_register",C.CORNERPEEL_HEADER="journey2_choice_of_offer_heading_for_corner_peel",C.CORNERPEEL_DESCRIPTION="journey2_choice_of_offer_sub_heading_for_corner_peel",C.CORNERPEEL_CTA="journey2_choice_of_offer_cta_for_corner_peel"},"./src/consumer/journey/utilities/events.ts":function(e,o,n){"use strict";n.d(o,{h7:()=>s,tc:()=>i,Mr:()=>_,wz:()=>c});let r=(e,o)=>{window.parent.postMessage(JSON.stringify(e),o)};n("../node_modules/process/browser.js");let t=function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*";r({...e,sourceName:window.name},o)},_=()=>{t({choice:"clickAction",clickType:"closeClick"})},s=()=>{t({choice:"clickAction",clickType:"openClick"})},i=()=>{t({choice:"clickAction",clickType:"closeCornerPeel"})},c=(e,o)=>{t({type:"ContentEvent",data:{eventType:"FOCUS_REQUEST",contentItem:e,offerId:o,fadeOthers:!0,closeOthers:!0}})}},"./src/shared/constants/filterOfferTypes.ts":function(e,o,n){"use strict";var r,t;n.d(o,{Z:function(){return _}}),(t=r||(r={})).REFERRAL="referral",t.NPS_ONLY="nps-only",t.NPS_REFERRAL="nps-referral",t.NPS_REFERRAL_INCENTIVE="nps-referral-incentive",t.NPS_INCENTIVE="nps-incentive",t.INCENTIVE="incentive",t.CHOICE_OF_OFFER="choice-of-offer",t.COS_ONLY="cos-only",t.COS_REFERRAL="cos-referral",t.CONTROL="control";let _=r},"./src/shared/constants/preview.ts":function(e,o,n){"use strict";var r,t,_,s,i,c;n.d(o,{_N:function(){return _},i4:function(){return r},me:function(){return t}}),(s=r||(r={})).VIEW="VIEW",s.EDIT="EDIT",s.PLACEHOLDERS="PLACEHOLDERS",(i=t||(t={})).MOBILE="mobile",i.DESKTOP="desktop",(c=_||(_={})).SMALL="small",c.LARGE="large"},"../node_modules/classnames/index.js":function(e){!function(){"use strict";var o={}.hasOwnProperty;function n(){for(var e="",t=0;t<arguments.length;t++){var _=arguments[t];_&&(e=r(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return n.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var _ in e)o.call(e,_)&&e[_]&&(t=r(t,_));return t}(_)))}return e}function r(e,o){return o?e?e+" "+o:e+o:e}e.exports?(n.default=n,e.exports=n):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return n}):window.classNames=n}()}}]);