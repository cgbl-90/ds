"use strict";(globalThis.webpackChunk_mention_me_frontend=globalThis.webpackChunk_mention_me_frontend||[]).push([["1999"],{"./src/consumer/journey/RegistrationPage/RegistrationPage.tsx":function(E,_,T){T.d(_,{Z:function(){return i}});var e=T("../node_modules/react/jsx-runtime.js"),n=T("../node_modules/react/index.js"),O=T("../node_modules/axios/lib/axios.js"),R=T("./src/shared/utilities/index.ts"),N=T("./src/shared/utilities/validation/index.ts"),S=T("./src/consumer/journey/components/ContentItem.tsx"),I=T("./src/consumer/journey/components/Header.tsx"),t=T("./src/consumer/journey/components/Input.tsx"),C=T("./src/consumer/journey/components/PageTransition.tsx"),a=T("./src/consumer/journey/components/TermsAndConditions.tsx"),r=T("./src/consumer/journey/hooks/JourneyContext.tsx");let o=E=>{let{situation:_,contentItems:T,onSubmit:o,onCancel:i,offer:{quickLinkCode:M},isInPreview:s,flowId:m,registerButton:u}=E,{user:{firstname:d,surname:l,email:U}}=(0,r.Lz)(),{setFirstname:A,setSurname:c,setEmail:F}=(0,r.Nk)(),[H,G]=(0,n.useState)(!1),[L,p]=(0,n.useState)(""),[W,V]=(0,n.useState)(""),[Y,f]=(0,n.useState)(""),v=d&&(0,N.Vt)(d)&&!L,y=l&&(0,N.Ez)(l)&&!W,h=U&&(0,N.Jh)(U)&&!Y,g=!v||!y||!h,P=(0,n.useCallback)(async E=>{if(E.preventDefault(),!s&&!g){G(!0);try{await O.Z.post((0,R.nu)("validate_registration",{quickLinkCode:M}),{Firstname:d,Surname:l,email:U,flowId:m}),o()}catch(O){var _,T,e,n,N,S,I,t,C,a,r,i,u,A;let E=null===(n=O.response)||void 0===n?void 0:null===(e=n.data)||void 0===e?void 0:null===(T=e.error)||void 0===T?void 0:null===(_=T.payload)||void 0===_?void 0:_.errors;p((null==E?void 0:null===(I=E.children)||void 0===I?void 0:null===(S=I.Firstname)||void 0===S?void 0:null===(N=S.errors)||void 0===N?void 0:N[0])||(null==E?void 0:null===(t=E.errors)||void 0===t?void 0:t[0])||""),V((null==E?void 0:null===(r=E.children)||void 0===r?void 0:null===(a=r.Surname)||void 0===a?void 0:null===(C=a.errors)||void 0===C?void 0:C[0])||""),f((null==E?void 0:null===(A=E.children)||void 0===A?void 0:null===(u=A.email)||void 0===u?void 0:null===(i=u.errors)||void 0===i?void 0:i[0])||""),G(!1)}}},[o,s,g,U,d,l,M,m]);return(0,e.jsxs)(C.Z,{className:`referrer referrer-register--${_}`,dataStage:"referrer-register",children:[(0,e.jsx)(I.Z,{tag:T.HEADLINE_REGISTER}),(0,e.jsx)(S.Z,{tag:T.SUBHEADER_REGISTER}),(0,e.jsxs)("form",{className:"mm-form",onSubmit:P,children:[(0,e.jsxs)("div",{className:"objectType",children:[(0,e.jsx)(t.Z,{id:"Firstname",placeholder:T.FIRSTNAME_PLACEHOLDER,label:T.FIRSTNAME_LABEL,error:v?void 0:T.FIRSTNAME_ERROR,errorString:L,value:d,onChange:E=>{A(E.target.value),p("")},maxLength:50,autoComplete:"given-name",required:!0}),(0,e.jsx)(t.Z,{id:"Surname",placeholder:T.SURNAME_PLACEHOLDER,label:T.SURNAME_LABEL,error:y?void 0:T.SURNAME_ERROR,errorString:W,value:l,onChange:E=>{c(E.target.value),V("")},maxLength:255,autoComplete:"family-name",required:!0}),(0,e.jsx)(t.Z,{id:"Email",placeholder:T.EMAIL_PLACEHOLDER,label:T.EMAIL_LABEL,error:h?void 0:T.EMAIL_ERROR,errorString:Y,type:"email",value:U,onChange:E=>{F(E.target.value),f("")},autoComplete:"email",required:!0})]}),(0,e.jsx)("div",{className:"mm-button",role:"button",children:(0,e.jsx)("button",{type:"submit",disabled:H,children:u||(0,e.jsx)(S.Z,{tag:T.REGISTER_CTA,hasNoWrapper:!0})})}),T.CANCEL_REGISTER&&i&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("button",{type:"button",className:"mm-back-from-registration-page",onClick:i,children:(0,e.jsx)(S.Z,{tag:T.CANCEL_REGISTER,hasNoWrapper:!0})})})]}),(0,e.jsx)("div",{className:"mm-denotes-mandatory-field journey2-denotes-mandatory-field",children:(0,e.jsx)(S.Z,{tag:T.REQUIRED_FIELD,hasNoWrapper:!0})}),(0,e.jsx)(a.Z,{})]})},i=o;o.__docgenInfo={description:"",methods:[],displayName:"RegistrationPage",props:{contentItems:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n    ORDER_COMPLETE: CONTENT_ITEMS;\n    HEADLINE_REGISTER: CONTENT_ITEMS;\n    SUBHEADER_REGISTER: CONTENT_ITEMS;\n    FIRSTNAME_PLACEHOLDER: CONTENT_ITEMS;\n    SURNAME_PLACEHOLDER: CONTENT_ITEMS;\n    EMAIL_PLACEHOLDER: CONTENT_ITEMS;\n    FIRSTNAME_LABEL: CONTENT_ITEMS;\n    SURNAME_LABEL: CONTENT_ITEMS;\n    EMAIL_LABEL: CONTENT_ITEMS;\n    FIRSTNAME_ERROR: CONTENT_ITEMS;\n    SURNAME_ERROR: CONTENT_ITEMS;\n    EMAIL_ERROR: CONTENT_ITEMS;\n    REGISTER_CTA: CONTENT_ITEMS;\n    REQUIRED_FIELD: CONTENT_ITEMS;\n    CANCEL_REGISTER?: CONTENT_ITEMS;\n}",signature:{properties:[{key:"ORDER_COMPLETE",value:{name:"union",raw:"| GLOBAL_CONTENT_ITEMS\n| REFERRER_CONTENT_ITEMS\n| IFA_CONTENT_ITEMS\n| NPS_CONTENT_ITEMS\n| CHOICE_OF_OFFER_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_ANSWERS",elements:[{name:"GLOBAL_CONTENT_ITEMS"},{name:"REFERRER_CONTENT_ITEMS"},{name:"IFA_CONTENT_ITEMS"},{name:"NPS_CONTENT_ITEMS"},{name:"CHOICE_OF_OFFER_CONTENT_ITEMS"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS"},{name:"union",raw:"| CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER",elements:[{name:"CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER"}]}],required:!1}},{key:"HEADLINE_REGISTER",value:{name:"union",raw:"| GLOBAL_CONTENT_ITEMS\n| REFERRER_CONTENT_ITEMS\n| IFA_CONTENT_ITEMS\n| NPS_CONTENT_ITEMS\n| CHOICE_OF_OFFER_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_ANSWERS",elements:[{name:"GLOBAL_CONTENT_ITEMS"},{name:"REFERRER_CONTENT_ITEMS"},{name:"IFA_CONTENT_ITEMS"},{name:"NPS_CONTENT_ITEMS"},{name:"CHOICE_OF_OFFER_CONTENT_ITEMS"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS"},{name:"union",raw:"| CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER",elements:[{name:"CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER"}]}],required:!1}},{key:"SUBHEADER_REGISTER",value:{name:"union",raw:"| GLOBAL_CONTENT_ITEMS\n| REFERRER_CONTENT_ITEMS\n| IFA_CONTENT_ITEMS\n| NPS_CONTENT_ITEMS\n| CHOICE_OF_OFFER_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_ANSWERS",elements:[{name:"GLOBAL_CONTENT_ITEMS"},{name:"REFERRER_CONTENT_ITEMS"},{name:"IFA_CONTENT_ITEMS"},{name:"NPS_CONTENT_ITEMS"},{name:"CHOICE_OF_OFFER_CONTENT_ITEMS"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS"},{name:"union",raw:"| CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER",elements:[{name:"CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER"}]}],required:!1}},{key:"FIRSTNAME_PLACEHOLDER",value:{name:"union",raw:"| GLOBAL_CONTENT_ITEMS\n| REFERRER_CONTENT_ITEMS\n| IFA_CONTENT_ITEMS\n| NPS_CONTENT_ITEMS\n| CHOICE_OF_OFFER_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_ANSWERS",elements:[{name:"GLOBAL_CONTENT_ITEMS"},{name:"REFERRER_CONTENT_ITEMS"},{name:"IFA_CONTENT_ITEMS"},{name:"NPS_CONTENT_ITEMS"},{name:"CHOICE_OF_OFFER_CONTENT_ITEMS"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS"},{name:"union",raw:"| CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER",elements:[{name:"CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER"}]}],required:!1}},{key:"SURNAME_PLACEHOLDER",value:{name:"union",raw:"| GLOBAL_CONTENT_ITEMS\n| REFERRER_CONTENT_ITEMS\n| IFA_CONTENT_ITEMS\n| NPS_CONTENT_ITEMS\n| CHOICE_OF_OFFER_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_ANSWERS",elements:[{name:"GLOBAL_CONTENT_ITEMS"},{name:"REFERRER_CONTENT_ITEMS"},{name:"IFA_CONTENT_ITEMS"},{name:"NPS_CONTENT_ITEMS"},{name:"CHOICE_OF_OFFER_CONTENT_ITEMS"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS"},{name:"union",raw:"| CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER",elements:[{name:"CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER"}]}],required:!1}},{key:"EMAIL_PLACEHOLDER",value:{name:"union",raw:"| GLOBAL_CONTENT_ITEMS\n| REFERRER_CONTENT_ITEMS\n| IFA_CONTENT_ITEMS\n| NPS_CONTENT_ITEMS\n| CHOICE_OF_OFFER_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_ANSWERS",elements:[{name:"GLOBAL_CONTENT_ITEMS"},{name:"REFERRER_CONTENT_ITEMS"},{name:"IFA_CONTENT_ITEMS"},{name:"NPS_CONTENT_ITEMS"},{name:"CHOICE_OF_OFFER_CONTENT_ITEMS"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS"},{name:"union",raw:"| CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER",elements:[{name:"CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER"}]}],required:!1}},{key:"FIRSTNAME_LABEL",value:{name:"union",raw:"| GLOBAL_CONTENT_ITEMS\n| REFERRER_CONTENT_ITEMS\n| IFA_CONTENT_ITEMS\n| NPS_CONTENT_ITEMS\n| CHOICE_OF_OFFER_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_ANSWERS",elements:[{name:"GLOBAL_CONTENT_ITEMS"},{name:"REFERRER_CONTENT_ITEMS"},{name:"IFA_CONTENT_ITEMS"},{name:"NPS_CONTENT_ITEMS"},{name:"CHOICE_OF_OFFER_CONTENT_ITEMS"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS"},{name:"union",raw:"| CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER",elements:[{name:"CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER"}]}],required:!1}},{key:"SURNAME_LABEL",value:{name:"union",raw:"| GLOBAL_CONTENT_ITEMS\n| REFERRER_CONTENT_ITEMS\n| IFA_CONTENT_ITEMS\n| NPS_CONTENT_ITEMS\n| CHOICE_OF_OFFER_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_ANSWERS",elements:[{name:"GLOBAL_CONTENT_ITEMS"},{name:"REFERRER_CONTENT_ITEMS"},{name:"IFA_CONTENT_ITEMS"},{name:"NPS_CONTENT_ITEMS"},{name:"CHOICE_OF_OFFER_CONTENT_ITEMS"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS"},{name:"union",raw:"| CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER",elements:[{name:"CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER"}]}],required:!1}},{key:"EMAIL_LABEL",value:{name:"union",raw:"| GLOBAL_CONTENT_ITEMS\n| REFERRER_CONTENT_ITEMS\n| IFA_CONTENT_ITEMS\n| NPS_CONTENT_ITEMS\n| CHOICE_OF_OFFER_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_ANSWERS",elements:[{name:"GLOBAL_CONTENT_ITEMS"},{name:"REFERRER_CONTENT_ITEMS"},{name:"IFA_CONTENT_ITEMS"},{name:"NPS_CONTENT_ITEMS"},{name:"CHOICE_OF_OFFER_CONTENT_ITEMS"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS"},{name:"union",raw:"| CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER",elements:[{name:"CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER"}]}],required:!1}},{key:"FIRSTNAME_ERROR",value:{name:"union",raw:"| GLOBAL_CONTENT_ITEMS\n| REFERRER_CONTENT_ITEMS\n| IFA_CONTENT_ITEMS\n| NPS_CONTENT_ITEMS\n| CHOICE_OF_OFFER_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_ANSWERS",elements:[{name:"GLOBAL_CONTENT_ITEMS"},{name:"REFERRER_CONTENT_ITEMS"},{name:"IFA_CONTENT_ITEMS"},{name:"NPS_CONTENT_ITEMS"},{name:"CHOICE_OF_OFFER_CONTENT_ITEMS"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS"},{name:"union",raw:"| CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER",elements:[{name:"CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER"}]}],required:!1}},{key:"SURNAME_ERROR",value:{name:"union",raw:"| GLOBAL_CONTENT_ITEMS\n| REFERRER_CONTENT_ITEMS\n| IFA_CONTENT_ITEMS\n| NPS_CONTENT_ITEMS\n| CHOICE_OF_OFFER_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_ANSWERS",elements:[{name:"GLOBAL_CONTENT_ITEMS"},{name:"REFERRER_CONTENT_ITEMS"},{name:"IFA_CONTENT_ITEMS"},{name:"NPS_CONTENT_ITEMS"},{name:"CHOICE_OF_OFFER_CONTENT_ITEMS"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS"},{name:"union",raw:"| CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER",elements:[{name:"CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER"}]}],required:!1}},{key:"EMAIL_ERROR",value:{name:"union",raw:"| GLOBAL_CONTENT_ITEMS\n| REFERRER_CONTENT_ITEMS\n| IFA_CONTENT_ITEMS\n| NPS_CONTENT_ITEMS\n| CHOICE_OF_OFFER_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_ANSWERS",elements:[{name:"GLOBAL_CONTENT_ITEMS"},{name:"REFERRER_CONTENT_ITEMS"},{name:"IFA_CONTENT_ITEMS"},{name:"NPS_CONTENT_ITEMS"},{name:"CHOICE_OF_OFFER_CONTENT_ITEMS"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS"},{name:"union",raw:"| CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER",elements:[{name:"CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER"}]}],required:!1}},{key:"REGISTER_CTA",value:{name:"union",raw:"| GLOBAL_CONTENT_ITEMS\n| REFERRER_CONTENT_ITEMS\n| IFA_CONTENT_ITEMS\n| NPS_CONTENT_ITEMS\n| CHOICE_OF_OFFER_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_ANSWERS",elements:[{name:"GLOBAL_CONTENT_ITEMS"},{name:"REFERRER_CONTENT_ITEMS"},{name:"IFA_CONTENT_ITEMS"},{name:"NPS_CONTENT_ITEMS"},{name:"CHOICE_OF_OFFER_CONTENT_ITEMS"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS"},{name:"union",raw:"| CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER",elements:[{name:"CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER"}]}],required:!1}},{key:"REQUIRED_FIELD",value:{name:"union",raw:"| GLOBAL_CONTENT_ITEMS\n| REFERRER_CONTENT_ITEMS\n| IFA_CONTENT_ITEMS\n| NPS_CONTENT_ITEMS\n| CHOICE_OF_OFFER_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_ANSWERS",elements:[{name:"GLOBAL_CONTENT_ITEMS"},{name:"REFERRER_CONTENT_ITEMS"},{name:"IFA_CONTENT_ITEMS"},{name:"NPS_CONTENT_ITEMS"},{name:"CHOICE_OF_OFFER_CONTENT_ITEMS"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS"},{name:"union",raw:"| CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER",elements:[{name:"CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER"}]}],required:!1}},{key:"CANCEL_REGISTER",value:{name:"union",raw:"| GLOBAL_CONTENT_ITEMS\n| REFERRER_CONTENT_ITEMS\n| IFA_CONTENT_ITEMS\n| NPS_CONTENT_ITEMS\n| CHOICE_OF_OFFER_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_ANSWERS",elements:[{name:"GLOBAL_CONTENT_ITEMS"},{name:"REFERRER_CONTENT_ITEMS"},{name:"IFA_CONTENT_ITEMS"},{name:"NPS_CONTENT_ITEMS"},{name:"CHOICE_OF_OFFER_CONTENT_ITEMS"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS"},{name:"union",raw:"| CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER",elements:[{name:"CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER"}]}],required:!1}}]}},description:""},onSubmit:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onCancel:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},registerButton:{required:!1,tsType:{name:"React.JSX.Element"},description:""},offer:{required:!0,tsType:{name:"Pick",elements:[{name:'intersection["offer"]',raw:'JourneyData["offer"]'},{name:"literal",value:'"quickLinkCode"'}],raw:'Pick<JourneyData["offer"], "quickLinkCode">'},description:""}}}},"./src/consumer/journey/components/Header.tsx":function(E,_,T){T.d(_,{Z:function(){return N}});var e=T("../node_modules/react/jsx-runtime.js"),n=T("./src/shared/hooks/useFocusTrap/index.ts"),O=T("./src/consumer/journey/components/ContentItem.tsx");let R=E=>{let{tag:_,shouldAutoFocus:T=!1,previewMode:R,id:N}=E,S=T?{...(0,n.S)(T),tabIndex:-1}:{};return(0,e.jsx)("div",{className:"mm-header","data-auto-class":"mm-header",children:(0,e.jsx)("h1",{...S,id:N,children:(0,e.jsx)(O.Z,{tag:_,hasNoWrapper:!0,_previewMode:R})})})},N=R;R.__docgenInfo={description:"",methods:[],displayName:"Header",props:{tag:{required:!0,tsType:{name:"union",raw:"| GLOBAL_CONTENT_ITEMS\n| REFERRER_CONTENT_ITEMS\n| IFA_CONTENT_ITEMS\n| NPS_CONTENT_ITEMS\n| CHOICE_OF_OFFER_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_ANSWERS",elements:[{name:"GLOBAL_CONTENT_ITEMS"},{name:"REFERRER_CONTENT_ITEMS"},{name:"IFA_CONTENT_ITEMS"},{name:"NPS_CONTENT_ITEMS"},{name:"CHOICE_OF_OFFER_CONTENT_ITEMS"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS"},{name:"union",raw:"| CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER",elements:[{name:"CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER"}]}]},description:""},shouldAutoFocus:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},previewMode:{required:!1,tsType:{name:"PREVIEW_MODE"},description:""},id:{required:!1,tsType:{name:"string"},description:""}}}},"./src/consumer/journey/components/Input.tsx":function(E,_,T){T.d(_,{Z:function(){return t}});var e=T("../node_modules/react/jsx-runtime.js"),n=T("../node_modules/react/index.js"),O=T("../node_modules/classnames/index.js"),R=T.n(O),N=T("./src/consumer/journey/hooks/useContentItem.tsx"),S=T("./src/consumer/journey/components/ContentItem.tsx");let I=E=>{let{id:_,placeholder:T,label:O,error:I,errorString:t,value:C,onChange:a,autoComplete:r,...o}=E,[i,M]=(0,n.useState)(!C),s=(0,n.useCallback)(E=>{i&&M(!E.target.value),null==a||a(E)},[i,M,a]),{contentItem:m}=(0,N.Z)(T),u=!i&&I;return(0,e.jsxs)("div",{className:R()("mm-input",{"mm-input-pristine":i,"mm-input__errors":u}),"data-auto-class":"consumer-input-wrapper",children:[(0,e.jsxs)("label",{htmlFor:_,className:"mm-input__label",children:[(0,e.jsx)(S.Z,{tag:O,hasNoWrapper:!0}),"\xa0",u&&(0,e.jsx)("span",{className:"mm-input__error",role:"alert",id:`${_}Error`,children:t||I&&(0,e.jsx)(S.Z,{tag:I,hasNoWrapper:!0})})]}),(0,e.jsx)("input",{name:_,id:_,className:"fieldfill mm-input__input",value:C,onChange:s,placeholder:(null==m?void 0:m.content)??"",autoComplete:r,"aria-describedby":u?`${_}Error`:void 0,...o})]})},t=I;I.__docgenInfo={description:"",methods:[],displayName:"Input",props:{id:{required:!0,tsType:{name:"string"},description:""},placeholder:{required:!0,tsType:{name:"union",raw:"| GLOBAL_CONTENT_ITEMS\n| REFERRER_CONTENT_ITEMS\n| IFA_CONTENT_ITEMS\n| NPS_CONTENT_ITEMS\n| CHOICE_OF_OFFER_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_ANSWERS",elements:[{name:"GLOBAL_CONTENT_ITEMS"},{name:"REFERRER_CONTENT_ITEMS"},{name:"IFA_CONTENT_ITEMS"},{name:"NPS_CONTENT_ITEMS"},{name:"CHOICE_OF_OFFER_CONTENT_ITEMS"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS"},{name:"union",raw:"| CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER",elements:[{name:"CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER"}]}]},description:""},label:{required:!0,tsType:{name:"union",raw:"| GLOBAL_CONTENT_ITEMS\n| REFERRER_CONTENT_ITEMS\n| IFA_CONTENT_ITEMS\n| NPS_CONTENT_ITEMS\n| CHOICE_OF_OFFER_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_ANSWERS",elements:[{name:"GLOBAL_CONTENT_ITEMS"},{name:"REFERRER_CONTENT_ITEMS"},{name:"IFA_CONTENT_ITEMS"},{name:"NPS_CONTENT_ITEMS"},{name:"CHOICE_OF_OFFER_CONTENT_ITEMS"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS"},{name:"union",raw:"| CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER",elements:[{name:"CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER"}]}]},description:""},error:{required:!1,tsType:{name:"union",raw:"| GLOBAL_CONTENT_ITEMS\n| REFERRER_CONTENT_ITEMS\n| IFA_CONTENT_ITEMS\n| NPS_CONTENT_ITEMS\n| CHOICE_OF_OFFER_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS\n| CUSTOMER_ORIGIN_SURVEY_ANSWERS",elements:[{name:"GLOBAL_CONTENT_ITEMS"},{name:"REFERRER_CONTENT_ITEMS"},{name:"IFA_CONTENT_ITEMS"},{name:"NPS_CONTENT_ITEMS"},{name:"CHOICE_OF_OFFER_CONTENT_ITEMS"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS"},{name:"union",raw:"| CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER\n| CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER",elements:[{name:"CUSTOMER_ORIGIN_SURVEY_ANSWERS_WITHOUT_OTHER"},{name:"CUSTOMER_ORIGIN_SURVEY_CONTENT_ITEMS.COS_ANSWER_OTHER"}]}]},description:""},errorString:{required:!1,tsType:{name:"string"},description:""},autoComplete:{required:!1,tsType:{name:"string"},description:""}}}},"./src/consumer/journey/components/PageTransition.tsx":function(E,_,T){T.d(_,{Z:()=>C});var e=T("../node_modules/react/jsx-runtime.js"),n=T("../node_modules/react/index.js"),O=T("../node_modules/classnames/index.js"),R=T.n(O),N=T("../node_modules/react-transition-group/esm/CSSTransition.js");let S="data-stage",I=E=>{(0,n.useEffect)(()=>{let _=document.querySelector('[data-react-container="europium"]');if(!!_)return _.setAttribute(S,E),()=>{_.getAttribute(S)===E&&_.removeAttribute(S)}},[E])},t=E=>{let{children:_,className:T,dataStage:O,...S}=E,t=(0,n.useRef)(null);return I(O),(0,e.jsx)(N.Z,{nodeRef:t,appear:!0,in:!0,classNames:"pageTransition-forward",onEntering:()=>{let E=t.current,_=null==E?void 0:E.parentElement;if(E&&_){let T=E.clientHeight+parseInt(window.getComputedStyle(E).marginTop,10)+parseInt(window.getComputedStyle(E).marginBottom,10);_.style.height=`${T}px`,_.style.overflow="hidden"}},onEntered:()=>{var E;let _=null===(E=t.current)||void 0===E?void 0:E.parentElement;_&&(_.style.height="",_.style.overflow="")},addEndListener:E=>{setTimeout(()=>{var _;return null===(_=t.current)||void 0===_?void 0:_.addEventListener("transitionend",()=>E,!1)},0)},children:(0,e.jsx)("div",{ref:t,className:R()(T,O),...S,children:_})})},C=t;t.__docgenInfo={description:"",methods:[],displayName:"PageTransition"}},"./src/consumer/journey/components/TermsAndConditions.tsx":function(E,_,T){T.d(_,{Z:function(){return N}});var e=T("../node_modules/react/jsx-runtime.js"),n=T("./src/consumer/journey/types.ts"),O=T("./src/consumer/journey/components/ContentItem.tsx");let R=()=>(0,e.jsxs)("div",{className:"mm-terms-and-conditions","data-auto-class":"mm-terms-and-conditions",children:[(0,e.jsx)(O.Z,{tag:n.I.TERMS_AND_CONDITIONS}),(0,e.jsx)(O.Z,{tag:n.I.FULLFRAME_TERMS})]}),N=R;R.__docgenInfo={description:"",methods:[],displayName:"TermsAndConditions"}},"./src/consumer/journey/mockData.tsx":function(E,_,T){T.d(_,{LT:function(){return I},Tn:function(){return N}});var e=T("./src/shared/constants/filterOfferTypes.ts"),n=T("./src/shared/constants/preview.ts"),O=T("./src/consumer/journey/hooks/JourneyContext.tsx"),R=T("./src/consumer/journey/types.ts");let N=[{id:"subOffer-1",isReferral:!0,contentItems:{[R.jy.CHOICE_OF_OFFER_HEADER]:{id:"1",content:"Referrer header"},[R.jy.CHOICE_OF_OFFER_CTA]:{id:"2",content:"Referrer button"}},url:"/referral"},{id:"subOffer-2",isIfa:!0,contentItems:{[R.mu.CHOICE_OF_OFFER_HEADER]:{id:"3",content:"IFA header"},[R.mu.CHOICE_OF_OFFER_CTA]:{id:"4",content:"IFA button"}},url:"/ifa"},{id:"subOffer-3",isNps:!0,contentItems:{[R.qo.CHOICE_OF_OFFER_HEADER]:{id:"5",content:"NPS header"},[R.qo.CHOICE_OF_OFFER_CTA]:{id:"6",content:"NPS button"}},url:"/nps"}],S={offer:{contentItems:{[R.zi.HEADLINE]:{id:"7",content:"Headline"},[R.zi.ORDER_COMPLETE]:{id:"8",content:"Order Complete!"},[R.zi.RESEGMENTATION_COMPLETE]:{id:"6",content:"Resegmented!"},[R.zi.ORDER_COMPLETE_ANONYMOUS]:{id:"9",content:"Order Complete!"},[R.zi.INFORMATION_NOTICE]:{id:"10",content:'Notice <a href="https://example.com/information_notice">click here</a>'},[R.zi.OFFER_HEADLINE]:{id:"11",content:"Link Headline"},[R.I.TERMS_AND_CONDITIONS]:{id:"12",content:"Terms and conditions"},[R.I.FULLFRAME_TERMS]:{id:"13",content:"Fullframe terms"},[R.I.POWERED_BY]:{id:"14",content:"Powered by Mention Me"},[R.zi.HEADLINE_REGISTER]:{id:"17",content:"Headline Register"},[R.zi.SUBHEADER_REGISTER]:{id:"18",content:"Subheader Register"},[R.zi.FIRSTNAME_PLACEHOLDER]:{id:"19",content:"Firstname placeholder"},[R.zi.SURNAME_PLACEHOLDER]:{id:"20",content:"Surname placeholder"},[R.zi.EMAIL_PLACEHOLDER]:{id:"21",content:"Email Placeholder"},[R.zi.FIRSTNAME_LABEL]:{id:"22",content:"Firstname Label*"},[R.zi.SURNAME_LABEL]:{id:"23",content:"Surname Label*"},[R.zi.EMAIL_LABEL]:{id:"24",content:"Email Label"},[R.zi.FIRSTNAME_ERROR]:{id:"25",content:"Firstname Error"},[R.zi.SURNAME_ERROR]:{id:"26",content:"Surname Error"},[R.zi.EMAIL_ERROR]:{id:"27",content:"Email Error"},[R.zi.REGISTER_CTA]:{id:"28",content:"Register Button"},[R.zi.REQUIRED_FIELD]:{id:"29",content:"* Required field"},[R.zi.CANCEL_REGISTER]:{id:"30",content:"Go back"},[R.zi.CORNERPEEL_HEADER]:{id:"31",content:"Header"},[R.zi.CORNERPEEL_DESCRIPTION]:{id:"32",content:"Description"},[R.zi.CORNERPEEL_CTA]:{id:"33",content:"CTA"}},subOffers:N,quickLinkCode:"",id:"123",type:e.Z.CHOICE_OF_OFFER},layout:"modal",situation:"postpurchase",showOrderComplete:!0,includePrivacyNotices:!0,includeMentionMeLogoInFlow:!0,preview:{mode:n.i4.VIEW},flowId:"",user:{email:"a@a.com",firstname:"test",surname:"test",saved:!0}},I=E=>(window.MentionMe={JourneyData:S},(0,O.o2)(E))},"./src/shared/constants/keyboardKeys.ts":function(E,_,T){T.d(_,{HF:function(){return O},KW:function(){return n},PC:function(){return R},tt:function(){return e}});let e="Enter",n="Escape",O="Tab",R=" "},"./src/shared/hooks/useFocusTrap/index.ts":function(E,_,T){T.d(_,{Z:()=>S,S:()=>N});var e=T("../node_modules/react/index.js"),n=T("./src/shared/constants/keyboardKeys.ts");let O=function(){let E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return Array.from(E.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(E=>E.offsetWidth>0&&E.offsetHeight>0).filter(E=>!E.hasAttribute("disabled")).filter(E=>"-1"!==E.getAttribute("tabindex"))},R=(E,_)=>{if(E.key===n.HF){let T=O(_),e=T[0],n=T[T.length-1];E.shiftKey?E.target===e&&(E.preventDefault(),E.stopImmediatePropagation(),null==n||n.focus()):E.target===n&&(E.preventDefault(),E.stopImmediatePropagation(),null==e||e.focus())}},N=E=>({"data-autofocus":E}),S=function(E){let _=!(arguments.length>1)||void 0===arguments[1]||arguments[1],T=!(arguments.length>2)||void 0===arguments[2]||arguments[2],n=(0,e.useRef)();(0,e.useEffect)(()=>{if(!_||!E.current)return;let e=E.current;document.hasFocus()&&(n.current=document.activeElement);let N=e.querySelector("[data-autofocus]")||O(e)[0];null==N||N.focus();let S=E=>{R(E,e)};return e.addEventListener("keydown",S),()=>{if(e.removeEventListener("keydown",S),T){var E;null===(E=n.current)||void 0===E||E.focus()}}},[_,E,T])}}}]);