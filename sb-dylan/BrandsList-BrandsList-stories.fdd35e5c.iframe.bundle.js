"use strict";(self.webpackChunkupro_web=self.webpackChunkupro_web||[]).push([[928],{"./components/BrandsList/BrandsList.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,Example:()=>Example,ExampleWithoutTitle:()=>ExampleWithoutTitle,__namedExportsOrder:()=>__namedExportsOrder,default:()=>BrandsList_stories});var cloneDeep=__webpack_require__("./node_modules/lodash/cloneDeep.js"),cloneDeep_default=__webpack_require__.n(cloneDeep),set=__webpack_require__("./node_modules/lodash/set.js"),set_default=__webpack_require__.n(set),common=__webpack_require__("./components/lib/storybook/common.ts"),jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),Carousel=__webpack_require__("./components/Carousel/Carousel.tsx"),ContentProvider=__webpack_require__("./components/ContentProvider/ContentProvider.tsx"),ImagePlaceholder=__webpack_require__("./components/ImagePlaceholder/ImagePlaceholder.tsx"),MultilineText=__webpack_require__("./components/MultilineText/MultilineText.tsx"),TextSkeleton=__webpack_require__("./components/Skeletons/TextSkeleton.tsx"),imageUrl=__webpack_require__("./apps/site/src/sanity/lib/imageUrl.ts"),url=__webpack_require__("./apps/site/src/sanity/lib/url.ts"),next_image=__webpack_require__("./node_modules/@storybook/nextjs/dist/images/next-image.mjs"),next_link=__webpack_require__("./node_modules/next/link.js"),link_default=__webpack_require__.n(next_link);const exampleBrand=(name,logo)=>({name,logo:{asset:{_ref:logo,_type:"reference",_weak:!1},_type:"image"},_id:name,action:{_type:"PageLinkAction",label:name,target:"_self",priority:"primary",pageLink:{_type:"BrandPage",title:name,slug:{_type:"slug",current:name.toLowerCase().replace(" ","-")}}}}),content={default:{brands:[]},example:{title:"Our Brands",brands:[exampleBrand("Brand A","image-765e86efce5775aaf14427ca6fb65f487f69c102-438x330-png"),exampleBrand("Brand B","image-ccfea29dbbac2eff298e9a7f119e135b7ef61f1e-210x170-svg"),exampleBrand("Brand C","image-4f7a16a38909579a5d4bc31f79c8f0e85c15f716-202x110-svg"),exampleBrand("Brand D","image-9de7c532f5abafeb182011c42451ce05a2d51c07-409x218-svg")]}},BrandsList=props=>(0,jsx_runtime.jsx)(ContentProvider.A,{props,defaultContent:content.default,children:props=>{const{content}=props;return content.brands.length?(0,jsx_runtime.jsx)("section",{className:"container",children:(0,jsx_runtime.jsxs)("div",{className:"bg-gray my-6 flex flex-col items-center justify-center rounded",children:[content.title&&(0,jsx_runtime.jsx)("h2",{className:"text-primary p-2 text-center text-lg font-bold",children:(0,jsx_runtime.jsx)(MultilineText.A,{text:content.title,children:(0,jsx_runtime.jsx)(TextSkeleton.A,{numLines:1,charsPerLine:15,textColor:"bg-primary"})})}),(0,jsx_runtime.jsx)(MobileBrandsCarousel,{...props}),(0,jsx_runtime.jsx)(DesktopBrandsCarousel,{...props})]})}):null}}),DesktopBrandsCarousel=({content})=>(0,jsx_runtime.jsx)("div",{className:"flex w-full items-center justify-center gap-10 px-24 py-3 sm:hidden md:px-20",children:content.brands.map(((brand,index)=>{const href=(0,url.X)(brand.action);return href?(0,jsx_runtime.jsx)(link_default(),{href,passHref:!0,children:brand.logo?(0,jsx_runtime.jsx)(next_image.A,{src:(0,imageUrl.d)(brand.logo).url(),alt:null!==(_brand_name=brand.name)&&void 0!==_brand_name?_brand_name:"brand",width:120,height:120,className:"max-w-full object-contain"}):(0,jsx_runtime.jsx)(ImagePlaceholder.A,{width:211,height:155})},index):null;var _brand_name}))}),MobileBrandsCarousel=({content})=>(0,jsx_runtime.jsx)("div",{className:"hidden w-full px-0 py-3 sm:block",children:(0,jsx_runtime.jsx)(Carousel.A,{className:"items-center",children:content.brands.map(((brand,index)=>{const href=(0,url.X)(brand.action);return href?(0,jsx_runtime.jsx)(link_default(),{href,passHref:!0,className:"w-full flex-shrink-0 snap-center",children:(0,jsx_runtime.jsx)("div",{className:"flex min-w-[120px] items-center justify-center",children:brand.logo?(0,jsx_runtime.jsx)(next_image.A,{src:(0,imageUrl.d)(brand.logo).url(),alt:null!==(_brand_name=brand.name)&&void 0!==_brand_name?_brand_name:"brand",width:120,height:120,className:"object-contain"}):(0,jsx_runtime.jsx)(ImagePlaceholder.A,{width:120,height:120})})},index):null;var _brand_name}))})}),BrandsList_BrandsList=BrandsList;BrandsList.__docgenInfo={description:"",methods:[],displayName:"BrandsList"};const BrandsList_stories={title:"Blocks/BrandsList",component:BrandsList_BrandsList},stories=(0,common.fe)(content),Default=stories.Default,Example=stories.Example,ExampleWithoutTitle=set_default()(cloneDeep_default()(Example),"args.content.title",null),__namedExportsOrder=["Default","Example","ExampleWithoutTitle"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"stories.Default",...Default.parameters?.docs?.source}}},Example.parameters={...Example.parameters,docs:{...Example.parameters?.docs,source:{originalSource:"stories.Example",...Example.parameters?.docs?.source}}},ExampleWithoutTitle.parameters={...ExampleWithoutTitle.parameters,docs:{...ExampleWithoutTitle.parameters?.docs,source:{originalSource:"set(cloneDeep(Example), 'args.content.title', null)",...ExampleWithoutTitle.parameters?.docs?.source}}}},"./components/Carousel/Carousel.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const Carousel=({children,className})=>{const carouselRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),[isFirstItemOutOfView,setIsFirstItemOutOfView]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[isOverflowing,setIsOverflowing]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[isAtEnd,setIsAtEnd]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),handleScroll=()=>{if(carouselRef.current){const isScrolled=carouselRef.current.scrollLeft>0;setIsFirstItemOutOfView(isScrolled),checkScrollPosition()}},checkOverflow=()=>{if(carouselRef.current){const isOverflowing=carouselRef.current.scrollWidth>carouselRef.current.clientWidth;setIsOverflowing(isOverflowing),checkScrollPosition()}},checkScrollPosition=()=>{if(carouselRef.current){const hasReachedEnd=carouselRef.current.scrollLeft+carouselRef.current.offsetWidth>=carouselRef.current.scrollWidth;setIsAtEnd(hasReachedEnd)}};return(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{const currentRef=carouselRef.current;return currentRef&&currentRef.addEventListener("scroll",handleScroll),window.addEventListener("resize",checkOverflow),checkOverflow(),()=>{currentRef&&currentRef.removeEventListener("scroll",handleScroll),window.removeEventListener("resize",checkOverflow)}}),[]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"relative",children:[isFirstItemOutOfView&&isOverflowing&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{onClick:()=>{carouselRef.current&&(carouselRef.current.scrollBy({left:-carouselRef.current.offsetWidth,behavior:"smooth"}),checkScrollPosition())},className:"absolute left-0 top-1/2 z-10 -translate-y-1/2 transform cursor-pointer transition-opacity duration-300 ease-in-out "+(isFirstItemOutOfView?"opacity-100":"pointer-events-none opacity-0"),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("img",{src:"/images/icons/carousel-left-arrow.svg",alt:"Left Arrow",className:"h-32 w-28 sm:h-24 sm:w-20"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref:carouselRef,className:`carousel scrollbar-hide w-full space-x-7 overflow-x-scroll ${className}`,children}),!isAtEnd&&isOverflowing&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{onClick:()=>{carouselRef.current&&(carouselRef.current.scrollBy({left:carouselRef.current.offsetWidth,behavior:"smooth"}),checkScrollPosition())},className:"absolute right-0 top-1/2 z-10 -translate-y-1/2 transform cursor-pointer transition-opacity duration-300 ease-in-out",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("img",{src:"/images/icons/carousel-right-arrow.svg",alt:"Right Arrow",className:"h-32 w-28 sm:h-24 sm:w-20"})})]})},__WEBPACK_DEFAULT_EXPORT__=Carousel;Carousel.__docgenInfo={description:"",methods:[],displayName:"Carousel",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}}}}]);